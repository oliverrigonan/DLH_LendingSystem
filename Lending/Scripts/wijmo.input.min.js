/*
    *
    * Wijmo Library 5.20171.300
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wijmo;(function(n){var t;(function(t){'use strict';var i=function(t){function i(i){var r=t.call(this,i,null,!0)||this,o,u,f,e;return r._showBtn=!0,r._autoExpand=!0,r._animate=!1,r.textChanged=new n.Event,r.isDroppedDownChanging=new n.Event,r.isDroppedDownChanged=new n.Event,o=r.getTemplate(),r.applyTemplate('wj-control wj-dropdown wj-content',o,{_tbx:'input',_btn:'btn',_dropDown:'dropdown'},'input'),r._elRef=r._tbx,r._createDropDown(),r._updateBtn(),u=r._dropDown,u&&u.parentElement&&u.parentElement.removeChild(u),n.addClass(r.hostElement,'wj-state-collapsed'),f=r._updateFocusState.bind(r),r.addEventListener(r.dropDown,'blur',f,!0),r.addEventListener(r.dropDown,'focus',f),e=r._keydown.bind(r),r.addEventListener(r.hostElement,'keydown',e),r.addEventListener(r.dropDown,'keydown',e),r.addEventListener(r._tbx,'keypress',function(n){n.keyCode==9787&&r._altDown&&n.preventDefault()}),r.addEventListener(r._tbx,'input',function(){r._setText(r.text,!1)}),r.addEventListener(r._tbx,'click',function(){r._autoExpand&&r._expandSelection()}),n.isIE9()&&r.addEventListener(r._tbx,'keyup',function(){r._setText(r.text,!1)}),r.addEventListener(r._btn,'click',r._btnclick.bind(r)),r.addEventListener(r._dropDown,'click',function(n){n.stopPropagation()}),r}return __extends(i,t),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!='none'},set:function(t){if(t=n.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly,t!=this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)){var r=this.hostElement,i=this._dropDown;t?(i.style.minWidth||(i.style.minWidth=r.getBoundingClientRect().width+'px'),i.style.display='block',this._updateDropDown()):(this.containsFocus()&&(this.isTouching&&this.showDropDownButton?this.focus():this.selectAll()),n.hidePopup(i));this._updateFocusState();n.toggleClass(r,'wj-state-collapsed',!this.isDroppedDown);this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(n.removeClass(this._dropDown,this._cssClass),this._cssClass=n.asString(t),n.addClass(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx?n.setSelectionRange(this._tbx,0,this.text.length):this.focus()},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n);this._updateState()},i.prototype.onIsDroppedDownChanging=function(n){return this.isDroppedDownChanging.raise(this,n),!n.cancel},i.prototype.onIsDroppedDownChanged=function(t){var i=this;this.removeEventListener(document,'mousedown');this.removeEventListener(document,'keydown');this.isDroppedDown&&!this.containsFocus()&&(this.addEventListener(document,'mousedown',function(t){n.contains(i.dropDown,t.target)||n.contains(i.hostElement,t.target)||(i.isDroppedDown=!1)}),this.addEventListener(document,'keydown',function(){i.containsFocus()||(i.isDroppedDown=!1)}));this.isDroppedDownChanged.raise(this,t)},i.prototype.onGotFocus=function(n){this.isTouching||this.selectAll();t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(n){this._commitText();this.containsFocus()||(this.isDroppedDown=!1);t.prototype.onLostFocus.call(this,n)},i.prototype.containsFocus=function(){return t.prototype.containsFocus.call(this)||n.contains(this._dropDown,n.getActiveElement())},i.prototype.dispose=function(){var i,r;this.isDroppedDown=!1;i=this.dropDown;i&&(r=n.Control.getControl(i),r?r.dispose():i.parentElement&&i.parentElement.removeChild(i));t.prototype.dispose.call(this)},i.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isDroppedDown&&getComputedStyle(this.hostElement).display!='none'){var r=n.getActiveElement();n.showPopup(this._dropDown,this.hostElement,!1,!1,this.dropDownCssClass==null);r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus()}},i.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},i.prototype._expandSelection=function(){var r=this._tbx,i=r.value,n=r.selectionStart,t=r.selectionEnd,u;if(i&&n==t&&(u=this._getCharType(i,n),u>-1)){for(;t<i.length;t++)if(this._getCharType(i,t)!=u)break;for(;n>0;n--)if(this._getCharType(i,n-1)!=u)break;n!=t&&r.setSelectionRange(n,t)}},i.prototype._getCharType=function(n,t){var i=n[t];return i>='0'&&i<='9'?0:i>='a'&&i<='z'||i>='A'&&i<='Z'?1:-1},i.prototype._keydown=function(t){if(!t.defaultPrevented){this._altDown=t.altKey;switch(t.keyCode){case n.Key.Tab:case n.Key.Escape:case n.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,t.keyCode==n.Key.Tab||this.containsFocus()||this.focus(),t.preventDefault());break;case n.Key.F4:case n.Key.Up:case n.Key.Down:(t.keyCode==n.Key.F4||t.altKey)&&n.contains(document.body,this.hostElement)&&(this.isDroppedDown=!this.isDroppedDown,t.preventDefault())}}},i.prototype._btnclick=function(){this.isDroppedDown=!this.isDroppedDown},i.prototype._setText=function(n){n==null&&(n='');n=n.toString();n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?'':'none'},i.prototype._createDropDown=function(){},i.prototype._commitText=function(){},i.prototype._updateDropDown=function(){this.isDroppedDown&&(this._commitText(),n.showPopup(this._dropDown,this.hostElement,!1,this._animate,this.dropDownCssClass==null))},i}(n.Control);i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100"><\/div><\/div>';t.DropDown=i})(t=n.input||(n.input={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.None=0]="None";n[n.Day=1]="Day";n[n.Month=2]="Month"})(i=t.DateSelectionMode||(t.DateSelectionMode={}));r=function(r){function u(t,u){var f=r.call(this,t)||this;return f._readOnly=!1,f._selMode=i.Day,f.valueChanged=new n.Event,f.displayMonthChanged=new n.Event,f.formatItem=new n.Event,f._value=n.DateTime.newDate(),f._currMonth=f._getMonth(f._value),f._createChildren(),f.refresh(!0),f.addEventListener(f.hostElement,'mouseup',f._click.bind(f)),f.addEventListener(f.hostElement,'keydown',f._keydown.bind(f)),f.initialize(u),f}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!0);t=this._clamp(t);this._valid(t)&&(this.displayMonth=this._getMonth(t),n.DateTime.equals(this._value,t)||(this._value=t,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var r,u;t!=this._selMode&&(this._selMode=n.asEnum(t,i),r=this._monthMode(),r&&(this.monthView=!1),u=this._btnMth.querySelector('.wj-glyph-down'),u&&(u.style.display=r?'none':''))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if(t=n.asNumber(t,!0),t&&(t>6||t<0))throw'firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).';this._fdw=t;this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){if(!n.DateTime.equals(this.displayMonth,t)){t=n.asDate(t);var i=this.monthView?this._monthInValidRange(t):this._yearInValidRange(t);i&&(this._currMonth=this._getMonth(this._clamp(t)),this.invalidate(!0),this.onDisplayMonthChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this._tbHdr.style.display!='none'},set:function(t){this._tbHdr.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"monthView",{get:function(){return this._tbMth.style.display!='none'},set:function(n){n!=this.monthView&&(this._tbMth.style.display=n?'':'none',this._tbYr.style.display=n?'none':'')},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){t!=this._itemValidator&&(this._itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.onDisplayMonthChanged=function(n){this.displayMonthChanged.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.refresh=function(i){var o,e,u,s,l,c,a,h,f;for(i===void 0&&(i=!0),s=this.displayMonth,l=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),r.prototype.refresh.call(this,i),this._firstDay=n.DateTime.addDays(s,-(s.getDay()-l+7)%7),n.setText(this._spMth,n.Globalize.format(s,'y')),o=this._tbMth.querySelectorAll('td'),f=0;f<7&&f<o.length;f++)u=n.DateTime.addDays(this._firstDay,f),n.setText(o[f],n.Globalize.format(u,'ddd'));for(f=7;f<o.length;f++)if(e=o[f],u=n.DateTime.addDays(this._firstDay,f-7),n.setText(e,u.getDate().toString()),e.className='',c=!this._valid(u),n.toggleClass(e,'wj-state-invalid',c),n.toggleClass(e,'wj-state-selected',n.DateTime.sameDate(u,this.value)),n.toggleClass(e,'wj-day-today',n.DateTime.sameDate(u,new Date)),n.toggleClass(e,'wj-day-othermonth',c||u.getMonth()!=s.getMonth()||!this._inValidRange(u)),this.itemFormatter&&this.itemFormatter(u,e),this.formatItem.hasHandlers){a=new t.FormatItemEventArgs(f,u,e);this.onFormatItem(a)}for(h=this._tbMth.querySelectorAll('tr'),h.length&&(u=n.DateTime.addDays(this._firstDay,28),h[h.length-2].style.display=u.getMonth()==s.getMonth()?'':'none',u=n.DateTime.addDays(this._firstDay,35),h[h.length-1].style.display=u.getMonth()==s.getMonth()?'':'none'),o=this._tbYr.querySelectorAll('td'),o.length&&n.setText(o[0],s.getFullYear().toString()),f=1;f<o.length;f++)e=o[f],u=new Date(s.getFullYear(),f-1,1),n.setText(e,n.Globalize.format(u,'MMM')),e.className='',n.toggleClass(e,'wj-state-disabled',!this._monthInValidRange(u)),n.toggleClass(e,'wj-state-selected',this._sameMonth(u,this.value))},u.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None},u.prototype._valid=function(n){return this.itemValidator&&n?this.itemValidator(n):!0},u.prototype._inValidRange=function(t){return this.min&&t<n.DateTime.fromDateTime(this.min,t)?!1:this.max&&t>n.DateTime.fromDateTime(this.max,t)?!1:!0},u.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=t.getMonth(),u=new Date(i,r,1),f=n.DateTime.addDays(new Date(i,r+1),-1);if(this.min&&this.min>f||this.max&&this.max<u)return!1}return!0},u.prototype._yearInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),r=new Date(i,0),u=n.DateTime.addDays(new Date(i+1,0),-1);if(this.min&&this.min>u||this.max&&this.max<r)return!1}return!0},u.prototype._sameMonth=function(t,i){return n.isDate(t)&&n.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()},u.prototype._clamp=function(t){var i,r;return t&&(this.min&&(i=n.DateTime.fromDateTime(this.min,t),t<i&&(t=i)),this.max&&(r=n.DateTime.fromDateTime(this.max,t),t>r&&(t=r))),t},u.prototype._createChildren=function(){var f=this.getTemplate(),n,i,t,r,u;for(this.applyTemplate('wj-control wj-calendar',f,{_tbHdr:'tbl-header',_btnMth:'btn-month',_spMth:'span-month',_btnPrv:'btn-prev',_btnTdy:'btn-today',_btnNxt:'btn-next',_tbMth:'tbl-month',_tbYr:'tbl-year'}),n=this._createElement('tr',this._tbMth,'wj-header'),t=0;t<7;t++)this._createElement('td',n);for(i=0;i<6;i++)for(n=this._createElement('tr',this._tbMth),t=0;t<7;t++)this._createElement('td',n);for(n=this._createElement('tr',this._tbYr,'wj-header'),this._createElement('td',n).setAttribute('colspan','4'),r=0;r<3;r++)for(n=this._createElement('tr',this._tbYr),u=0;u<4;u++)this._createElement('td',n)},u.prototype._createElement=function(t,i,r){var u=document.createElement(t);return i&&i.appendChild(u),r&&n.addClass(u,r),u},u.prototype._click=function(t){var r=!1,i=t.target,f,u;n.contains(this._btnMth,i)&&!this._monthMode()?(this.monthView=!this.monthView,r=!0):n.contains(this._btnPrv,i)?(this._navigate(-1),r=!0):n.contains(this._btnNxt,i)?(this._navigate(1),r=!0):n.contains(this._btnTdy,i)&&(this._navigate(0),r=!0);i&&!r&&(i=n.closest(i,'TD'),i&&(this.monthView?(f=this._getCellIndex(this._tbMth,i),f>6&&this._canChangeValue()&&(u=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,f-7),this.value),this._inValidRange(u)&&this._valid(u)&&(this.value=u),r=!0)):(f=this._getCellIndex(this._tbYr,i),f>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),f-1,1),this._monthMode()?this._canChangeValue()&&(u=n.DateTime.fromDateTime(this.displayMonth,this.value),this._inValidRange(u)&&(this.value=u)):this.monthView=!0,r=!0))));r&&(t.preventDefault(),this.focus())},u.prototype._getCellIndex=function(n,t){for(var r=n.querySelectorAll('TD'),i=0;i<r.length;i++)if(r[i]==t)return i;return-1},u.prototype._keydown=function(t){var r,e;if(!t.defaultPrevented&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey){var u=0,i=0,f=!0;if(this.monthView)switch(t.keyCode){case n.Key.Left:u=-1;break;case n.Key.Right:u=1;break;case n.Key.Up:u=-7;break;case n.Key.Down:u=7;break;case n.Key.PageDown:i=t.altKey?12:1;break;case n.Key.PageUp:i=t.altKey?-12:-1;break;default:f=!1}else switch(t.keyCode){case n.Key.Left:i=-1;break;case n.Key.Right:i=1;break;case n.Key.Up:i=-4;break;case n.Key.Down:i=4;break;case n.Key.PageDown:i=t.altKey?120:12;break;case n.Key.PageUp:i=t.altKey?-120:-12;break;case n.Key.Enter:this._monthMode()?f=!1:this.monthView=!0;break;default:f=!1}if(this.value&&this._canChangeValue()&&(u||i)){for(r=this.value,r=n.DateTime.addDays(r,u),r=n.DateTime.addMonths(r,i),e=0;!this._valid(r)&&e<31;e++)r=n.DateTime.addDays(r,u>0||i>0?1:-1);this.value=r}f&&t.preventDefault()}},u.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},u.prototype._monthMode=function(){return this.selectionMode==i.Month},u.prototype._navigate=function(t){var r=this.monthView,i;switch(t){case 0:i=new Date;r?this._canChangeValue()&&(this.value=n.DateTime.fromDateTime(i,this.value)):this._canChangeValue()&&(this.value=this._getMonth(i));this.displayMonth=this._getMonth(i);break;case 1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?1:12);break;case-1:this.displayMonth=n.DateTime.addMonths(this.displayMonth,r?-1:-12)}},u}(n.Control);r.controlTemplate='<div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month"/><table wj-part="tbl-year" class="wj-calendar-year" style="display:none"/><\/div>';t.Calendar=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(r,u){var f=t.call(this,r)||this,e,o,s;return f._hsb=[.5,1,1],f._alpha=1,f.valueChanged=new n.Event,e=f.getTemplate(),f.applyTemplate('wj-control wj-colorpicker wj-content',e,{_eSB:'div-sb',_eHue:'div-hue',_eAlpha:'div-alpha',_ePreview:'div-pv',_ePal:'div-pal',_eText:'div-text'}),f._palette='#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0'.split(','),f._updatePalette(),f._eHue.style.backgroundImage='url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)',f._eHue.style.backgroundSize='contain',navigator.appVersion.indexOf('MSIE 9')>-1&&(f._eSB.children[0].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)',f._eSB.children[1].style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)'),e=i._tplCursor,f._cSB=n.createElement(e),f._cHue=n.createElement(e),f._cHue.style.width='100%',f._cAlpha=n.createElement(e),f._cAlpha.style.height='100%',f._eSB.appendChild(f._cSB),f._eHue.appendChild(f._cHue),f._eAlpha.appendChild(f._cAlpha),f.addEventListener(f.hostElement,'mousedown',function(n){document.addEventListener('mousemove',o);document.addEventListener('mouseup',s);f._mouseDown(n)}),o=function(n){f._mouseMove(n)},s=function(n){document.removeEventListener('mousemove',o);document.removeEventListener('mouseup',s);f._mouseUp(n)},f.addEventListener(f.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&n.contains(f._ePal,i)&&(r=i.style.backgroundColor,r&&(f.value=new n.Color(r).toString()))}),f.value='#ffffff',f.initialize(u),f._updatePanels(),f}return __extends(i,t),Object.defineProperty(i.prototype,"showAlphaChannel",{get:function(){return this._eAlpha.parentElement.style.display!='none'},set:function(t){this._eAlpha.parentElement.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showColorString",{get:function(){return this._eText.style.display!='none'},set:function(t){this._eText.style.display=n.asBoolean(t)?'':'none'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){this._value=n.asString(t);this._eText.innerText=this._value;var r=new n.Color(this._value),i=r.getHsb();(this._hsb[0]!=i[0]||this._hsb[1]!=i[1]||this._hsb[2]!=i[2]||this._alpha!=r.a)&&(i[2]==0?(i[0]=this._hsb[0],i[1]=this._hsb[1]):i[1]==0&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=r.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this._palette},set:function(t){var i,r;for(t=n.asArray(t),i=0;i<t.length&&i<this._palette.length;i++)r=n.asString(t[i]),this._palette[i]=r;this._updatePalette()},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this._updatePanels();this.valueChanged.raise(this,n)},i.prototype._mouseDown=function(n){this._htDown=this._getTargetPanel(n);this._htDown&&(n.preventDefault(),this.focus(),this._mouseMove(n))},i.prototype._mouseMove=function(t){if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=n.clamp((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=n.clamp((t.clientX-i.left)/i.width,0,1),this._hsb[2]=n.clamp(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=n.clamp((t.clientX-i.left)/i.width,0,1),this._updateColor())}},i.prototype._mouseUp=function(){this._htDown=null},i.prototype._updateColor=function(){var t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()},i.prototype._updatePalette=function(){var o=new n.Color('#fff'),s=new n.Color('#000'),r,t,e;for(this._ePal.innerHTML='',r=0;r<this._palette.length;r++){var u=n.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),i=new n.Color(this._palette[r]),f=i.getHsb();for(u.appendChild(this._makePalEntry(i,4)),t=0;t<5;t++)f[1]==0?(e=t*.1+(f[2]>.5?.05:.55),i=n.Color.interpolate(o,s,e)):i=n.Color.fromHsb(f[0],.1+t*.2,1-t*.1),u.appendChild(this._makePalEntry(i,0));this._ePal.appendChild(u)}},i.prototype._makePalEntry=function(t,i){var r=document.createElement('div');return n.setCss(r,{cursor:'pointer',backgroundColor:t.toString(),marginBottom:i?i:''}),r.innerHTML='&nbsp',r},i.prototype._updatePanels=function(){var i=n.Color.fromHsb(this._hsb[0],1,1,1),t=n.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=i.toString();this._eAlpha.style.background='linear-gradient(to right, transparent 0%, '+t.toString()+' 100%)';navigator.appVersion.indexOf('MSIE 9')>-1&&(this._eAlpha.style.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr='+t.toString()+', GradientType = 1)');this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(this._hsb[0]*100).toFixed(0)+'%';this._cSB.style.left=(this._hsb[1]*100).toFixed(0)+'%';this._cSB.style.top=(100-this._hsb[2]*100).toFixed(0)+'%';this._cAlpha.style.left=(this._alpha*100).toFixed(0)+'%'},i.prototype._getTargetPanel=function(t){var i=t.target;return n.contains(this._eSB,i)?this._eSB:n.contains(this._eHue,i)?this._eHue:n.contains(this._eAlpha,i)?this._eAlpha:null},i}(n.Control);i.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;<\/div><div style="height:6px"><\/div><\/div><\/div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"><\/div><\/div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"><\/div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"><\/div><\/div><div style="float:left;width:1%;height:89%"><\/div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"><\/div><\/div><div style="float:left;width:89%;height:1%"><\/div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"><\/div><\/div><\/div><div style="float:left;width:1%;height:10%"><\/div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"><\/div><\/div><\/div><\/div>';i._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>';t.ColorPicker=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var r=function(t){function r(i,r){var u=t.call(this,i)||this,f;return u._pathDisplay=new n.Binding(null),u._pathValue=new n.Binding(null),u._pathChecked=new n.Binding(null),u._html=!1,u._checkedItems=[],u._search='',u.selectedIndexChanged=new n.Event,u.itemsChanged=new n.Event,u.loadingItems=new n.Event,u.loadedItems=new n.Event,u.itemChecked=new n.Event,u.checkedItemsChanged=new n.Event,u.formatItem=new n.Event,u.applyTemplate('wj-control wj-listbox wj-content',null,null),u._orgTag=='SELECT'&&u._populateSelectElement(u.hostElement),f=u.hostElement,u.addEventListener(f,'click',u._click.bind(u)),u.addEventListener(f,'keydown',u._keydown.bind(u)),u.addEventListener(f,'keypress',u._keypress.bind(u)),u.addEventListener(f,'wheel',function(n){f.scrollHeight>f.offsetHeight&&(n.deltaY<0&&f.scrollTop==0||n.deltaY>0&&f.scrollTop+f.offsetHeight>=f.scrollHeight)&&(n.preventDefault(),n.stopPropagation())}),u.initialize(r),u}return __extends(r,t),r.prototype.refresh=function(){t.prototype.refresh.call(this);(this.displayMemberPath||!this.checkedMemberPath)&&this._populateList()},Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){t!=this.displayMemberPath&&(this._pathDisplay.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){t!=this.checkedMemberPath&&(this._pathChecked.path=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),r.prototype.getDisplayValue=function(t){var i=null,r;return t>-1&&n.hasItems(this._cv)&&(i=this._cv.items[t],this.displayMemberPath&&(i=this._pathDisplay.getValue(i))),r=i!=null?i.toString():'',this.itemFormatter&&(r=this.itemFormatter(t,r)),r},r.prototype.getDisplayText=function(n){var t=this.hostElement.children,i=n>-1&&n<t.length?t[n]:null;return i!=null?i.textContent:''},Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=this._pathValue.getValue(n)),n},set:function(n){var r=this.selectedValuePath,u=-1,t,i;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(i=this._cv.items[t],r&&this._pathValue.getValue(i)==n||!r&&i==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){var n=this.hostElement;return n?parseFloat(n.style.maxHeight):null},set:function(t){var i=this.hostElement;i&&(i.style.maxHeight=n.asNumber(t)+'px')},enumerable:!0,configurable:!0}),r.prototype.showSelection=function(){for(var u,f,i=this.selectedIndex,e=this.hostElement,r=e.children,t,o=0;o<r.length;o++)t=r[o],n.toggleClass(t,'wj-state-selected',o==i);i>-1&&i<r.length&&(t=r[i],u=t.getBoundingClientRect(),f=e.getBoundingClientRect(),u.bottom>f.bottom?e.scrollTop+=u.bottom-f.bottom:u.top<f.top&&(e.scrollTop-=f.top-u.top));i>-1&&this.containsFocus()&&(t=r[i],t instanceof HTMLElement&&!n.contains(t,n.getActiveElement())&&t.focus())},r.prototype.getItemChecked=function(t){var r=this._cv.items[t],i;return n.isObject(r)&&this.checkedMemberPath?this._pathChecked.getValue(r):(i=this._getCheckbox(t),i?i.checked:!1)},r.prototype.setItemChecked=function(n,t){this._setItemChecked(n,t,!0)},r.prototype.toggleItemChecked=function(n){this.setItemChecked(n,!this.getItemChecked(n))},Object.defineProperty(r.prototype,"checkedItems",{get:function(){if(this._checkedItems.splice(0,this._checkedItems.length),this._cv)for(var n=0;n<this._cv.items.length;n++)this.getItemChecked(n)&&this._checkedItems.push(this._cv.items[n]);return this._checkedItems},set:function(t){var i=this._cv,u=this.hostElement,f=n.asArray(t,!1),e,o,r,s;if(i&&f){for(e=i.currentPosition,o=u.scrollTop,r=0;r<i.items.length;r++)s=i.items[r],this._setItemChecked(r,f.indexOf(s)>-1,!1);i.moveCurrentToPosition(e);u.scrollTop=o;this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),r.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},r.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},r.prototype.onLoadingItems=function(n){this.loadingItems.raise(this,n)},r.prototype.onLoadedItems=function(n){this.loadedItems.raise(this,n)},r.prototype.onItemChecked=function(n){this.itemChecked.raise(this,n)},r.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},r.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},r.prototype._setItemChecked=function(t,i,r){var u,f,e;r===void 0&&(r=!0);u=this._cv.items[t];n.isObject(u)&&(f=n.tryCast(this._cv,'IEditableCollectionView'),this._pathChecked.getValue(u)!=i&&(this._checking=!0,f?(f.editItem(u),this._pathChecked.setValue(u,i),f.commitEdit()):(this._pathChecked.setValue(u,i),this._cv.refresh()),this._checking=!1));e=this._getCheckbox(t);e&&e.checked!=i&&(e.checked=i);r&&(this.onItemChecked(),this.onCheckedItemsChanged())},r.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},r.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},r.prototype._populateList=function(){var f=this.hostElement,e,t,u,o,r,s;if(f){if(e=this.containsFocus(),this.onLoadingItems(),f.innerHTML='',this._cv)for(t=0;t<this._cv.items.length;t++){if(u=this.getDisplayValue(t),this._html!=!0&&(u=n.escapeHtml(u)),this.checkedMemberPath&&(o=this._pathChecked.getValue(this._cv.items[t]),u='<label><input type="checkbox"'+(o?' checked':'')+'> '+u+'</label>'),r=document.createElement('div'),r.innerHTML=u,r.className='wj-listbox-item',n.hasClass(r.firstChild,'wj-separator')&&(r.className+=' wj-separator'),this.formatItem.hasHandlers){s=new i(t,this._cv.items[t],r);this.onFormatItem(s)}f.appendChild(r)}f.children.length==0&&f.appendChild(document.createElement('div'));e&&!this.containsFocus()&&this.focus();this.showSelection();this.onLoadedItems()}},r.prototype._click=function(t){var r,i,u;if(!t.defaultPrevented){for(r=this.hostElement.children,i=0;i<r.length;i++)if(n.contains(r[i],t.target)){this.selectedIndex=i;break}i=this.selectedIndex;this.checkedMemberPath&&i>-1&&(u=this._getCheckbox(i),u==t.target&&this.setItemChecked(i,u.checked))}},r.prototype._keydown=function(t){var u=this.selectedIndex,o=this.hostElement,f=o.children,i,r,s;if(!t.defaultPrevented){if(t.keyCode==65&&(t.ctrlKey||t.metaKey)&&this.checkedMemberPath&&n.hasItems(this.collectionView)){this.checkedItems=this.getItemChecked(0)?[]:this.collectionView.items;t.preventDefault();return}if(!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey)switch(t.keyCode){case n.Key.Down:for(t.preventDefault(),i=this.selectedIndex+1;i<f.length;i++)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Up:for(t.preventDefault(),i=this.selectedIndex-1;i>=0;i--)if(this.getDisplayText(i)){this.selectedIndex=i;break}break;case n.Key.Home:t.preventDefault();this.selectedIndex=0;break;case n.Key.End:t.preventDefault();this.selectedIndex=f.length-1;break;case n.Key.PageDown:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u+1;i<this._cv.items.length;i++){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToLast()}break;case n.Key.PageUp:if(t.preventDefault(),this.selectedIndex>-1){var u=this.selectedIndex,h=o.offsetHeight,e=0;for(i=u-1;i>0;i--){if(r=f[i].scrollHeight,e+r>h){this.selectedIndex=i;break}e+=r}this.selectedIndex==u&&this._cv.moveCurrentToFirst()}break;case n.Key.Space:this.checkedMemberPath&&this.selectedIndex>-1&&(s=this._getCheckbox(this.selectedIndex),s&&(this.hostElement.focus(),this.setItemChecked(this.selectedIndex,!s.checked),t.preventDefault()))}}},r.prototype._keypress=function(n){var i=this,t;n.defaultPrevented||n.target instanceof HTMLInputElement||(n.charCode>32||n.charCode==32&&this._search)&&(n.preventDefault(),this._search+=String.fromCharCode(n.charCode).toLowerCase(),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null;i._search=''},r._AUTOSEARCH_DELAY),t=this._findNext(),t<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],t=this._findNext()),t>-1&&(this.selectedIndex=t))},r.prototype._findNext=function(){var i,n,t,r,u;if(this.hostElement)for(i=this.hostElement.childElementCount,n=this.selectedIndex,(n<0||this._search.length==1)&&n++,t=0;t<i;t++)if(r=(n+t)%i,u=this.getDisplayText(r).trim().toLowerCase(),u.indexOf(this._search)==0)return r;return-1},r.prototype._getCheckbox=function(n){var t=this.hostElement;return t&&n>-1&&n<t.children.length?t.children[n].querySelector('input[type=checkbox]'):null},r.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=='OPTION'&&(t.hasAttribute('selected')&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute('value'),cmdParam:t.getAttribute('cmd-param')}):i.push({hdr:'<div class="wj-separator"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath='hdr',this.selectedValuePath='val',this.itemsSource=i,this.selectedIndex=f)},r}(n.Control),i;r._AUTOSEARCH_DELAY=600;t.ListBox=r;i=function(t){function i(i,r,u){var f=t.call(this)||this;return f._index=n.asNumber(i),f._data=r,f._item=n.asType(u,HTMLElement),f}return __extends(i,t),Object.defineProperty(i.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),i}(n.EventArgs);t.FormatItemEventArgs=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=i.call(this,t)||this;return u._editable=!1,u._delKey=0,u._composing=!1,u._settingText=!1,u._pathHdr=new n.Binding(null),u.selectedIndexChanged=new n.Event,n.addClass(u.hostElement,'wj-combobox'),u.autoExpandSelection=!1,u.addEventListener(u._tbx,'compositionstart',function(){u._composing=!0}),u.addEventListener(u._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text,!0)})}),u.addEventListener(u.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isDroppedDown&&!u.isReadOnly&&u.containsFocus()&&u.selectedIndex>-1){var i=n.clamp(-t.deltaY,-1,1);u.selectedIndex=n.clamp(u.selectedIndex-i,0,u.collectionView.items.length-1);t.preventDefault()}}),u._orgTag=='SELECT'&&u._lbx._populateSelectElement(u.hostElement),u._lbx.loadedItems.addHandler(function(){u.selectedIndex>-1&&(u.selectedIndex=u._lbx.selectedIndex)}),u.isRequired=!0,u.initialize(r),u}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=n.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t);this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);n=this.selectedIndex;var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(t){this._lbx.maxHeight=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown;return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown;i.style.maxWidth=n.asNumber(t)+'px'},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(t){if(t===void 0&&(t=this.selectedIndex),this.headerPath&&t>-1&&n.hasItems(this.collectionView)){var r=this.collectionView.items[t],i=r?this._pathHdr.getValue(r):null;return i=i!=null?i.toString():'',this.isContentHtml&&(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent),i.trim()}return this._lbx.getDisplayText(t).trim()},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(t,i){var e=this.collectionView,u,r,f;if(n.hasItems(e)&&t!=null){if(u=this.selectedIndex,i&&t==this.getDisplayText(u))return u;for(t=t.toString().toLowerCase(),r=0;r<e.items.length;r++)if(f=this.getDisplayText(r).toLowerCase(),i){if(f==t)return r}else if(t&&f.indexOf(t)==0)return r}return-1},Object.defineProperty(r.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),r.prototype.refresh=function(t){i.prototype.refresh.call(this,t);n.hasItems(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},r.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0));this.isEditable&&this.isRequired&&!this.text&&n.hasItems(this.collectionView)&&(this.selectedIndex=0);i.prototype.onLostFocus.call(this,t)},r.prototype.onIsDroppedDownChanging=function(t){return!this.isDroppedDown&&!n.hasItems(this.collectionView)?(t.cancel=!0,!1):i.prototype.onIsDroppedDownChanging.call(this,t)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._lbx.showSelection(),this.isTouching||this.selectAll())},r.prototype._updateBtn=function(){var t=this.collectionView;this._btn.style.display=this._showBtn&&t!=null?'':'none';n.enable(this._btn,n.hasItems(t))},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n._updateBtn()});this.addEventListener(this._dropDown,'click',this._dropDownClick.bind(this))},r.prototype._dropDownClick=function(n){n.defaultPrevented||n.target!=this._dropDown&&(this.isDroppedDown=!1)},r.prototype._setText=function(t,r){var s,f;if(!this._composing&&!this._settingText){this._settingText=!0;t==null&&(t='');t=t.toString();var u=this.selectedIndex,o=this.collectionView,e=this._getSelStart(),h=-1;if(this._delKey&&(r=!0,this._delKey==n.Key.Back&&t.length>0&&!this.isEditable&&n.hasItems(o)&&(e--,t=t.substr(0,e))),this._delKey?u=this.indexOf(t,!0):(u=this.indexOf(t,r),u<0&&r&&(u=this.indexOf(t,!1)),u<0&&e>0&&(u=this.indexOf(t.substr(0,e),!1))),u<0&&!this.isEditable&&n.hasItems(o)&&(this.isRequired||t))for(s=this._oldText||'',u=Math.max(0,this.indexOf(s,!1)),f=0;f<t.length&&f<s.length;f++)if(t[f]!=s[f]){e=f;break}u>-1&&(h=e,t=this.getDisplayText(u));t!=this._tbx.value&&(this._tbx.value=t);h>-1&&this.containsFocus()&&!this.isTouching&&this._setSelRange(h,t.length);o&&o.moveCurrentToPosition(u);i.prototype._setText.call(this,t,r);this._delKey=0;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,r,f,u,e;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,u=1;u<=i;u++)if(r=(this.selectedIndex+u*t+i)%i,f=this.getDisplayText(r).toLowerCase(),f&&f.indexOf(n)==0&&(e=this.dropDown.children[r],!e||!e.getAttribute('disabled')))return r;return this.selectedIndex},r.prototype._keydown=function(t){if((i.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly)&&this._elRef==this._tbx&&((t.keyCode==n.Key.Back||t.keyCode==n.Key.Delete)&&(this._delKey=t.keyCode),n.hasItems(this.collectionView)))switch(t.keyCode){case n.Key.Up:case n.Key.Down:var r=this._getSelStart();r==this.text.length&&(r=0);this.selectedIndex=this._findNext(this.text.substr(0,r),t.keyCode==n.Key.Up?-1:1);n.setSelectionRange(this._tbx,r,this.text.length);t.preventDefault()}},r.prototype._setSelRange=function(t,i){this._elRef==this._tbx&&n.setSelectionRange(this._tbx,t,i)},r.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},r}(t.DropDown);t.ComboBox=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this;return u._cssMatch='wj-autocomplete-match',u._minLength=2,u._maxItems=6,u._itemCount=0,u._delay=500,u._query='',u._inCallback=!1,u._srchProps=[],n.addClass(u.hostElement,'wj-autocomplete'),u.isEditable=!0,u.isRequired=!1,u.isContentHtml=!0,u.listBox.formatItem.addHandler(u._formatListItem,u),u._itemsSourceFnCallBackBnd=u._itemSourceFunctionCallback.bind(u),u.initialize(r),u}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=n.asString(t);this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t);n.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallBackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case n.Key.Up:case n.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)},i.prototype._setText=function(n){var t=this;if(!this._inCallback){if(!n&&this.selectedIndex>-1&&(this.selectedIndex=-1),n!=this._oldText&&(this._tbx.value!=n&&(this._tbx.value=n),this._oldText=n,this.onTextChanged(),!n&&this.collectionView)){this.collectionView.filter=this._query=null;this.isDroppedDown=!1;return}this._toSearch&&clearTimeout(this._toSearch);n!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length>=t._minLength&&n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp('(?=.*'+n.replace(/ /g,')(?=.*')+')','ig'),t._rxHighlight=t.isContentHtml?new RegExp('('+n.replace(/ /g,'|')+')(?![^<]*>|[^<>]* </)','ig'):new RegExp('('+n.replace(/ /g,'|')+')','ig'),t.itemsSourceFunction?t.itemsSourceFunction(n,t.maxItems,t._itemsSourceFnCallBackBnd):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this._inCallback=!1;this.containsFocus()&&(this.isDroppedDown=!0,this.refresh())},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n);this._query='';this.containsFocus()&&(this.selectedIndex>-1?(this._setText(this.getDisplayText()),this.isTouching||this.selectAll()):this.isTouching||this._tbx.focus())},i.prototype._updateItems=function(){var n=this.collectionView;n&&(this._inCallback=!0,n.beginUpdate(),this._itemCount=0,n.filter=this._filter.bind(this),n.moveCurrentToPosition(-1),n.endUpdate(),this._inCallback=!1,this.isDroppedDown=n.items.length>0&&this.containsFocus(),n.items.length!=0||this.isEditable||(this.selectedIndex=-1),this.refresh())},i.prototype._filter=function(n){var t,i;if(this._itemCount>=this._maxItems)return!1;if(t=this._getItemText(n,!1),this._srchProps)for(i=0;i<this._srchProps.length;i++)t+='\0'+n[this._srchProps[i]];return(this.isContentHtml&&(t=t.replace(/<[^>]*>/g,'')),t.match(this._rxMatch))?(this._itemCount++,!0):!1},i.prototype._getItemText=function(n,t){var i=n?n.toString():'',r=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return r&&(i=r.getValue(n)),i},i.prototype._formatListItem=function(n,t){if(this._cssMatch){var i='<span class="'+this._cssMatch+'">$1</span>';t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,i)}},i}(t.ComboBox);t.AutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this,f;return u.itemClicked=new n.Event,n.addClass(u.hostElement,'wj-menu'),u._tbx.style.display='none',f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>',u._hdr=n.createElement(f),u._tbx.parentElement.insertBefore(u._hdr,u._tbx),u._elRef=u._hdr,u.isRequired=!1,u._orgTag=='SELECT'&&(u.header=u.hostElement.getAttribute('header'),u._lbx.itemsSource&&(u.commandParameterPath='cmdParam')),u.isContentHtml=!0,u.maxDropDownHeight=500,u.addEventListener(u._hdr,'click',function(n){n.defaultPrevented||(u._isButton?(u.isDroppedDown=!1,u._raiseCommand()):u.isDroppedDown=!u.isDroppedDown)}),u.initialize(r),u}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=n.asType(t,HTMLElement,!0);this._enableDisableItems()},enumerable:!0,configurable:!0}),i.prototype.show=function(t){if(!this.isDroppedDown){var i=this.dropDown;this.selectedIndex=-1;this.onIsDroppedDownChanging(new n.CancelEventArgs)&&(n.showPopup(i,t),this.onIsDroppedDownChanged(),i.focus())}},i.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new n.CancelEventArgs)&&(n.hidePopup(this.dropDown),this.onIsDroppedDownChanged())},i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown?(this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus()):this.selectedItem||(this.selectedItem=this._defaultItem)},i.prototype._keydown=function(i){i.defaultPrevented||i.keyCode==n.Key.Enter&&(this.isDroppedDown?this.getDisplayText(this.selectedIndex)&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()));t.prototype._keydown.call(this,i)},i.prototype._dropDownClick=function(n){n.defaultPrevented||n.target==this.dropDown||this.getDisplayText(this.selectedIndex)&&this._raiseCommand();t.prototype._dropDownClick.call(this,n)},i.prototype._raiseCommand=function(n){var r=this.selectedItem,t=this._getCommand(r),i;if(t){if(i=this._cmdParamPath?r[this._cmdParamPath]:null,!this._canExecuteCommand(t,i))return;this._executeCommand(t,i)}this.onItemClicked(n)},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i.prototype._enableDisableItems=function(){var i,t,r,u,f;if(this.collectionView&&(this.command||this.commandPath))for(i=this.collectionView.items,t=0;t<i.length;t++)r=this._getCommand(i[t]),u=this.commandParameterPath?i[t][this.commandParameterPath]:null,r&&(f=this._lbx.hostElement.children[t],n.toggleClass(f,'wj-state-disabled',!this._canExecuteCommand(r,u)))},i}(t.ComboBox);t.Menu=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();wijmo.culture.MultiSelect=window.wijmo.culture.MultiSelect||{itemsSelected:'{count:n0} items selected'},function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this;return u._maxHdrItems=2,u._readOnly=!1,u._hdrFmt=n.culture.MultiSelect.itemsSelected,u.checkedItemsChanged=new n.Event,n.addClass(u.hostElement,'wj-multiselect'),u._tbx.readOnly=!0,u.checkedMemberPath=null,u.addEventListener(u.inputElement,'click',function(){u.isDroppedDown=!u.isDroppedDown}),u.removeEventListener(u.dropDown,'click'),u._updateHeader(),u.listBox.itemsChanged.addHandler(function(){u._updateHeader()}),u.listBox.checkedItemsChanged.addHandler(function(){u._updateHeader();u.onCheckedItemsChanged()}),u.initialize(r),u}return __extends(i,t),Object.defineProperty(i.prototype,"checkedMemberPath",{get:function(){var n=this.listBox.checkedMemberPath;return n!=i._DEF_CHECKED_PATH?n:null},set:function(t){t=n.asString(t);this.listBox.checkedMemberPath=t?t:i._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){this._maxHdrItems!=t&&(this._maxHdrItems=n.asNumber(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){t!=this._hdrFmt&&(this._hdrFmt=n.asString(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){t!=this._hdrFormatter&&(this._hdrFormatter=n.asFunction(t),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=n.asArray(t)},enumerable:!0,configurable:!0}),i.prototype.onCheckedItemsChanged=function(n){this.checkedItemsChanged.raise(this,n)},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(n){n===void 0&&(n=!0);t.prototype.refresh.call(this,n);this._updateHeader()},i.prototype.onIsDroppedDownChanged=function(n){var i=this;t.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this.containsFocus()&&setTimeout(function(){i.dropDown.focus()},200)},i.prototype._setText=function(){},i.prototype._keydown=function(i){t.prototype._keydown.call(this,i);!i.defaultPrevented&&n.hasItems(this.collectionView)&&i.keyCode>32&&(this.isDroppedDown=!0,this.dropDown.focus())},i.prototype._updateHeader=function(){var t,r,i;if(this._hdrFormatter)this.inputElement.value=this._hdrFormatter();else{if(t=this.checkedItems,r='',t.length>0)if(t.length<=this._maxHdrItems){if(this.displayMemberPath)for(i=0;i<t.length;i++)t[i]=t[i][this.displayMemberPath];r=t.join(', ')}else r=n.format(this.headerFormat,{count:t.length});this.inputElement.value=r}this._updateState()},i}(t.ComboBox);i._DEF_CHECKED_PATH='$checked';t.MultiSelect=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this;return u._selItems=[],u._lastInputValue='',u._selPath=new n.Binding(null),u._notAddItm=!1,u.selectedItemsChanged=new n.Event,n.addClass(u.hostElement,'wj-multi-autocomplete'),u.showDropDownButton=!1,u.initialize(r),u._wjTpl=u.hostElement.querySelector('.wj-template'),u._wjInput=u.hostElement.querySelector('.wj-input'),u.addEventListener(u.hostElement,'keyup',u._keyup.bind(u),!0),u.addEventListener(window,'resize',u._adjustInputWidth.bind(u)),u.addEventListener(u._tbx,'focus',function(){u._itemOff()}),u._addHelperInput(),u._initSeltems(),u.listBox.itemsChanged.addHandler(function(){return u.selectedIndex=-1}),u._refreshHeader(),u}return __extends(i,t),Object.defineProperty(i.prototype,"showDropDownButton",{set:function(){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxSelectedItems",{get:function(){return this._maxtems},set:function(t){this._maxtems!=t&&(this._maxtems=n.asNumber(t,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){t=n.asString(t);t!==this.selectedMemberPath&&(this._selPath.path=t,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){var i,r;if(this._selItems=n.asArray(t),this.selectedMemberPath&&this.selectedMemberPath!==''&&this._selItems)for(i=0;i<this._selItems.length;i++)r=this._selItems[i],this._setSelItem(r,!1);this._updateMaxItems();this.onSelectedItemsChanged();this._refreshHeader();this._clearSelIndex()},enumerable:!0,configurable:!0}),i.prototype.onSelectedItemsChanged=function(n){this.selectedItemsChanged.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0);this._notAddItm=!1;t.prototype.onIsDroppedDownChanged.call(this,n)},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._initSeltems();this.isDroppedDown||this._refreshHeader()},i.prototype._keydown=function(i){if(!this.isReadOnly){if(!i.defaultPrevented)switch(i.keyCode){case n.Key.Back:this._lastInputValue=this._tbx.value;break;case n.Key.Enter:this._itemOff();this._addItem(!0);n.isIE&&n.setSelectionRange(this._tbx,0,0);break;case n.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value='',this._lbx.selectedIndex=-1,i.preventDefault()):this._updateFocus();break;case n.Key.Space:if(this._tbx.value!=='')return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case n.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case n.Key.Left:this._itemOn(!0);break;case n.Key.Right:this._itemOn(!1);break;case n.Key.Up:case n.Key.Down:var r=n.getActiveElement();if(i.altKey){if(this._tbx==r){this.isDroppedDown=!this.isDroppedDown;this.isDroppedDown||this._tbx.focus();i.preventDefault();return}}else if(this._tbx!==r)return;default:if(i.keyCode===n.Key.Back||i.keyCode===n.Key.Delete)return;this._itemOff();this._maxtems!=null&&this._selItems.length>=this._maxtems&&i.preventDefault()}t.prototype._keydown.call(this,i)}},i.prototype._updateState=function(){(t.prototype._updateState.call(this),this._wjTpl)&&n.hasClass(this.hostElement,'wj-state-focused')===!1&&this._itemOff()},i.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case n.Key.Back:this._tbx.value.length===0&&this._lastInputValue.length===0&&this._delItem(!1);break;case n.Key.Delete:this._delItem(!0)}},i.prototype._addHelperInput=function(){var n=document.createElement("input");n.type='text';n.tabIndex=-1;n.className='wj-token-helper';n.readOnly=!0;this._wjTpl.insertBefore(n,this._wjInput);this._helperInput=n},i.prototype._refreshHeader=function(){for(var t,i=this.hostElement.querySelectorAll('.wj-token'),n=0;n<i.length;n++)this._wjTpl.removeChild(i[n]);if(t=this.selectedItems,t&&t.length!==0){if(this.rightToLeft)for(n=t.length-1;n>=0;n--)this._insertToken(t[n]);else for(n=0;n<t.length;n++)this._insertToken(t[n]);this._adjustInputWidth()}},i.prototype._insertToken=function(t){var i=this._getItemText(t,!0);this.isContentHtml?(this._cvt||(this._cvt=document.createElement('div')),this._cvt.innerHTML=i,i=this._cvt.textContent.trim()):i=n.escapeHtml(i);this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},i.prototype._updateMaxItems=function(){this._maxtems!=null&&this._selItems&&this._selItems.length>this._maxtems&&(this._selItems=this._selItems.slice(0,this._maxtems))},i.prototype._updateFocus=function(){var r=this,t=this._wjTpl.querySelector('.'+i._clsActive);t?(n.removeClass(t,i._clsActive),setTimeout(function(){r._tbx.focus()})):(this._clearSelIndex(),n.removeClass(this.hostElement,'wj-state-focused'))},i.prototype._addItem=function(n){if(this.selectedItems.indexOf(this.selectedItem)>-1){this._clearSelIndex();return}this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),n&&this._clearSelIndex(),this._disableInput(!0))},i.prototype._delItem=function(n){var r=this._wjTpl.querySelector('.'+i._clsActive),u,t,f=!1;(!n||r)&&(r?(t=this._getItemIndex(r),t>-1&&(t=this.rightToLeft?this._selItems.length-1-t:t,u=this._selItems[t],f=!0)):(u=this._selItems[this.rightToLeft?0:this._selItems.length-1],f=!0),f&&(this._updateSelItems(u,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},i.prototype._updateSelItems=function(n,t){if(t){if(this._selItems&&this._selItems.length!==0||(this._selItems=[]),this._maxtems!=null&&this._selItems.length>=this._maxtems)return;this._selItems.push(n)}else{var i=this._selItems.indexOf(n);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(n,t);this.onSelectedItemsChanged()},i.prototype._createItem=function(t){var r=this,u=document.createElement("div"),e=document.createElement("span"),f=document.createElement("a");return u.appendChild(e),u.appendChild(f),u.className='wj-token',e.className='wj-token-label',e.innerHTML=t,f.className='wj-token-close',f.href='#',f.tabIndex=-1,f.text='×',this.addEventListener(u,'click',function(t){r._helperInput.focus();var f=r._wjTpl.querySelector('.'+i._clsActive);f&&n.removeClass(f,i._clsActive);n.addClass(u,i._clsActive);t.stopPropagation();t.preventDefault()}),this.addEventListener(f,'click',function(n){var t,i;r.isReadOnly||(t=r._getItemIndex(u),t>-1&&(i=r._selItems[r.rightToLeft?r._selItems.length-1-t:t],r._updateSelItems(i,!1)),r._wjTpl.removeChild(u),r._adjustInputWidth(),r._disableInput(!1),r._tbx.focus(),n.stopPropagation(),n.preventDefault())}),u},i.prototype._itemOn=function(t){var e=n.getActiveElement(),r,f,u;if((this._tbx!=e||this._tbx.value.length===0)&&(r=this._wjTpl.querySelectorAll('.wj-token'),r.length!==0))if(f=this._wjTpl.querySelector('.'+i._clsActive),u=this._getItemIndex(f),t){if(u===0)return;u===-1?(n.addClass(r[r.length-1],i._clsActive),this._helperInput.focus()):(n.removeClass(f,i._clsActive),n.addClass(r[u-1],i._clsActive),this._helperInput.focus())}else if(!t){if(u===-1)return;u!==r.length-1?(n.removeClass(f,i._clsActive),n.addClass(r[u+1],i._clsActive),this._helperInput.focus()):(n.removeClass(f,i._clsActive),this._tbx.focus())}},i.prototype._itemOff=function(){var t=this._wjTpl.querySelector('.'+i._clsActive);t&&n.removeClass(t,i._clsActive)},i.prototype._initSeltems=function(){var t,n;if(this.selectedMemberPath&&this.selectedMemberPath!==''&&(t=this.itemsSource,this._selItems.splice(0,this._selItems.length),t))for(n=0;n<t.sourceCollection.length;n++)this._getSelItem(n)&&this._selItems.push(t.sourceCollection[n])},i.prototype._getSelItem=function(t){var r=this.itemsSource.sourceCollection,i=r[t];return n.isObject(i)&&this.selectedMemberPath?this._selPath.getValue(i):!1},i.prototype._setSelItem=function(t,i){var r=this.itemsSource;n.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)},i.prototype._clearSelIndex=function(){this.selectedIndex=-1},i.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&this.selectedMemberPath!==''},i.prototype._disableInput=function(){this._maxtems!=null&&(this._selItems.length<this._maxtems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},i.prototype._adjustInputWidth=function(){this._tbx.style.width='60px';var t=n.getElementRect(this.hostElement),r=n.getElementRect(this._tbx),i=getComputedStyle(this._tbx),u=parseInt(i.paddingLeft,10),f=parseInt(i.paddingRight,10),e=t.left+t.width-r.left-u-f-8;this._tbx.style.width=e+'px'},i.prototype._getItemIndex=function(n){for(var i=this.hostElement.querySelectorAll('.wj-token'),t=0;t<i.length;t++)if(n===i[t])return t;return-1},i}(t.AutoComplete);i._clsActive='wj-token-active';t.MultiAutoComplete=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.None=0]="None";n[n.Click=1]="Click";n[n.Blur=2]="Blur";n[n.ClickOrBlur=3]="ClickOrBlur"})(i=t.PopupTrigger||(t.PopupTrigger={}));r=function(t){function r(r,u){var f=t.call(this,r,null,!0)||this,e;return f._showTrigger=i.Click,f._hideTrigger=i.Blur,f._fadeIn=!0,f._fadeOut=!0,f._click=f._handleClick.bind(f),f._mousedown=f._handleMouseDown.bind(f),f._visible=!1,f.showing=new n.Event,f.shown=new n.Event,f.hiding=new n.Event,f.hidden=new n.Event,e=f.hostElement,n.addClass(e,'wj-control wj-content wj-popup'),e.getAttribute('tabindex')||(e.tabIndex=0),n.hidePopup(e,!1),f.addEventListener(e,'keydown',function(t){if(!t.defaultPrevented&&(t.keyCode==n.Key.Escape&&(t.preventDefault(),f.hide()),t.keyCode==n.Key.Enter)){var i=f.dialogResultEnter;i&&(t.preventDefault(),f._validateAndHide(i))}}),f.addEventListener(e,'keydown',function(t){!t.defaultPrevented&&f.modal&&t.keyCode==n.Key.Tab&&(t.preventDefault(),n.moveFocus(f.hostElement,t.shiftKey?-1:1))}),f.addEventListener(e,'click',function(n){if(n.target instanceof HTMLElement){var i=n.target,t=i.className.match(/\bwj-hide[\S]*\b/);t&&t.length>0&&(n.preventDefault(),n.stopPropagation(),f.hide(t[0]))}}),f.addEventListener(document,'wheel',function(n){if(f.isVisible&&f._modal){for(var t=n.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;n.preventDefault();n.stopPropagation()}}),f.initialize(u),f}return __extends(r,t),Object.defineProperty(r.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&(this.removeEventListener(this._owner,'mousedown'),this.removeEventListener(this._owner,'click'));this._owner=t!=null?n.getElement(t):null;this._owner&&(this.addEventListener(this._owner,'mousedown',this._mousedown,!0),this.addEventListener(this._owner,'click',this._click,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(n){n!=this.content&&(this.hostElement.innerHTML='',n instanceof HTMLElement&&this.hostElement.appendChild(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=n.asEnum(t,i)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResult",{get:function(){return this._result},set:function(n){this._result=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(n){this._resultEnter=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){var n=this.hostElement;return this._visible&&n&&n.style.display!='none'},enumerable:!0,configurable:!0}),r.prototype.show=function(t,i){var r=this,u,f;if(!this.isVisible&&(this.dialogResult=null,this._callback=null,u=new n.CancelEventArgs,this.onShowing(u))){t!=null&&(this.modal=n.asBoolean(t));i!=null&&(this._callback=n.asFunction(i));f=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,f,!1,this._fadeIn);this._modal&&this._showBackdrop();this._visible=!0;this.onShown(u);setTimeout(function(){if(!r.isTouching){var t=r.hostElement.querySelector('input[autofocus]');t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!n.closest(t,'[disabled],.wj-state-disabled')?(t.focus(),t.select()):n.moveFocus(r.hostElement,0)}r.containsFocus()||(r.hostElement.tabIndex=0,r.hostElement.focus())},200)}},r.prototype.hide=function(t){if(this.isVisible){n.isUndefined(t)||(this.dialogResult=t);var i=new n.CancelEventArgs;if(this.onHiding(i)){this._modal&&n.hidePopup(this._bkdrop,!0,this.fadeOut);n.hidePopup(this.hostElement,!0,this.fadeOut);this._visible=!1;this.onHidden(i);this._callback&&this._callback(this)}}},r.prototype.onShowing=function(n){return this.showing.raise(this,n),!n.cancel},r.prototype.onShown=function(n){this.shown.raise(this,n)},r.prototype.onHiding=function(n){return this.hiding.raise(this,n),!n.cancel},r.prototype.onHidden=function(n){this.hidden.raise(this,n)},r.prototype.dispose=function(){this._owner=null;t.prototype.dispose.call(this)},r.prototype.onLostFocus=function(n){this.isVisible&&this._hideTrigger&i.Blur&&(this.containsFocus()||this.hide());t.prototype.onLostFocus.call(this,n)},r.prototype.refresh=function(i){if(i===void 0&&(i=!0),t.prototype.refresh.call(this,i),this.isVisible&&!this._refreshing){this._refreshing=!0;var r=n.getActiveElement(),u=this._owner?this._owner.getBoundingClientRect():null;n.showPopup(this.hostElement,u);this._modal&&r instanceof HTMLElement&&r!=n.getActiveElement()&&r.focus();this._refreshing=!1}},r.prototype._handleResize=function(){this.isVisible&&this.refresh()},r.prototype._handleClick=function(){if(this.isVisible)this._hideTrigger&i.Click&&this.hide();else if(this._showTrigger&i.Click&&!this._wasVisible){var n=this.hostElement;n&&n.style.display=='none'&&this.show()}},r.prototype._handleMouseDown=function(){this._wasVisible=this.isVisible},r.prototype._showBackdrop=function(){var t=this,r;this._bkdrop||(this._bkdrop=document.createElement('div'),this._bkdrop.tabIndex=-1,n.addClass(this._bkdrop,'wj-popup-backdrop'),this.addEventListener(this._bkdrop,'mousedown',function(n){n.preventDefault();n.stopPropagation();t.hostElement.focus();t.hideTrigger&i.Blur&&t.hide()}));this._bkdrop.style.display='';r=this.hostElement;r.parentElement.insertBefore(this._bkdrop,r)},r.prototype._validateAndHide=function(n){var t=this.hostElement.querySelector(':invalid');t?t.focus():this.hide(n)},r}(n.Control);t.Popup=r})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=i.call(this,r)||this,e;return f._format='d',f.valueChanged=new n.Event,n.addClass(f.hostElement,'wj-inputdate'),f._msk=new n._MaskProvider(f._tbx),n.isIE9()||(f._tbx.type='tel'),f.addEventListener(f.hostElement,'wheel',function(i){if(!i.defaultPrevented&&!f.isDroppedDown&&f.containsFocus()&&f.value!=null&&f._canChangeValue()){var r=n.clamp(-i.deltaY,-1,1);f.value=f.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(f.value,r):n.DateTime.addDays(f.value,r);f.selectAll();i.preventDefault()}}),f.value=n.DateTime.newDate(),f._orgTag=='INPUT'&&(e=f._tbx.getAttribute('value'),e&&(f.value=n.Globalize.parseDate(e,'yyyy-MM-dd'))),f.isRequired=!0,f.initialize(u),f}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.isRequired||t==null&&this._value==null),t=this._clamp(t),this._isValidDate(t)?(this._tbx.value=t?n.Globalize.format(t,this.format):'',t==this._value||n.DateTime.equals(this._value,t)||(this._value=t,this.onValueChanged())):this._tbx.value=t?n.Globalize.format(this.value,this.format):'',this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(n){this.calendar.selectionMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._calendar.min},set:function(t){this._calendar.min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._calendar.max},set:function(t){this._calendar.max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(t){t!=this.itemValidator&&(this._calendar.itemValidator=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(t){t!=this.itemFormatter&&(this.calendar.itemFormatter=n.asFunction(t))},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._msk&&this._msk.refresh();this._calendar&&this._calendar.refresh();this._tbx.value=n.Globalize.format(this.value,this.format)},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus())},r.prototype._createDropDown=function(){var i=this;this._calendar=new t.Calendar(this._dropDown);this._dropDown.tabIndex=-1;this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value);i._calChanged=!0});this.addEventListener(this._dropDown,'mouseup',function(t){i._calChanged&&!n.closest(t.target,'.wj-calendar-header')?i.isDroppedDown=!1:t.target.getAttribute('wj-part')=='btn-today'&&(i.isDroppedDown=!1)})},r.prototype._updateDropDown=function(){var n,r;this._commitText();n=this._calendar;n.value=this.value;n.min=this.min;n.max=this.max;this.selectionMode!=t.DateSelectionMode.Month&&(n.monthView=!0);r=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=parseFloat(r.fontSize)*18+'px';this._calendar.refresh();i.prototype._updateDropDown.call(this)},r.prototype._keydown=function(r){if(!r.defaultPrevented&&!r.altKey&&!r.ctrlKey&&!r.metaKey)switch(r.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll();break;case n.Key.Up:case n.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var u=r.keyCode==n.Key.Up?1:-1,f=this.selectionMode==t.DateSelectionMode.Month?n.DateTime.addMonths(this.value,u):n.DateTime.addDays(this.value,u);this.value=n.DateTime.fromDateTime(f,this.value);this.selectAll();r.preventDefault()}}i.prototype._keydown.call(this,r)},r.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=t.DateSelectionMode.None},r.prototype._clamp=function(n){return this.calendar._clamp(n)},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._isValidDate=function(n){return n&&(this._clamp(n)!=n||this.itemValidator&&!this.itemValidator(n))?!1:!0},r}(t.DropDown);t.InputDate=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this,f;return u._format='t',u.valueChanged=new n.Event,n.addClass(u.hostElement,'wj-inputtime'),u._value=n.DateTime.newDate(),u._msk=new n._MaskProvider(u._tbx),n.isIE9()||(u._tbx.type='tel'),u._orgTag=='INPUT'&&(f=u._tbx.getAttribute('value'),f&&(u.value=n.Globalize.parseDate(f,'HH:mm:ss'))),u.step=15,u.autoExpandSelection=!0,u.initialize(r),u}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.isRequired);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));this._setText(t?n.Globalize.format(t,this.format):'',!0);t==this._value||n.DateTime.equals(t,this._value)||(this._value=t,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format),this.collectionView&&this.collectionView.items.length&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._msk.refresh();this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndex>-1&&this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),u=[],t,f;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),n.isNumber(this.step)&&this.step>0)for(t=i;t<=r;t=n.DateTime.addMinutes(t,this.step))u.push(n.Globalize.format(t,this.format));f=this.text;this.itemsSource=u;this.text=f},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i.prototype._keydown=function(i){if(t.prototype._keydown.call(this,i),!i.defaultPrevented)switch(i.keyCode){case n.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case n.Key.Escape:this.text=n.Globalize.format(this.value,this.format);this.selectAll()}},i.prototype._commitText=function(){if(this.text||this.isRequired){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i}(t.ComboBox);t.InputTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=i.call(this,r)||this,e,o;return n.addClass(f.hostElement,'wj-inputdatetime'),f._btnTm=f.hostElement.querySelector('[wj-part="btn-tm"]'),f._format='g',f._inputTime=new t.InputTime(document.createElement('div')),f._inputTime.valueChanged.addHandler(function(){f.value=n.DateTime.fromDateTime(f.value,f._inputTime.value);f.containsFocus()&&(f.isTouching&&f.showDropDownButton||f.selectAll())}),e=f._inputTime.dropDown,o=f._keydown.bind(f),f.addEventListener(e,'keydown',o,!0),f.addEventListener(e,'blur',function(){f._updateFocusState()},!0),f.addEventListener(f._btnTm,'click',f._btnclick.bind(f)),f.addEventListener(f._btn,'mousedown',function(){f._setDropdown(f.calendar.hostElement)}),f.addEventListener(f._btnTm,'mousedown',function(n){f.isDroppedDown&&f.dropDown==e&&n.preventDefault();f._inputTime.dropDownCssClass=f.dropDownCssClass;f._setDropdown(e)}),f.initialize(u),f}return __extends(r,i),Object.defineProperty(r.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(n){this._inputTime.min=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(n){this._inputTime.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(n){this._inputTime.format=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(n){this._inputTime.step=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){i.prototype.refresh.call(this);this._inputTime.refresh()},r.prototype._updateBtn=function(){i.prototype._updateBtn.call(this);this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},r.prototype._clamp=function(n){return n&&(this.min&&n<this.min&&(n=this.min),this.max&&n>this.max&&(n=this.max)),n},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.isRequired?(t=n.Globalize.parseDate(i,this.format),t?this.value=t:this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDropdown=function(n){this._dropDown!=n&&(this.isDroppedDown&&(this.isDroppedDown=!1),this._dropDown=n)},r.prototype._updateDropDown=function(){var n=this._inputTime;this._dropDown==n.dropDown?(this._commitText(),i.prototype._updateDropDown.call(this),n.isRequired=this.isRequired,n.value=this.value,this.isDroppedDown&&n.listBox.showSelection()):i.prototype._updateDropDown.call(this)},r}(t.InputDate);i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span class="wj-input-group-btn" tabindex="-1"><button wj-part="btn" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-calendar"><\/span><\/button><button wj-part="btn-tm" class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-clock"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;width:auto"><\/div><\/div>';t.InputDateTime=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this,e,f;return u._showBtn=!0,u._readOnly=!1,u.textChanged=new n.Event,u.valueChanged=new n.Event,e=u.getTemplate(),u.applyTemplate('wj-control wj-inputnumber wj-content',e,{_tbx:'input',_btnUp:'btn-inc',_btnDn:'btn-dec'},'input'),f=u._tbx,f.autocomplete='off',f.spellcheck=!1,u._updateSymbols(),u.addEventListener(u._tbx,'compositionstart',function(){u._composing=!0}),u.addEventListener(u._tbx,'compositionend',function(){u._composing=!1;setTimeout(function(){u._setText(u.text)})}),u.addEventListener(f,'keypress',u._keypress.bind(u)),u.addEventListener(f,'keydown',u._keydown.bind(u)),u.addEventListener(f,'input',u._input.bind(u)),u.addEventListener(u._btnUp,'click',u._clickSpinner.bind(u)),u.addEventListener(u._btnDn,'click',u._clickSpinner.bind(u)),u.addEventListener(u.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!u.isReadOnly&&u.containsFocus()&&u.value!=null){var i=n.clamp(-t.deltaY,-1,1);u._increment((u.step||1)*i);setTimeout(function(){return u.selectAll()});t.preventDefault()}}),u.value=0,u.isRequired=!0,u.initialize(r),u}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.isRequired||t==null&&this._value==null),t==null)this._setText('');else if(!isNaN(t)){var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this.inputElement.readOnly=this._readOnly;n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._oldText=null,this._setText(n))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){n.setSelectionRange(this._tbx,0,this._tbx.value.length)},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n);this._updateState()},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.onGotFocus=function(n){this.isTouching||(this._tbx.focus(),this.selectAll());t.prototype.onGotFocus.call(this,n)},i.prototype.onLostFocus=function(i){this._composing&&(this._composing=!1,this._setText(this.text));var r=this._clamp(this.value),u=n.Globalize.format(r,this.format,!1,!1);this._setText(u);t.prototype.onLostFocus.call(this,i)},i.prototype.refresh=function(){this._updateSymbols();var t=n.Globalize.format(this.value,this.format);this._setText(t)},i.prototype._updateSymbols=function(){var t=n.culture.Globalize.numberFormat;this._decChar=t['.']||'.';this._currChar=t.currency.symbol||'$';this._rxSym=new RegExp('^[%+\\-() '+this._decChar+this._currChar+']*$');this._rxNegStart=new RegExp('^(\\-|\\()0*'+this._decChar+'?$')},i.prototype._clamp=function(t){return n.clamp(t,this.min,this.max)},i.prototype._isNumeric=function(n,t){t===void 0&&(t=!1);var i=n==this._decChar||n>='0'&&n<='9';return i||t||(i='+-()'.indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;n===void 0&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._flipSign=function(){var n=this._getSelStartDigits();this.value*=-1;this._setSelStartDigits(n)},i.prototype._getSelStart=function(){return this._tbx&&this._tbx.value?this._tbx.selectionStart:0},i.prototype._getSelStartDigits=function(){var i=0,t,r,n;if(this._tbx)for(t=this._tbx.value,r=this._getSelStart(),n=0;n<t.length&&n<r;n++)t[n]>='0'&&t[n]<='9'&&i++;return i},i.prototype._setSelStartDigits=function(t){var r,i;if(this._tbx)for(r=this._tbx.value,i=0;i<r.length;i++){if(!t){n.setSelectionRange(this._tbx,i);break}r[i]>='0'&&r[i]<='9'&&t--}},i.prototype._increment=function(t){if(t){var i=this._clamp(this.value+t),r=n.Globalize.format(i,this.format,!1,!1);this._setText(r)}},i.prototype._updateBtn=function(){this.showSpinner&&this.step&&this.value!=null?(this._btnUp.style.display=this._btnDn.style.display='',n.addClass(this.hostElement,'wj-input-show-spinner')):(this._btnUp.style.display=this._btnDn.style.display='none',n.removeClass(this.hostElement,'wj-input-show-spinner'))},i.prototype._setText=function(t){var u,i,f,r;if(!this._composing){if(!t){if(!this.isRequired){this._tbx.value='';this._value!=null&&(this._value=null,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());this._updateBtn();return}t='0'}if(this._rxNegStart.test(t)){this._tbx.value=t;n.setSelectionRange(this._tbx,t.length);return}if(t!=this._decChar||this._format||this.isRequired||(t='0'+t),t.length>1&&t[t.length-1]==')'&&t[0]!='('&&(t=t.substr(0,t.length-1)),this._rxSym.test(t)&&(t='0'),u=this._format||(t.indexOf(this._decChar)>-1?'n2':'n0'),i=n.Globalize.parseFloat(t,u),isNaN(i)){this._tbx.value=this._oldText;return}t.indexOf('%')<0&&u.toLowerCase().indexOf('p')>-1&&(i/=100);f=this._oldText&&t.length==this._oldText.length+1;r=n.Globalize.format(i,u,!1,f);(u=='n'||u[0].toLowerCase()=='g')&&this._tbx.selectionStart==this._tbx.value.length&&(t==r+this._decChar||t==r+this._decChar+'0')&&(r=t);this._tbx.value!=r&&(this._tbx.value=r,i=n.Globalize.parseFloat(r,this.format));i!=this._value&&(this._value=i,this.onValueChanged());this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged());this._updateBtn()}},i.prototype._keypress=function(t){var r,u,i;if(!t.defaultPrevented&&!this._composing&&!this._readOnly&&t.charCode&&!t.ctrlKey&&!t.metaKey){r=String.fromCharCode(t.charCode);this._isNumeric(r)?(u=this._getInputRange(!0),this._getSelStart()<u[0]&&n.setSelectionRange(this._tbx,u[0],u[1])):t.preventDefault();switch(r){case'-':this.value&&this._tbx.selectionStart==this._tbx.selectionEnd?this._flipSign():this._setText('-');t.preventDefault();break;case'+':this.value<0&&this._flipSign();t.preventDefault();break;case this._decChar:i=this._tbx.value.indexOf(r);i>-1&&(this._getSelStart()<=i&&i++,n.setSelectionRange(this._tbx,i),t.preventDefault())}}},i.prototype._keydown=function(t){var r=this,i;if(!t.defaultPrevented&&!this._composing)switch(t.keyCode){case n.Key.Up:case n.Key.Down:this.step&&(this._increment(this.step*(t.keyCode==n.Key.Up?1:-1)),setTimeout(function(){r.selectAll()}),t.preventDefault());break;case n.Key.Back:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._getSelStart(),i>0&&this.text[i-1]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i-1)}),t.preventDefault()));break;case n.Key.Delete:this._tbx&&this._tbx.selectionStart==this._tbx.selectionEnd&&(i=this._getSelStart(),i>0&&this.text[i]==this._decChar&&(setTimeout(function(){n.setSelectionRange(r._tbx,i+1)}),t.preventDefault()))}},i.prototype._input=function(){var t=this;this._composing||setTimeout(function(){var o=t._tbx,i=o.value,r=t._getSelStart(),s=i&&i.length>1?i.indexOf(t._decChar):-1,f,u,e;t._setText(i);t.containsFocus()&&(f=o.value,u=f.indexOf(t._decChar),i&&i[0]=='-'&&f&&f[0]!='-'&&(i=null),i?i==t._decChar&&u>-1?r=u+1:r<=s&&u>-1||s<0&&u<0?r+=f.length-i.length:r==i.length&&s<0&&u>-1&&(r=u):r=u>-1?u:f.match(/[^\d]*$/).index,e=t._getInputRange(),r<e[0]&&(r=e[0]),r>e[1]&&(r=e[1]),n.setSelectionRange(o,r))})},i.prototype._clickSpinner=function(t){var i=this;t.defaultPrevented||this.isReadOnly||!this.step||this.value==null||(this._increment(this.step*(n.contains(this._btnUp,t.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},i}(n.Control);i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div><\/div>';t.InputNumber=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(t){function i(i,r){var u=t.call(this,i)||this,e,f;return u.valueChanged=new n.Event,e=u.getTemplate(),u.applyTemplate('wj-control wj-inputmask wj-content',e,{_tbx:'input'},'input'),u._orgTag=='INPUT'&&(f=u._tbx.getAttribute('value'),f&&(u.value=f)),u._msk=new n._MaskProvider(u._tbx),u.isRequired=!0,u.initialize(r),u.addEventListener(u._tbx,'input',function(){setTimeout(function(){u.onValueChanged()})}),u}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._tbx.value},set:function(t){if(t!=this.value){this._tbx.value=n.asString(t);var i=n.getActiveElement();this._tbx.selectionStart=this._tbx.value.length;i&&i!=n.getActiveElement()&&i.focus();t=this._msk._applyMask();this._tbx.value=t;this.onValueChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){var i=this.value;this._msk.mask=n.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(n){var t=this.value;this._msk.promptChar=n;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=n.asBoolean(t)},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var t=this._msk.getMaskRange();n.setSelectionRange(this._tbx,t[0],t[1]+1)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n);this._updateState()},i.prototype.refresh=function(n){t.prototype.refresh.call(this,n);this._msk.refresh()},i.prototype.onGotFocus=function(n){t.prototype.onGotFocus.call(this,n);this.selectAll()},i}(n.Control);i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/><\/div><\/div>';t.InputMask=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(t,r){var u=i.call(this,t)||this;return u.valueChanged=new n.Event,n.addClass(u.hostElement,'wj-inputcolor'),u._tbx.style.paddingLeft='24px',u._ePreview=n.createElement('<div class="wj-inputcolorbox" style="position:absolute;left:6px;top:6px;width:12px;bottom:6px;border:1px solid black"></div>'),u.hostElement.style.position='relative',u.hostElement.appendChild(u._ePreview),u._orgTag=='INPUT'&&(u._tbx.type='',u._commitText()),u.value='#ffffff',u.isRequired=!0,u.initialize(r),u.addEventListener(u._colorPicker.hostElement,'click',function(t){var i=t.target,r;i&&i.tagName=='DIV'&&(n.closest(i,'[wj-part="div-pal"]')||n.closest(i,'[wj-part="div-pv"]'))&&(r=i.style.backgroundColor,r&&(u.isDroppedDown=!1))}),u}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){t!=this.value&&(t||!this.isRequired)&&(this.text=n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(t){t!=this.text&&(this._setText(n.asString(t),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(n){this._colorPicker.showAlphaChannel=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(n){this._colorPicker.palette=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);n.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler(function(){i.value=i._colorPicker.value})},r.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case n.Key.Enter:this._commitText();this.selectAll();break;case n.Key.Escape:this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,t)},r.prototype._commitText=function(){if(this.value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor='';return}var t=n.Color.fromString(this.text);t?(this._colorPicker.value=this.text,this._value=this._colorPicker.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()):this.text=this._value?this._value:''}},r}(t.DropDown);t.InputColor=i})(t=n.input||(n.input={}))}(wijmo||(wijmo={}))