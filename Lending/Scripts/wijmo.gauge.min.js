/*
    *
    * Wijmo Library 5.20171.300
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wijmo;(function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.None=0]="None";n[n.Value=1]="Value";n[n.MinMax=2]="MinMax";n[n.All=3]="All"})(i=t.ShowText||(t.ShowText={}));r=function(r){function u(f,e){var o=r.call(this,f,null,!0)||this,s;return o._ranges=new n.collections.ObservableArray,o._rngElements=[],o._format='n0',o._showRanges=!0,o._shadow=!0,o._animated=!0,o._readOnly=!0,o._step=1,o._showText=i.None,o._showTicks=!1,o._thickness=.8,o._initialized=!1,o.valueChanged=new n.Event,o._getPercent=function(n){var t=this.max>this.min?(n-this.min)/(this.max-this.min):0;return Math.max(0,Math.min(1,t))},u._ctr++,s=o.getTemplate(),o.applyTemplate('wj-control wj-gauge',s,{_dSvg:'dsvg',_svg:'svg',_filter:'filter',_gFace:'gface',_gRanges:'granges',_gPointer:'gpointer',_gCover:'gcover',_pFace:'pface',_pPointer:'ppointer',_cValue:'cvalue',_tValue:'value',_tMin:'min',_tMax:'max',_pTicks:'pticks'}),o._filterID='wj-gauge-filter-'+u._ctr.toString(36),o._filter.setAttribute('id',o._filterID),o.face=new t.Range,o.pointer=new t.Range,o._ranges.collectionChanged.addHandler(function(){for(var u,r=o._ranges,i=0;i<r.length;i++)if(u=n.tryCast(r[i],t.Range),!u)throw'ranges array must contain Range objects.';o._rangesDirty=!0;o.invalidate()}),o.addEventListener(o.hostElement,'keydown',o._keydown.bind(o)),o.addEventListener(o.hostElement,'click',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))}),o.addEventListener(o.hostElement,'mousedown',function(n){n.button==0&&(o.focus(),o._applyMouseValue(n))}),o.addEventListener(o.hostElement,'mousemove',function(n){n.buttons==1&&o._applyMouseValue(n,!0)}),'ontouchstart'in window&&(o.addEventListener(o.hostElement,'touchstart',function(n){o.focus();n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()}),o.addEventListener(o.hostElement,'touchmove',function(n){n.defaultPrevented||o.isReadOnly||!o._applyMouseValue(n,!0)||n.preventDefault()})),o.addEventListener(o.hostElement,'wheel',function(t){if(!t.defaultPrevented&&!o.isReadOnly&&o.containsFocus()&&o.value!=null&&o.hitTest(t)){var i=n.clamp(-t.deltaY,-1,1);o.value=n.clamp(o.value+(o.step||1)*i,o.min,o.max);t.preventDefault()}}),o.initialize(e),o.invalidate(),o}return __extends(u,r),Object.defineProperty(u.prototype,"value",{get:function(){return this._pointer.max},set:function(t){t!=this._pointer.max&&(this._pointer.max=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this._face.min},set:function(t){this._face.min=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this._face.max},set:function(t){this._face.max=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=n.asBoolean(t);this._setAttribute(this._svg,'cursor',this._readOnly?null:'pointer');n.toggleClass(this.hostElement,'wj-state-readonly',this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"step",{get:function(){return this._step},set:function(t){t!=this._step&&(this._step=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"getText",{get:function(){return this._getText},set:function(t){t!=this._getText&&(this._getText=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thickness",{get:function(){return this._thickness},set:function(t){t!=this._thickness&&(this._thickness=n.clamp(n.asNumber(t,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"face",{get:function(){return this._face},set:function(i){i!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=n.asType(i,t.Range),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pointer",{get:function(){return this._pointer},set:function(i){if(i!=this._pointer){var r=null;this._pointer&&(r=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged));this._pointer=n.asType(i,t.Range);this._pointer&&(r&&(this.value=r),this._pointer.propertyChanged.addHandler(this._rangeChanged,this));this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showText",{get:function(){return this._showText},set:function(t){t!=this._showText&&(this._showText=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showTicks",{get:function(){return this._showTicks},set:function(t){t!=this._showTicks&&(this._showTicks=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tickSpacing",{get:function(){return this._tickSpacing},set:function(t){t!=this._tickSpacing&&(this._tickSpacing=n.asInt(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(t){t!=this._thumbSize&&(this._thumbSize=n.asNumber(t,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showRanges",{get:function(){return this._showRanges},set:function(t){t!=this._showRanges&&(this._showRanges=n.asBoolean(t),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasShadow",{get:function(){return this._shadow},set:function(t){t!=this._shadow&&(this._shadow=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isAnimated",{get:function(){return this._animated},set:function(t){t!=this._animated&&(this._animated=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),u.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},u.prototype.refresh=function(n){var u,o,f,e,t;if(n===void 0&&(n=!0),r.prototype.refresh.call(this,n),this._rangesDirty){for(this._rangesDirty=!1,u=this._gRanges,t=0;t<this._rngElements.length;t++)o=this._rngElements[t],o.rng.propertyChanged.removeHandler(this._rangeChanged);while(u.lastChild)u.removeChild(u.lastChild);if(this._rngElements=[],this._showRanges)for(t=0;t<this.ranges.length;t++)f=this.ranges[t],f.propertyChanged.addHandler(this._rangeChanged,this),this._rngElements.push({rng:f,el:this._createElement('path',u)})}for(this._showElement(this._tValue,(this.showText&i.Value)!=0),this._showElement(this._tMin,(this.showText&i.MinMax)!=0),this._showElement(this._tMax,(this.showText&i.MinMax)!=0),this._showElement(this._cValue,(this.showText&i.Value)!=0||this._thumbSize>0),this._updateText(),e=this._getFilterUrl(),this._setAttribute(this._pFace,'filter',e),this._setAttribute(this._pPointer,'filter',e),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks(),t=0;t<this.ranges.length;t++)this._updateRange(this.ranges[t]);this._initialized=!0},u.prototype.hitTest=function(t,i){n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof n.Point||(t=n.mouseToPage(t));t=n.asType(t,n.Point);var r=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());return t.x-=r.left+pageXOffset,t.y-=r.top+pageYOffset,this._getValueFromPoint(t)},u._getBBox=function(n){try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},u.prototype._getFilterUrl=function(){return this.hasShadow?'url(#'+this._filterID+')':null},u.prototype._getRangeElement=function(n){var t,i;if(n==this._face)return this._pFace;if(n==this._pointer)return this._pPointer;for(t=0;t<this._rngElements.length;t++)if(i=this._rngElements[t],i.rng==n)return i.el;return null},u.prototype._rangeChanged=function(t,i){var r=this;if(t==this._pointer&&i.propertyName=='max'&&(this.onValueChanged(),this._updateText()),t==this._face){this.invalidate();return}if(t==this._pointer&&i.propertyName=='max'&&(this._animInterval&&clearInterval(this._animInterval),this.isAnimated&&!this.isUpdating&&this._initialized)){var u=this._getPointerColor(i.oldValue),f=this._getPointerColor(i.newValue),e=u?new n.Color(u):null,o=f?new n.Color(f):null;this._animInterval=n.animate(function(u){r._animColor=e&&o?n.Color.interpolate(e,o,u).toString():null;r._updateRange(t,i.oldValue+u*(i.newValue-i.oldValue));u>=1&&(r._animColor=null,r._animInterval=null,r._updateRange(t),r._updateText())});return}this._updateRange(t)},u.prototype._createElement=function(n,t,i){var r=document.createElementNS(u._SVGNS,n);return i&&r.setAttribute('class',i),t.appendChild(r),r},u.prototype._centerText=function(t,i,r){var f,e;if(t.getAttribute('display')!='none'){f=n.Globalize.format(i,this.format);n.isFunction(this.getText)&&(e=t==this._tValue?'value':t==this._tMin?'min':t==this._tMax?'max':null,n.assert(e!=null,'unknown element'),f=this.getText(this,e,i,f));t.textContent=f;var o=n.Rect.fromBoundingRect(u._getBBox(t)),s=r.x-o.width/2,h=r.y+o.height/4;t.setAttribute('x',this._fix(s));t.setAttribute('y',this._fix(h))}},u.prototype._copy=function(i,r){var f,u,e;if(i=='ranges'){for(f=n.asArray(r),u=0;u<f.length;u++)e=new t.Range,n.copy(e,f[u]),this.ranges.push(e);return!0}return i=='pointer'?(n.copy(this.pointer,r),!0):!1},u.prototype._showElement=function(n,t){this._setAttribute(n,'display',t?'':'none')},u.prototype._setAttribute=function(n,t,i){i?n.setAttribute(t,i):n.removeAttribute(t)},u.prototype._updateRange=function(n,t){var i,r;t===void 0&&(t=n.max);n==this._pointer&&(n.min=this.origin!=null?this.origin:this.min<0&&this.max>0?0:this.min);i=this._getRangeElement(n);i&&(this._updateRangeElement(i,n,t),r=n.color,n==this._pointer&&(r=this._animColor?this._animColor:this._getPointerColor(n.max)),this._setAttribute(i,'style',r?'fill:'+r:null))},u.prototype._getPointerColor=function(n){var r,t,i;if(!this._showRanges){for(t=this._ranges.length-1;t>=0;t--)if(i=this._ranges[t],n>=i.min&&n<=i.max){r=i;break}if(r)return r.color}return this._pointer.color},u.prototype._keydown=function(t){if(!this._readOnly&&this._step){var r=this._getKey(t.keyCode),i=!0;switch(r){case n.Key.Left:case n.Key.Down:this.value=n.clamp(this.value-this.step,this.min,this.max);break;case n.Key.Right:case n.Key.Up:this.value=n.clamp(this.value+this.step,this.min,this.max);break;case n.Key.Home:this.value=this.min;break;case n.Key.End:this.value=this.max;break;default:i=!1}i&&t.preventDefault()}},u.prototype._getKey=function(n){return n},u.prototype._applyMouseValue=function(t,i){var r,u;return!this.isReadOnly&&this.containsFocus()&&(r=this.hitTest(t),r!=null)?(u=this._animated,i&&(this._animated=!1),this._step!=null&&(r=Math.round(r/this._step)*this._step),this.value=n.clamp(r,this.min,this.max),this._animated=u,!0):!1},u.prototype._updateRangeElement=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateText=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._updateTicks=function(){n.assert(!1,'Gauge is an abstract class.')},u.prototype._getValueFromPoint=function(){return null},u.prototype._fix=function(t){return n.isNumber(t)?parseFloat(t.toFixed(4)).toString():this._fix(t.x)+' '+this._fix(t.y)},u}(n.Control);r._SVGNS='http://www.w3.org/2000/svg';r._ctr=0;r.controlTemplate='<div wj-part="dsvg" style="width:100%;height:100%"><svg wj-part="svg" width="100%" height="100%" style="overflow:visible"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"><\/feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"><\/feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"><\/feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"><\/feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"><\/feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"><\/feComposite><\/filter><\/defs><g wj-part="gface" class="wj-face" style="cursor:inherit"><path wj-part="pface"/><\/g><g wj-part="granges" class="wj-ranges" style="cursor:inherit"/><g wj-part="gpointer" class="wj-pointer" style="cursor:inherit"><path wj-part="ppointer"/><\/g><g wj-part="gcover" class="wj-cover" style="cursor:inherit"><path wj-part="pticks" class="wj-ticks"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min"/><text wj-part="max" class="wj-max"/><\/g><\/svg><\/div>';t.Gauge=r})(t=n.gauge||(n.gauge={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Up=2]="Up";n[n.Down=3]="Down"})(i=t.GaugeDirection||(t.GaugeDirection={}));r=function(r){function u(t,u){var f=r.call(this,t,null)||this;return f._direction=i.Right,n.addClass(f.hostElement,'wj-lineargauge'),f.initialize(u),f}return __extends(u,r),Object.defineProperty(u.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=this._direction&&(this._direction=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype._updateRangeElement=function(r,u,f){var e=this._getRangeRect(u,f);this._updateSegment(r,e);var c=u==this._pointer&&(this.showText&t.ShowText.Value)!=0,a=c||u==this._pointer&&this.thumbSize>0,o=e.left+e.width/2,s=e.top+e.height/2;switch(this._getDirection()){case i.Right:o=e.right;break;case i.Left:o=e.left;break;case i.Up:s=e.top;break;case i.Down:s=e.bottom}if(c&&this._centerText(this._tValue,f,new n.Point(o,s)),c||a){e=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue));var l=this._animColor?this._animColor:this._getPointerColor(u.max),v=this.thumbSize!=null?this.thumbSize/2:Math.max(e.width,e.height)*.8,h=this._cValue;this._setAttribute(h,'cx',this._fix(o));this._setAttribute(h,'cy',this._fix(s));this._setAttribute(h,'style',l?'fill:'+l:null);this._setAttribute(h,'r',this._fix(v))}},u.prototype._updateText=function(){var n=this._getRangeRect(this._face);switch(this._getDirection()){case i.Right:this._setText(this._tMin,this.min,n,'left');this._setText(this._tMax,this.max,n,'right');break;case i.Left:this._setText(this._tMin,this.min,n,'right');this._setText(this._tMax,this.max,n,'left');break;case i.Up:this._setText(this._tMin,this.min,n,'bottom');this._setText(this._tMax,this.max,n,'top');break;case i.Down:this._setText(this._tMin,this.min,n,'top');this._setText(this._tMax,this.max,n,'bottom')}},u.prototype._updateTicks=function(){var e=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,f='',n,t,r,u;if(this.showTicks&&e>0)for(n=this._getRangeRect(this._face),t=this.min+e;t<this.max;t+=e)switch(this._getDirection()){case i.Right:r=this._fix(n.left+n.width*this._getPercent(t));f+='M '+r+' '+this._fix(n.top)+' L '+r+' '+this._fix(n.bottom)+' ';break;case i.Left:r=this._fix(n.right-n.width*this._getPercent(t));f+='M '+r+' '+n.top.toFixed(2)+' L '+r+' '+n.bottom.toFixed(2)+' ';break;case i.Up:u=(n.bottom-n.height*this._getPercent(t)).toFixed(2);f+='M '+this._fix(n.left)+' '+u+' L '+this._fix(n.right)+' '+u+' ';break;case i.Down:u=(n.top+n.height*this._getPercent(t)).toFixed(2);f+='M '+n.left.toFixed(2)+' '+u+' L '+n.right.toFixed(2)+' '+u+' '}this._pTicks.setAttribute('d',f)},u.prototype._updateSegment=function(t,i){var r={p1:this._fix(new n.Point(i.left,i.top)),p2:this._fix(new n.Point(i.right,i.top)),p3:this._fix(new n.Point(i.right,i.bottom)),p4:this._fix(new n.Point(i.left,i.bottom))},u=n.format('M {p1} L {p2} L {p3} L {p4} Z',r);t.setAttribute('d',u)},u.prototype._setText=function(i,r,u,f){var s,h,o,e;if(i.getAttribute('display')!='none'){s=n.Globalize.format(r,this.format);n.isFunction(this.getText)&&(h=i==this._tValue?'value':i==this._tMin?'min':i==this._tMax?'max':null,n.assert(h!=null,'unknown element'),s=this.getText(this,h,r,s));i.textContent=s;o=n.Rect.fromBoundingRect(t.Gauge._getBBox(i));e=new n.Point(u.left+u.width/2-o.width/2,u.top+u.height/2+o.height/2);switch(f){case'top':e.y=u.top-4;break;case'left':e.x=u.left-4-o.width;break;case'right':e.x=u.right+4;break;case'bottom':e.y=u.bottom+4+o.height}i.setAttribute('x',this._fix(e.x));i.setAttribute('y',this._fix(e.y))}},u.prototype._getRangeRect=function(r,u){var f,s,h;u===void 0&&(u=r.max);f=new n.Rect(0,0,this.hostElement.clientWidth,this.hostElement.clientHeight);s=this.thumbSize?Math.ceil(this.thumbSize/2):0;this.showText!=t.ShowText.None&&(h=parseInt(getComputedStyle(this.hostElement).fontSize),isNaN(h)||(s=Math.max(s,3*h)));switch(this._getDirection()){case i.Right:case i.Left:f=f.inflate(-s,-f.height*(1-this.thickness*r.thickness)/2);break;case i.Up:case i.Down:f=f.inflate(-f.width*(1-this.thickness*r.thickness)/2,-s)}var c=r==this._face,e=c?0:this._getPercent(r.min),o=c?1:this._getPercent(u);switch(this._getDirection()){case i.Right:f.left+=f.width*e;f.width*=o-e;break;case i.Left:f.left=f.right-f.width*o;f.width=f.width*(o-e);break;case i.Down:f.top+=f.height*e;f.height*=o-e;break;case i.Up:f.top=f.bottom-f.height*o;f.height=f.height*(o-e)}return f},u.prototype._getValueFromPoint=function(n){var t=this._getRangeRect(this._face),r=0;switch(this._getDirection()){case i.Right:r=t.width>0?(n.x-t.left)/t.width:0;break;case i.Left:r=t.width>0?(t.right-n.x)/t.width:0;break;case i.Up:r=t.height>0?(t.bottom-n.y)/t.height:0;break;case i.Down:r=t.height>0?(n.y-t.top)/t.height:0}return this.min+r*(this.max-this.min)},u.prototype._getDirection=function(){var n=this._direction;if(this.rightToLeft)switch(n){case i.Left:n=i.Right;break;case i.Right:n=i.Left}return n},u.prototype._getKey=function(t){switch(this._getDirection()){case i.Left:switch(t){case n.Key.Left:t=n.Key.Right;break;case n.Key.Right:t=n.Key.Left}break;case i.Down:switch(t){case n.Key.Up:t=n.Key.Down;break;case n.Key.Down:t=n.Key.Up}}return t},u}(t.Gauge);t.LinearGauge=r})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=i.call(this,r,null)||this;return f._startAngle=0,f._sweepAngle=180,f._autoScale=!0,n.addClass(f.hostElement,'wj-radialgauge'),f._thickness=.4,f.showText=t.ShowText.All,f.initialize(u),f}return __extends(r,i),Object.defineProperty(r.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(t){t!=this._sweepAngle&&(this._sweepAngle=n.clamp(n.asNumber(t,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoScale",{get:function(){return this._autoScale},set:function(t){t!=this._autoScale&&(this._autoScale=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.refresh=function(r){var u,e,f;r===void 0&&(r=!0);this._setAttribute(this._svg,'viewBox',null);this._rcSvg=n.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());i.prototype.refresh.call(this,r);this._ctmInv=null;this._ptSvg=null;this._autoScale&&(this._setAttribute(this._svg,'viewBox',''),u=n.Rect.fromBoundingRect(t.Gauge._getBBox(this._pFace)),(this.showText&t.ShowText.Value)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tValue)))),(this.showText&t.ShowText.MinMax)!=0&&(u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMin))),u=n.Rect.union(u,n.Rect.fromBoundingRect(t.Gauge._getBBox(this._tMax)))),e=[this._fix(u.left),this._fix(u.top),this._fix(u.width),this._fix(u.height)].join(' '),this._setAttribute(this._svg,'viewBox',e),f=this._pFace.getCTM(),this._ctmInv=f?f.inverse():null,this._ptSvg=this._svg.createSVGPoint())},r.prototype._updateRangeElement=function(t,i,r){if(this._rcSvg){var u=this._rcSvg,s=new n.Point(u.width/2,u.height/2),h=Math.min(u.width,u.height)/2,c=h*this.thickness,l=c*i.thickness,e=h-(c-l)/2,a=e-l,v=this.startAngle+180,o=this.sweepAngle,y=i==this._face,p=y?0:this._getPercent(i.min),k=y?1:this._getPercent(r),d=v+o*p,g=o*(k-p);if(this._updateSegment(t,s,e,a,d,g),i==this._pointer&&this.thumbSize>0){var w=this._animColor?this._animColor:this._getPointerColor(i.max),b=this._getPoint(s,v+o*this._getPercent(r),(e+a)/2),f=this._cValue;this._setAttribute(f,'cx',this._fix(b.x));this._setAttribute(f,'cy',this._fix(b.y));this._setAttribute(f,'style',w?'fill:'+w:null);this._setAttribute(f,'r',this._fix(this.thumbSize/2))}}},r.prototype._updateText=function(){var f,e;if(this._rcSvg){var i=this._rcSvg,r=new n.Point(i.width/2,i.height/2),u=Math.min(i.width,i.height)/2,o=Math.max(0,u*(1-this.thickness)),s=this.startAngle+180,h=this.sweepAngle;this._showElement(this._cValue,this.thumbSize>0);f=(this.showText&t.ShowText.MinMax)!=0&&Math.abs(h)<=300;this._showElement(this._tMin,f);this._showElement(this._tMax,f);this._centerText(this._tValue,this.value,r);e=10*(this.sweepAngle<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(r,s-e,(u+o)/2));this._centerText(this._tMax,this.max,this._getPoint(r,s+h+e,(u+o)/2))}},r.prototype._updateTicks=function(){var r=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,u='',i;if(this.showTicks&&r>0){var t=this._rcSvg,f=new n.Point(t.width/2,t.height/2),e=Math.min(t.width,t.height)/2,o=e*this.thickness,s=o*this._face.thickness,h=e-(o-s)/2,l=h-s;for(i=this.min+r;i<this.max;i+=r){var c=this.startAngle+180+this.sweepAngle*this._getPercent(i),a=this._fix(this._getPoint(f,c,l)),v=this._fix(this._getPoint(f,c,h));u+='M '+a+' L '+v+' '}}this._pTicks.setAttribute('d',u)},r.prototype._updateSegment=function(t,i,r,u,f,e){e=Math.min(Math.max(e,-359.99),359.99);var o=this._getPoint(i,f,u),s=this._getPoint(i,f,r),h=this._getPoint(i,f+e,r),c=this._getPoint(i,f+e,u),l={large:Math.abs(e)>180?1:0,cw:e>0?1:0,ccw:e>0?0:1,or:this._fix(r),ir:this._fix(u),p1:this._fix(o),p2:this._fix(s),p3:this._fix(h),p4:this._fix(c)},a=n.format("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",l);t.setAttribute('d',a)},r.prototype._getPoint=function(t,i,r){return i=i*Math.PI/180,new n.Point(t.x+r*Math.cos(i),t.y+r*Math.sin(i))},r.prototype._getValueFromPoint=function(t){var a;if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=t.x,this._ptSvg.y=t.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),t.x=this._ptSvg.x,t.y=this._ptSvg.y),!this._rcSvg)return null;var u=this._rcSvg,h=new n.Point(u.width/2,u.height/2),e=Math.min(u.width,u.height)/2,c=e*(1-this.thickness),o=t.x-h.x,s=t.y-h.y,l=s*s+o*o;if(l>e*e+16||l<c*c-16)return null;var i=(Math.PI-Math.atan2(-s,o))*180/Math.PI,r=this.startAngle,f=this.sweepAngle;if(f>0){while(i<r)i+=360;while(i>r+f)i-=360}else{while(i<r+f)i+=360;while(i>r)i-=360}return a=Math.abs(i-r)/Math.abs(f),this.min+a*(this.max-this.min)},r}(t.Gauge);t.RadialGauge=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(r,u){var f=i.call(this,r,null)||this;return n.addClass(f.hostElement,'wj-bulletgraph'),f._pointer.thickness=.35,f._rngTarget=new t.Range('target'),f._rngTarget.thickness=.8,f._rngTarget.color='black',f._rngGood=new t.Range('good'),f._rngGood.color='rgba(0,0,0,.15)',f._rngBad=new t.Range('bad'),f._rngBad.color='rgba(0,0,0,.3)',f.ranges.push(f._rngBad),f.ranges.push(f._rngGood),f.ranges.push(f._rngTarget),f.initialize(u),f}return __extends(r,i),Object.defineProperty(r.prototype,"target",{get:function(){return this._rngTarget.max},set:function(n){this._rngTarget.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"good",{get:function(){return this._rngGood.max},set:function(n){this._rngGood.max=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bad",{get:function(){return this._rngBad.max},set:function(n){this._rngBad.max=n},enumerable:!0,configurable:!0}),r.prototype._getRangeRect=function(n,r){r===void 0&&(r=n.max);var u=i.prototype._getRangeRect.call(this,n,r);if(n==this._rngTarget)switch(this.direction){case t.GaugeDirection.Right:u.left=u.right-1;u.width=3;break;case t.GaugeDirection.Left:u.width=3;break;case t.GaugeDirection.Up:u.height=3;break;case t.GaugeDirection.Down:u.top=u.bottom-1;u.height=3}return u},r}(t.LinearGauge);t.BulletGraph=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t){this._min=0;this._max=100;this._thickness=1;this.propertyChanged=new n.Event;this._name=t}return Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp('_min',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp('_max',n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp('_color',n.asString(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp('_thickness',n.clamp(n.asNumber(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp('_name',n.asString(t))},enumerable:!0,configurable:!0}),t.prototype.onPropertyChanged=function(n){this.propertyChanged.raise(this,n)},t.prototype._setProp=function(t,i){var r=this[t],u;if(i!=r){this[t]=i;u=new n.PropertyChangedEventArgs(t.substr(1),r,i);this.onPropertyChanged(u)}},t}();i._ctr=0;t.Range=i})(t=n.gauge||(n.gauge={}))}(wijmo||(wijmo={}))