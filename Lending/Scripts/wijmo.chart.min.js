/*
    *
    * Wijmo Library 5.20171.300
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wijmo;(function(n){var t;(function(t){'use strict';var s=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=n;this.y=t}return n}(),f,e,u,i,o,r;t.DataPoint=s;f=function(n){function t(t){var i=n.call(this)||this;return i._engine=t,i}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.CancelEventArgs);t.RenderEventArgs=f;e=function(n){function t(t,i,r){var u=n.call(this,t)||this;return u._index=i,u._count=r,u}return __extends(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(f);t.SeriesRenderingEventArgs=e,function(n){n[n.Png=0]="Png";n[n.Jpeg=1]="Jpeg";n[n.Svg=2]="Svg"}(u=t.ImageFormat||(t.ImageFormat={}));i=function(i){function f(){var r=i!==null&&i.apply(this,arguments)||this;return r._palette=null,r._selectionMode=t.SelectionMode.None,r._defPalette=t.Palettes.standard,r._notifyCurrentChanged=!0,r._legendHost=null,r._needBind=!1,r.rendering=new n.Event,r.rendered=new n.Event,r.selectionChanged=new n.Event,r}return __extends(f,i),Object.defineProperty(f.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"legend",{get:function(){return this._legend},set:function(i){i!=this._legend&&(this._legend=n.asType(i,t.Legend),this._legend!=null&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),f.prototype.onRendered=function(n){this.rendered.raise(this,n)},f.prototype.onRendering=function(n){this.rendering.raise(this,n)},f.prototype.saveImageToFile=function(n){var f,t,e,i;n&&n.length!==0&&n.indexOf('.')!==-1||(n='image.png');i=n.split('.');f=i[0].toLowerCase();t=i[1].toLowerCase();e=u[t[0].toUpperCase()+t.substring(1)];this.saveImageToDataUrl(e,function(n){r.downloadImage(n,f,t)})},f.prototype.saveImageToDataUrl=function(t,i){var f=n.asEnum(t,u,!1),r=u[f].toLowerCase();r&&r.length&&this._exportToImage(r,function(n){i.call(i,n)})},f.prototype._exportToImage=function(t,i){var u=new Image,e=this._currentRenderEngine.element,f;f=r.getDataUri(e);t==='svg'?i.call(null,f):(u.onload=function(){var r=document.createElement('canvas'),f=n.getElementRect(e),s,o;r.width=f.width;r.height=f.height;o=r.getContext('2d');o.fillStyle='#ffffff';o.fillRect(0,0,f.width,f.height);o.drawImage(u,0,0);s=r.toDataURL('image/'+t);i.call(null,s);r=null},u.src=f)},f.prototype.refresh=function(n){n===void 0&&(n=!0);i.prototype.refresh.call(this,n);this.isUpdating||this._refreshChart()},f.prototype.containsFocus=function(){var t=i.prototype.containsFocus.call(this),r;return t||(r=n.getActiveElement(),r&&(t=r.parentNode===this.hostElement)),t},f.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},f.prototype.onLostFocus=function(n){this._tooltip&&this._tooltip.isVisible&&this._tooltip.hide();i.prototype.onLostFocus.call(this,n)},f.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},f.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},f.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},f.prototype._getColorLight=function(n){var t=this._getColor(n);return this._getLightColor(t)},f.prototype._getLightColor=function(t){var i=new n.Color(t);return i!=null&&t.indexOf('-')===-1&&(i.a==1&&t.indexOf('rgba')==-1&&(i.a*=.7),t=i.toString()),t},f.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},f.prototype._clearCachedValues=function(){},f.prototype._render=function(){},f.prototype._performBind=function(){},f.prototype._getDesiredLegendSize=function(){return null},f.prototype._renderLegend=function(){},f.prototype._getHitTestItem=function(){return null},f.prototype._getHitTestValue=function(){return null},f.prototype._getHitTestLabel=function(){return null},f.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this.hostElement&&this._render(this._currentRenderEngine)},f.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,c=null,v=null,l=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(c=f.foreground),f.fill&&(c=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(l=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s,f);r.height-=h.height;c||(c=t.FlexChart._FG);i.textFill=c;e?(l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s,f),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,l=='left'?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s,f):l=='right'?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s,f));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},f.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace('px','')),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace('px','')),e&&!isNaN(e)&&(r.y-=e)),r},f.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},f.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(' ',4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},f.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},f.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},f.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},f.prototype._getHostOffset=function(){var t=n.getElementRect(this.hostElement);return new n.Point(t.left,t.top)},f.prototype._getHostSize=function(){var u=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),i=f.offsetWidth,r=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace('px','')),o=parseFloat(t.paddingRight.replace('px','')),s=parseFloat(t.paddingTop.replace('px','')),h=parseFloat(t.paddingBottom.replace('px',''));isNaN(e)||(i-=e);isNaN(o)||(i-=o);isNaN(s)||(r-=s);isNaN(h)||(r-=h);var c=parseFloat(t.borderLeftWidth.replace('px','')),l=parseFloat(t.borderRightWidth.replace('px','')),a=parseFloat(t.borderTopWidth.replace('px','')),v=parseFloat(t.borderBottomWidth.replace('px',''));isNaN(c)||(i-=c);isNaN(l)||(i-=l);isNaN(a)||(r-=a);isNaN(v)||(r-=v);u.width=i;u.height=r}return u},f.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},f.prototype._find=function(n,t){for(var i,r,u,f=[],e=0;e<n.childElementCount;e++)if(i=n.childNodes.item(e),t.indexOf(i.nodeName)>=0)f.push(i);else if(r=this._find(i,t),r.length>0)for(u=0;u<r.length;u++)f.push(r[u]);return f},f}(n.Control);i._WIDTH=300;i._HEIGHT=200;i._SELECTION_THRESHOLD=15;t.FlexChartBase=i;o=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){switch(t){case'seriesName':return i.series?i.series.name:'';case'pointIndex':return i.pointIndex!=null?i.pointIndex.toFixed():'';case'x':return r?n.Globalize.format(i.x,r):i._xfmt;case'y':return r?n.Globalize.format(i.y,r):i._yfmt;case'value':return r?n.Globalize.format(i.value,r):i.value;case'name':return i.name}return i.item&&(t.indexOf('item.')==0&&(t=t.substr(5)),t in i.item)?r?n.Globalize.format(i.item[t],r):i.item[t]:''},t}();t._KeyWords=o;r=function(){function t(){}return t.downloadImage=function(n,t,i){var r=document.createElement('a'),v='image/'+i,o,f,a;if(navigator.msSaveOrOpenBlob){n=n.substring(n.indexOf(',')+1);for(var s=atob(n),h=[],c=512,e,l,u=0;u<s.length;u+=c){for(e=s.slice(u,u+c),o=new Array(e.length),f=0;f<e.length;f++)o[f]=e.charCodeAt(f);a=new Uint8Array(o);h.push(a)}l=new Blob(h,{type:v});navigator.msSaveOrOpenBlob(l,t+'.'+i)}else r.download=t+'.'+i,r.href=n,document.body.appendChild(r),r.addEventListener("click",function(){r.parentNode.removeChild(r)}),r.click()},t.getDataUri=function(i){var v=document.createElement('div'),r=i.cloneNode(!0),s,u,f,h,c,e,y,l,o,a;return i.tagName=='svg'?(s=n.getElementRect(i),u=s.width||0,f=s.height||0,h=i.viewBox.baseVal&&i.viewBox.baseVal.width!==0?i.viewBox.baseVal.width:u,c=i.viewBox.baseVal&&i.viewBox.baseVal.height!==0?i.viewBox.baseVal.height:f):(e=i.getBBox(),u=e.x+e.width,f=e.y+e.height,r.setAttribute('transform',r.getAttribute('transform').replace(/translate\(.*?\)/,'')),h=u,c=f,l=document.createElementNS('http://www.w3.org/2000/svg','svg'),l.appendChild(r),r=l),r.setAttribute('version','1.1'),r.setAttributeNS(t.xmlns,'xmlns','http://www.w3.org/2000/svg'),r.setAttributeNS(t.xmlns,'xmlns:xlink','http://www.w3.org/1999/xlink'),r.setAttribute('width',u),r.setAttribute('height',f),r.setAttribute('viewBox','0 0 '+h+' '+c),n.addClass(r,i.parentNode&&i.parentNode.getAttribute('class')||''),v.appendChild(r),y=t.getStyles(i),o=document.createElement('style'),o.setAttribute('type','text/css'),o.innerHTML="<![CDATA[\n"+y+"\n]]>",a=document.createElement('defs'),a.appendChild(o),r.insertBefore(a,r.firstChild),'data:image/svg+xml;base64,'+window.btoa(window.unescape(encodeURIComponent(t.doctype+v.innerHTML)))},t.getStyles=function(n){var t='',i=document.styleSheets;return i==null||i.length===0?null:([].forEach.call(i,function(i){var r;try{if(i.cssRules==null||i.cssRules.length===0)return!0}catch(u){if(u.name=='SecurityError')return console.log("SecurityError. Can't read: "+i.href),!0}r=i.cssRules;[].forEach.call(r,function(i){var r=i.style,u;if(r==null)return!0;try{u=n.querySelector(i.selectorText)}catch(f){console.warn('Invalid CSS selector "'+i.selectorText+'"',f)}u?t+=i.selectorText+" { "+r.cssText+" }\n":i.cssText.match(/^@font-face/)&&(t+=i.cssText+'\n')})}),t)},t}();r.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';r.xmlns='http://www.w3.org/2000/xmlns/'})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var f=function(f){function e(i,r){var u=f.call(this,i,null,!0)||this,e;return u._areas=[],u._keywords=new t._KeyWords,u._startAngle=0,u._innerRadius=0,u._offset=0,u._reversed=!1,u._isAnimated=!1,u._selectedItemPosition=t.Position.None,u._selectedItemOffset=0,u._rotationAngle=0,u._center=new n.Point,u._selectedOffset=new n.Point,u._selectedIndex=-1,u._angles=[],u._colRowLens=[],u._values=[],u._labels=[],u._pels=[],u._sum=0,u.applyTemplate('wj-control wj-flexchart',null,null),u._currentRenderEngine=new t._SvgRenderEngine(u.hostElement),u._legend=new t.Legend(u),u._tooltip=new t.ChartTooltip,u._tooltip.content='<b>{name}</b><br/>{value}',u._tooltip.showDelay=0,u._lbl=new t.PieDataLabel,u._lbl._chart=u,e=u,u.hostElement.addEventListener('mousemove',function(t){var r=e._tooltip,f=r.content,i,u;f&&!e.isTouching&&(i=e.hitTest(t),i.distance<=r.threshold?(u=e._getLabelContent(i,e.tooltip.content),e._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):e._hideToolTip())}),u.hostElement.addEventListener('click',function(i){var o=!0,u,f,s,r,h;e.selectionMode!=t.SelectionMode.None&&(r=e.hitTest(i),u=t.FlexChart._SELECTION_THRESHOLD,e.tooltip&&e.tooltip.threshold&&(u=e.tooltip.threshold),r.distance<=u?(r.pointIndex!=e._selectionIndex&&e.selectedItemPosition!=t.Position.None&&(o=!1),r.pointIndex!=e._selectionIndex&&e._select(r.pointIndex,!0)):e._selectedIndex>=0&&e._select(null));o&&e.isTouching&&(f=e._tooltip,s=f.content,s&&(r=e.hitTest(i),r.distance<=f.threshold?(h=e._getLabelContent(r,e.tooltip.content),e._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):e._hideToolTip()))}),u.hostElement.addEventListener('mouseleave',function(){e._hideToolTip()}),u.initialize(r),u.refresh(),u}return __extends(e,f),Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},set:function(n){n!=this._lbl&&(this._lbl=n,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){if(t!=this._selectedIndex){var i=n.asNumber(t,!0);this._select(i,!0)}},enumerable:!0,configurable:!0}),e.prototype._getLabelsForLegend=function(){return this._labels},e.prototype.hitTest=function(n,i){var f=this._toControl(n,i),r=new t.HitTestInfo(this,f),o=null,y,s,l,e,u,h,c;if(t.FlexChart._contains(this._rectHeader,f))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,f))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,f))r._chartElement=t.ChartElement.Legend,o=this.legend._hitTest(f),o!==null&&o>=0&&o<this._areas.length&&r._setData(null,o);else if(t.FlexChart._contains(this._rectChart,f)){for(y=this._areas.length,s=NaN,e=0;e<y;e++){if(u=f.clone(),this._rotationAngle!=0){var p=this._center.x,w=this._center.y,a=-p+u.x,v=-w+u.y,b=Math.sqrt(a*a+v*v),k=Math.atan2(v,a)-this._rotationAngle*Math.PI/180;u.x=p+b*Math.cos(k);u.y=w+b*Math.sin(k)}if(e==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y),h=this._areas[e],h.contains(u)&&(r._setData(null,h.tag),r._dist=0,e!=this._selectedIndex))break;c=h.distance(u);c!==undefined&&(isNaN(s)||c<s)&&(s=c,l=h)}r._dist!==0&&l!=null&&(r._setData(null,l.tag),r._dist=s);r._chartElement=t.ChartElement.ChartArea}else r._chartElement=t.ChartElement.None;return r},e.prototype._performBind=function(){var n,i,t,r;if(this._initData(),this._cv&&(this._selectionIndex=this._cv.currentPosition,n=this._cv.items,n))for(i=n.length,t=0;t<i;t++)r=n[t],this._sum+=Math.abs(this._getBindData(r,this._values,this._labels,this.binding,this.bindingName))},e.prototype._initData=function(){this._sum=0;this._values=[];this._labels=[]},e.prototype._getBindData=function(t,i,r,u,f){var o,e=0,s;return u&&(o=t[u]),e=0,n.isNumber(o)?e=n.asNumber(o):o&&(e=parseFloat(o.toString())),!isNaN(e)&&isFinite(e)?i.push(e):(e=0,i.push(e)),f&&t?(s=t[f],s&&(s=s.toString()),r.push(s)):r.push(e.toString()),e},e.prototype._render=function(i){var w,y,o,h,r,l,f,u;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var b=this.hostElement,p=this._getHostSize(),u=p.width,f=p.height;if((u==0||isNaN(u))&&(u=t.FlexChart._WIDTH),(f==0||isNaN(f))&&(f=t.FlexChart._HEIGHT),w=new n.Size(u,f),i.beginRender(),u>0&&f>0){i.setViewportSize(u,f);this._areas=[];y=this.legend;r=new n.Rect(0,0,u,f);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();this.onRendering(new t.RenderEventArgs(i));u=r.width;f=r.height;l=y._getPosition(u,f);o=y._getDesiredSize(i,l,u,f);switch(l){case t.Position.Right:u-=o.width;h=new n.Point(u,r.top+.5*(f-o.height));break;case t.Position.Left:r.left+=o.width;u-=o.width;h=new n.Point(0,r.top+.5*(f-o.height));break;case t.Position.Top:f-=o.height;h=new n.Point(.5*(u-o.width),r.top);r.top+=o.height;break;case t.Position.Bottom:f-=o.height;h=new n.Point(.5*(u-o.width),r.top+f)}r.width=u;r.height=f;this._pieGroup=i.startGroup(null,null,!0);var s=this._parseMargin(this.plotMargin),a=this.dataLabel,c=a.content&&a.position==t.PieLabelPosition.Outside,v=c?(n.isNumber(a.offset)?a.offset:0)+24:0;isNaN(s.left)&&(s.left=c?v:e._MARGIN);isNaN(s.right)&&(s.right=c?v:e._MARGIN);isNaN(s.top)&&(s.top=c?v:e._MARGIN);isNaN(s.bottom)&&(s.bottom=c?v:e._MARGIN);r.top+=s.top;f=r.height-(s.top+s.bottom);r.height=f>0?f:24;r.left+=s.left;u=r.width-(s.left+s.right);r.width=u>0?u:24;this._renderData(i,r,this._pieGroup);i.endGroup();o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(h.x,h.y,o.width,o.height),this.legend._render(i,h,l,o.width,o.height),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.dataLabel.content&&this.dataLabel.position!=t.PieLabelPosition.None&&this._renderLabels(i);this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._getDesiredLegendSize=function(t,i,r,u){var f=new n.Size,c=this,s=new n.Size(r,u),l=c._getLabelsForLegend(),h=l.length,r=0,u=0,o,e;for(this._colRowLens=[],o=0;o<h;o++)e=c._measureLegendItem(t,l[o]),i?(r<e.width&&(r=e.width),u+e.height>s.height&&(f.height=s.height,this._colRowLens.push(r),u=0,r=0),u+=e.height,o===h-1&&(f.height<u&&(f.height=u),this._colRowLens.push(r))):(u<e.height&&(u=e.height),r+e.width>s.width&&(f.width=s.width,this._colRowLens.push(u),u=0,r=0),r+=e.width,o===h-1&&(f.width<r&&(f.width=r),this._colRowLens.push(u))),i?f.width=this._colRowLens.reduce(function(n,t){return n+t},0):f.height=this._colRowLens.reduce(function(n,t){return n+t},0);return f},e.prototype._renderLegend=function(t,i,r,u){for(var e,a,s=this,h=s._rectLegend,l=s._getLabelsForLegend(),v=l.length,c=0,f=i.clone(),o=0;o<v;o++)e=s._measureLegendItem(t,l[o]),u?f.y+e.height>h.top+h.height+1&&(f.x+=this._colRowLens[c],c++,f.y=i.y):f.x+e.width>h.left+h.width+1&&(f.y+=this._colRowLens[c],c++,f.x=i.x),a=new n.Rect(f.x,f.y,e.width,e.height),s._drawLegendItem(t,a,o,l[o]),r.push(a),u?f.y+=e.height:f.x+=e.width},e.prototype._renderData=function(n,t){var u,f;this._pels=[];this._angles=[];var e=this._sum,o=this.startAngle+180,s=this.innerRadius,r=this.offset;if(e>0){var h=o*Math.PI/180,c=t.left+.5*t.width,l=t.top+.5*t.height,i=Math.min(.5*t.width,.5*t.height);this._center.x=c;this._center.y=l;u=Math.max(r,this.selectedItemOffset);u>0&&(i=i/(1+u),r=r*i);this._radius=i;f=s*i;this._renderPie(n,i,f,h,r);this._highlightCurrent()}},e.prototype._renderPie=function(n,t,i,r,u){this._renderSlices(n,this._values,this._sum,t,i,r,2*Math.PI,u)},e.prototype._getCenter=function(){return this._center},e.prototype._renderSlices=function(n,t,i,r,u,f,e,o){for(var k=t.length,c=f,y=this.reversed==!0,p=this._center,s,w,l,a,h=0;h<k;h++){l=p.x;a=p.y;w=n.startGroup();n.fill=this._getColorLight(h);n.stroke=this._getColor(h);var b=Math.abs(t[h]),s=Math.abs(b-i)<1e-10?e:e*b/i,v=y?c-.5*s:c+.5*s;o>0&&s<e&&(l+=o*Math.cos(v),a+=o*Math.sin(v));this._renderSlice(n,l,a,v,h,r,u,c,s,e);y?c-=s:c+=s;n.endGroup();this._pels.push(w)}},e.prototype._renderSlice=function(i,r,u,f,e,o,s,h,c){var v=this,a=!!this.reversed,l;this._angles.push(f);this.itemFormatter?(l=new t.HitTestInfo(this,new n.Point(r+o*Math.cos(f),u+o*Math.sin(f)),t.ChartElement.SeriesSymbol),l._setData(null,e),this.itemFormatter(i,l,function(){v._drawSlice(i,e,a,r,u,o,s,h,c)})):this._drawSlice(i,e,a,r,u,o,s,h,c)},e.prototype._renderLabels=function(r){var st=this._areas.length,c=this.dataLabel,a=c.position,h=2,ht=this._rotationAngle,ct=c.connectingLine,ot=c.offset?c.offset:0,l,o,v,it,rt,s,ut,ft,y,et;for(r.stroke='null',r.fill='transparent',r.strokeWidth=1,r.startGroup('wj-data-labels'),l=0;l<st;l++)if(o=this._areas[l],o){var p=o.radius,u=o.langle+ht,f=1,e=1;a==t.PieLabelPosition.Center?p*=.5*(1+(o.innerRadius||0)/o.radius):(u=i.clampAngle(u),u<=-170||u>=170?(f=2,e=1):u>=-100&&u<=-80?(f=1,e=2):u>=-10&&u<=10?(f=0,e=1):u>=80&&u<=100?(f=1,e=0):-180<u&&u<-90?(f=2,e=2):-90<=u&&u<0?(f=0,e=2):0<u&&u<90?(f=0,e=0):90<u&&u<180&&(f=2,e=0),a==t.PieLabelPosition.Inside&&(f=2-f,e=2-e));u*=Math.PI/180;var b=0,k=0,w=0;l==this._selectedIndex&&this.selectedItemOffset>0&&(w=this.selectedItemOffset);w>0&&(b=Math.cos(u)*w*this._radius,k=Math.sin(u)*w*this._radius);v=p;a==t.PieLabelPosition.Outside?v+=ot:a==t.PieLabelPosition.Inside&&(v-=ot);var d=o.center.x,g=o.center.y,nt=d-this._center.x,tt=g-this._center.y;this._rotationAngle!=0&&(it=Math.sqrt(nt*nt+tt*tt),rt=Math.atan2(tt,nt)+this._rotationAngle*Math.PI/180,d=this._center.x+it*Math.cos(rt),g=this._center.y+it*Math.sin(rt));s=new n.Point(d+b+v*Math.cos(u),g+k+v*Math.sin(u));c.border&&a!=t.PieLabelPosition.Center&&(f==0?s.x+=h:f==2&&(s.x-=h),e==0?s.y+=h:e==2&&(s.y-=h));ut=new t.HitTestInfo(this,s);ut._setData(null,l);ft=this._getLabelContent(ut,c.content);ft&&(y=t.FlexChart._renderText(r,ft,s,f,e,'wj-data-label'),c.border&&r.drawRect(y.left-h,y.top-h,y.width+2*h,y.height+2*h,'wj-data-label-border'),ct&&(et=new n.Point(o.center.x+b+p*Math.cos(u),o.center.y+k+p*Math.sin(u)),r.drawLine(s.x,s.y,et.x,et.y,'wj-data-label-line')))}r.endGroup()},e.prototype._drawSlice=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL,t.FlexChart._CSS_LEGEND),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,i){if(i===void 0&&(i=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this.selectionMode==t.SelectionMode.Point){var r=this._cv;r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}this.onSelectionChanged();!this.isAnimated&&(this.selectedItemOffset>0||this.selectedItemPosition!=t.Position.None)?this.invalidate():this._highlight(!0,this._selectionIndex,i)},e.prototype._highlightCurrent=function(){if(this.selectionMode!=t.SelectionMode.None){var n=-1,i=this._cv;i&&(n=i.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;r===void 0&&(r=!1);this.selectionMode==t.SelectionMode.Point&&i!==undefined&&i!==null&&i>=0&&(u=this._pels[i],n?(u&&(u.parentNode.appendChild(u),h=this._find(u,['ellipse']),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),f=this._angles[i],this.selectedItemPosition!=t.Position.None&&f!=0&&(e=0,this.selectedItemPosition==t.Position.Left?e=180:this.selectedItemPosition==t.Position.Top?e=-90:this.selectedItemPosition==t.Position.Bottom&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u&&u.setAttribute('transform','translate('+c.toFixed()+','+l.toFixed()+')')),this._selectedIndex=i):(u&&(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute('transform'),this._highlightItems(this._find(u,['path','ellipse']),t.FlexChart._CSS_SELECTION,n)),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(r,u){var e=i.clampAngle(this._rotationAngle);r=i.clampAngle(r);var o=r-e,f=this,s=e,h=f._pieGroup;f._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){h==f._pieGroup&&(f._rotationAngle=e=s+o*n,f._pieGroup.transform.baseVal.getItem(0).setRotate(e,f._center.x,f._center.y),n==1&&clearInterval(f._selectionAnimationID),n>.99&&(f.selectedItemOffset>0||f.selectedItemPosition!=t.Position.None)&&f.invalidate())},u*1e3)},e.prototype._getHitTestItem=function(n){var t=null,i=null;return t=this._cv!=null?this._cv.items:this.itemsSource,t&&n<t.length&&(i=t[n]),i},e.prototype._getHitTestValue=function(n){return this._values[n]},e.prototype._getHitTestLabel=function(n){return this._labels[n]},e}(t.FlexChartBase),i,r,u;f._MARGIN=4;t.FlexPie=f;i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}();r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;this._originAngle=r;this._originSweep=u;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle)-i.clampAngle(u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){if(this.contains(n))return 0;var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle)-i.clampAngle(f);return this._isFull||Math.abs(e)<=this._sweep?Math.sqrt(u)-this._radius:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),n}();t._PieSegment=r;u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;this._originAngle=u;this._originSweep=f;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),n}();t._DonutSegment=u})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var u,r,i,f,e,o;(function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"})(u=t.Stacking||(t.Stacking={})),function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(r=t.SelectionMode||(t.SelectionMode={}));i=function(i){function s(f,s){var c=i.call(this,f,null,!0)||this,h;return c._series=new n.collections.ObservableArray,c._axes=new t.AxisCollection,c._pareas=new t.PlotAreaCollection,c._interpolateNulls=!1,c._legendToggle=!1,c._symbolSize=10,c._dataInfo=new e,c.__barPlotter=null,c.__linePlotter=null,c.__areaPlotter=null,c.__bubblePlotter=null,c.__financePlotter=null,c.__funnelPlotter=null,c._plotters=[],c._rotated=!1,c._stacking=u.None,c._xlabels=[],c._xvals=[],c._lblAreas=[],c._bindingSeparator=',',c.seriesVisibilityChanged=new n.Event,c.applyTemplate('wj-control wj-flexchart',null,null),h=c,h._series.collectionChanged.addHandler(function(){for(var t,r=h._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.SeriesBase),!t)throw'chartSeries array must contain SeriesBase objects.';t._chart=h;t.axisX&&(t.axisX._chart=h);t.axisY&&(t.axisY._chart=h)}h.refresh()}),c._currentRenderEngine=new t._SvgRenderEngine(c.hostElement),c._hitTester=new t._HitTester(c),c._legend=new t.Legend(c),c._tooltip=new o,c._tooltip.showDelay=0,c._lbl=new t.DataLabel,c._lbl._chart=c,c._initAxes(),h._axes.collectionChanged.addHandler(function(){for(var i,r=h._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw'axes array must contain Axis objects.';i._chart=h}h.refresh()}),h._pareas.collectionChanged.addHandler(function(){for(var i,r=h._pareas,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.PlotArea),!i)throw'plotAreas array must contain PlotArea objects.';i._chart=h}h.refresh()}),c._keywords=new t._KeyWords,c.hostElement.addEventListener('click',function(t){var r=h._tooltip,f=r.content,i,u;f&&h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())}),c.hostElement.addEventListener('mousemove',function(t){var r=h._tooltip,f=r.content,i,u;f&&!h.isTouching&&(i=h.hitTest(t),i.distance<=r.threshold?(u=h._getLabelContent(i,h._tooltip.content),h._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):h._hideToolTip())}),c.hostElement.addEventListener('mouseleave',function(){h._hideToolTip()}),c.hostElement.addEventListener('click',function(n){if(h.selectionMode!=r.None){var i=h._hitTestData(n),u=t.FlexChart._SELECTION_THRESHOLD;h.tooltip&&h.tooltip.threshold&&(u=h.tooltip.threshold);i.distance<=u&&i.series?h._select(i.series,i.pointIndex):h.selectionMode==r.Series?(i=h.hitTest(n),i.chartElement==t.ChartElement.Legend&&i.series?h._select(i.series,null):h._select(null,null)):h._select(null,null)}h.legendToggle===!0&&(i=h.hitTest(n),i.chartElement==t.ChartElement.Legend&&i.series&&(i.series.visibility==t.SeriesVisibility.Legend?i.series.visibility=t.SeriesVisibility.Visible:i.series.visibility==t.SeriesVisibility.Visible&&(i.series.visibility=t.SeriesVisibility.Legend),h.focus()))}),c.initialize(s),c}return __extends(s,i),s.prototype._initAxes=function(){this._axisX=new t.Axis(t.Position.Bottom);this._axisY=new t.Axis(t.Position.Left);this._axisX.majorGrid=!1;this._axisX.name='axisX';this._axisY.majorGrid=!0;this._axisY.majorTickMarks=t.TickMark.None;this._axisY.name='axisY';this._axisX._chart=this;this._axisY._chart=this;this._axes.push(this._axisX);this._axes.push(this._axisY)},Object.defineProperty(s.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){var r=this._axisX=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!1),r.name===undefined&&(r.name='axisX'),r.position===undefined&&(r.position=t.Position.Bottom),r._axisType=t.AxisType.X,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){var r=this._axisY=n.asType(i,t.Axis);this.beginUpdate();r&&(r.majorGrid===undefined&&(r.majorGrid=!0),r.name===undefined&&(r.name='axisY'),r.majorTickMarks=t.TickMark.None,r.position===undefined&&(r.position=t.Position.Left),r._axisType=t.AxisType.Y,r._chart=this);this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataLabel",{get:function(){return this._lbl},set:function(i){i!=this._lbl&&(this._lbl=n.asType(i,t.DataLabel),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selection",{get:function(){return this._selection},set:function(i){i!=this._selection&&(this._selection=n.asType(i,t.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),s.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},s.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),s=null,c,o,h;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=t.ChartElement.Header;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=t.ChartElement.Footer;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=t.ChartElement.Legend,s=this.legend._hitTest(u),s!==null&&s>=0&&s<this.series.length&&r._setData(this.series[s]);else if(t.FlexChart._contains(this._rectChart,u))if(c=this._hitTestLabels(u),c)r._chartElement=t.ChartElement.DataLabel,r._dist=0,r._setDataPoint(c.tag);else{var e=this._hitTester.hitTest(u),f=null,l=null;for(o=this.series.length-1;o>=0;o--)if(this.series[o].hitTest!==t.Series.prototype.hitTest&&(h=this.series[o].hitTest(n),h&&((!f||h.distance<f.distance)&&(f=h,l=o),h.distance===0)))break;e&&e.area?f&&f.distance<e.distance?r=f:f&&f.distance==e.distance&&l>e.area.tag.seriesIndex?r=f:(r._setDataPoint(e.area.tag),r._dist=e.distance):f&&(r=f);t.FlexChart._contains(this.axisX._axrect,u)?r._chartElement=t.ChartElement.AxisX:t.FlexChart._contains(this.axisY._axrect,u)?r._chartElement=t.ChartElement.AxisY:t.FlexChart._contains(this._plotRect,u)?r._chartElement=t.ChartElement.PlotArea:t.FlexChart._contains(this._rectChart,u)&&(r._chartElement=t.ChartElement.ChartArea)}else r._chartElement=t.ChartElement.None;return r},s.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},s.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},s.prototype._copy=function(t,i){var u,r,f;if(t=='series'){for(this.series.clear(),u=n.asArray(i),r=0;r<u.length;r++)f=this._createSeries(),n.copy(f,u[r]),this.series.push(f);return!0}return!1},s.prototype._createSeries=function(){return new t.Series},s.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},s.prototype._performBind=function(){var i,u,r,f,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(u=i.length,r=0;r<u;r++)f=i[r],this._bindingX&&(t=f[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=n.DataType.Number):n.isDate(t)&&(this._xvals.push(n.asDate(t).valueOf()),this._xDataType=n.DataType.Date),this._xlabels.push(f[this._bindingX]));this._xvals.length==u?this._xlabels.splice(0):this._xvals.splice(0)}},s.prototype._hitTestSeries=function(n,i){var f=this._toControl(n),r=new t.HitTestInfo(this,f),e=i,u=this._hitTester.hitTestSeries(f,i);return u&&u.area&&(r._setDataPoint(u.area.tag),r._chartElement=t.ChartElement.PlotArea,r._dist=u.distance),r},s.prototype._hitTestData=function(n){var u=this._toControl(n),r=new t.HitTestInfo(this,u),i=this._hitTester.hitTest(u,!0);return i&&i.area&&(r._setDataPoint(i.area.tag),r._dist=i.distance),r},s.prototype._hitTestLabels=function(n){for(var i=null,r=this._lblAreas.length,t=0;t<r;t++)if(this._lblAreas[t].contains(n)){i=this._lblAreas[t];break}return i},s._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},s._dist=function(n,i,r){return Math.sqrt(t.FlexChart._distToSegmentSquared(n,i,r))},s._distToSegmentSquared=function(i,r,u){var e=t.FlexChart._dist2(r,u),f;return e==0?t.FlexChart._dist2(i,r):(f=((i.x-r.x)*(u.x-r.x)+(i.y-r.y)*(u.y-r.y))/e,f<0)?t.FlexChart._dist2(i,r):f>1?t.FlexChart._dist2(i,u):t.FlexChart._dist2(i,new n.Point(r.x+f*(u.x-r.x),r.y+f*(u.y-r.y)))},s.prototype._isRotated=function(){return this._getChartType()==t.ChartType.Bar?!this._rotated:this._rotated},s.prototype._getChartType=function(){return null},s.prototype._render=function(i,r){var at,ht,s,a,u,g,nt,l,tt,it,rt,vt,yt,p,ct,w,ut,ft,et,b,h,c,f,ot,d,v,y;r===void 0&&(r=!0);var wt=this.hostElement,lt=this._getHostSize(),e=lt.width,o=lt.height;if((e==0||isNaN(e))&&(e=t.FlexChart._WIDTH),(o==0||isNaN(o))&&(o=t.FlexChart._HEIGHT),at=new n.Size(e,o),i.beginRender(),e>0&&o>0){i.setViewportSize(e,o);this._hitTester.clear();ht=this.legend;u=new n.Rect(0,0,e,o);this._rectChart=u.clone();i.startGroup(t.FlexChart._CSS_HEADER);u=this._drawTitle(i,u,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);u=this._drawTitle(i,u,this.footer,this.footerStyle,!0);i.endGroup();e=u.width;o=u.height;g=ht._getPosition(e,o);s=ht._getDesiredSize(i,g,e,o);switch(g){case t.Position.Right:e-=s.width;a=new n.Point(e,u.top+.5*(o-s.height));break;case t.Position.Left:u.left+=s.width;e-=s.width;a=new n.Point(0,u.top+.5*(o-s.height));break;case t.Position.Top:o-=s.height;a=new n.Point(.5*(e-s.width),u.top);u.top+=s.height;break;case t.Position.Bottom:o-=s.height;a=new n.Point(.5*(e-s.width),u.top+o)}if(u.width=e,u.height=o,f=this._getPlotter(null),f.stacking=this._stacking,this._curPlotter!=f&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=f),f.load(),nt=this._isRotated(),this._dataInfo.analyse(this._series,nt,f.stacking,this._xvals.length>0?this._xvals:null,this.axisX.logBase>0,this.axisY.logBase>0),l=f.adjustLimits(this._dataInfo,u.clone()),nt?(tt=this._dataInfo.getDataTypeX(),tt||(tt=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),l.left,l.right),this.axisY._updateActualLimits(tt,l.top,l.bottom,this._xlabels,this._xvals)):(it=this._dataInfo.getDataTypeX(),it||(it=this._xDataType),this.axisX._updateActualLimits(it,l.left,l.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),l.top,l.bottom)),rt=this._getAxes(),this._updateAuxAxes(rt,nt),this._layout(u,at,i),i.startGroup(t.FlexChart._CSS_PLOT_AREA),i.fill='transparent',i.stroke=null,vt=this.plotAreas.length,vt>0)for(h=0;h<this.plotAreas.length;h++)yt=this.plotAreas[h],yt._render(i);else p=this._plotRect,i.drawRect(p.left,p.top,p.width,p.height);for(i.endGroup(),ct=this._series.length,this._clearPlotters(),w={},h=0;h<ct;h++)ut=this._series[h],ut.getValues(0)&&(ft=ut._getAxisY(),f=this._getPlotter(ut),!ft||ft==this.axisY||f instanceof t._BarPlotter?f.seriesCount++:(et=ft._uniqueId,w[et]?w[et].count+=1:w[et]={count:1,index:0}));this.onRendering(new t.RenderEventArgs(i));if(this._getChartType()!==t.ChartType.Funnel)for(h=0;h<rt.length;h++)b=rt[h],ot=b.axisType==t.AxisType.X?i.startGroup(t.FlexChart._CSS_AXIS_X):i.startGroup(t.FlexChart._CSS_AXIS_Y),b._hostElement=r?ot:b._hostElement,b._render(i),i.endGroup();for(i.startGroup('wj-series-group'),this._plotrectId='plotRect'+(1e6*Math.random()).toFixed(),i.addClipRect(this._plotRect,this._plotrectId),h=0;h<ct;h++){c=this._series[h];c._pointIndexes=[];f=this._getPlotter(c);c._plotter=f;ot=i.startGroup(c.cssClass,f.clipping?this._plotrectId:null);c._hostElement=r?ot:c._hostElement;var pt=c.visibility,st=c.axisX,k=c.axisY;if(st||(st=this.axisX),k||(k=this.axisY),pt==t.SeriesVisibility.Visible||pt==t.SeriesVisibility.Plot){d=w[k._uniqueId];d?(v=d.index,y=d.count,d.index++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y)):(v=f.seriesIndex,y=f.seriesCount,f.seriesIndex++,c.onRendering(i,v,y)||f.plotSeries(i,st,k,c,this,v,y));c.onRendered(i)}i.endGroup()}i.endGroup();this._lblAreas=[];this.dataLabel.content&&this.dataLabel.position!=t.LabelPosition.None&&this._renderLabels(i);s?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(a.x,a.y,s.width,s.height),i.textFill=t.FlexChart._FG,this.legend._render(i,a,g,s.width,s.height),i.textFill=null,i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(new t.RenderEventArgs(i))}i.endRender()},s.prototype._getDesiredLegendSize=function(i,r,u,f){for(var c,v,p,l,h,e=new n.Size,y=this.series,w=y.length,o=0,s=0,a=0;a<w;a++)if(c=n.tryCast(y[a],n.chart.SeriesBase),v=c.visibility,c.name&&v!=t.SeriesVisibility.Hidden&&v!=t.SeriesVisibility.Plot)for(p=c.legendItemLength(),l=0;l<p;l++)h=c.measureLegendItem(i,l),r?(o+h.height>f?(e.width+=s,s=0,e.height<o&&(e.height=o),o=0):o+=h.height,s<h.width&&(s=h.width)):(s+h.width>u?(e.height+=o,o=0,e.width<s&&(e.width=s),s=h.width):s+=h.width,o<h.height&&(o=h.height));return r?(e.height<o&&(e.height=o),e.width+=s):(e.width<s&&(e.width=s),e.height+=o),e},s.prototype._renderLegend=function(i,r,u,f,e,o){var c=this.series,l=c.length,h,s;if(this._getChartType()===t.ChartType.Bar)for(s=l-1;s>=0;s--)h=n.tryCast(c[s],n.chart.SeriesBase),this._renderLegendElements(i,h,r,u,f,e,o);else for(s=0;s<l;s++)h=n.tryCast(c[s],n.chart.SeriesBase),this._renderLegendElements(i,h,r,u,f,e,o)},s.prototype._renderLegendElements=function(i,r,u,f,e,o,s){var a=u.clone(),v=0,y=0,c,b,p,l,h,w;if(r){if(c=r.visibility,!r.name||c==t.SeriesVisibility.Hidden||c==t.SeriesVisibility.Plot){r._legendElement=null;f.push(null);return}for(b=r.legendItemLength(),p=i.startGroup(r.cssClass),c==t.SeriesVisibility.Legend?(p.setAttribute('opacity','0.5'),r._legendElement=p):r._legendElement=c==t.SeriesVisibility.Visible?p:null,l=0;l<b;l++)h=r.measureLegendItem(i,l),e?u.y+h.height>a.y+s&&(u.y=a.y,u.x+=y,y=0):u.x+h.width>a.x+o&&(u.x=a.x,u.y+=v,v=0),w=new n.Rect(u.x,u.y,h.width,h.height),(c==t.SeriesVisibility.Legend||c==t.SeriesVisibility.Visible)&&r.drawLegendItem(i,w,l),f.push(w),e?(u.y+=h.height,y<h.width&&(y=h.width)):(u.x+=h.width,v<h.height&&(v=h.height));i.endGroup()}},s.prototype._renderLabels=function(n){var r=this.series,e=r.length,u,t,f,i;for(n.stroke='null',n.fill='transparent',n.strokeWidth=1,u='wj-data-labels',n.startGroup(u),t=0;t<e;t++)f=r[t],i=this._hitTester._map[t],i&&f._renderLabels(n,i,this,this._lblAreas);n.endGroup()},s.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},s.prototype._clearPlotters=function(){for(var t=this._plotters.length,n=0;n<t;n++)this._plotters[n].clear()},s.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester;this._plotters.push(n)},Object.defineProperty(s.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new t._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new t._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new t._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new t._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new t._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_funnelPlotter",{get:function(){return this.__funnelPlotter===null&&(this.__funnelPlotter=new t._FunnelPlotter,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),s.prototype._getPlotter=function(n){var f=this._getChartType(),e=!1,u,i,r;n&&(u=n._getChartType(),u!==null&&u!==undefined&&u!=f&&(f=u,e=!0));switch(f){case t.ChartType.Column:this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Bar:this._barPlotter.rotated=!this._rotated;this._barPlotter.isVolume=!1;this._barPlotter.width=.7;i=this._barPlotter;break;case t.ChartType.Line:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Scatter:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.LineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;i=this._linePlotter;break;case t.ChartType.Area:this._areaPlotter.isSpline=!1;i=this._areaPlotter;break;case t.ChartType.Bubble:i=this._bubblePlotter;break;case t.ChartType.Candlestick:r=this._financePlotter;r.isCandle=!0;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.HighLowOpenClose:r=this._financePlotter;r.isCandle=!1;r.isEqui=!1;r.isArms=!1;r.isVolume=!1;i=r;break;case t.ChartType.Spline:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineSymbols:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;i=this._linePlotter;break;case t.ChartType.SplineArea:this._areaPlotter.isSpline=!0;i=this._areaPlotter;break;case t.ChartType.Funnel:i=this._funnelPlotter;break;default:throw'Invalid chart type.';}return i.rotated=this._rotated,f==t.ChartType.Bar&&(i.rotated=!i.rotated),e&&(i.rotated=this._isRotated()),i},s.prototype._layout=function(n,t,i){this.plotAreas.length>0?this._layoutMultiple(n,t,i):this._layoutSingle(n,t,i)},s.prototype._layoutSingle=function(i,r,u){for(var s,ut,k,d,g,rt,nt,h=i.width,o=i.height,et=new n.Size(h,.75*o),ot=new n.Size(o,.75*h),c=0,e=0,tt=h,b=o,y=0,l=0,a=h,v=o,ft=this._getAxes(),it=0;it<ft.length;it++){var f=ft[it],p=f.origin,w=f._getPosition();f.axisType==t.AxisType.X?(s=f._getHeight(u,h),s>et.height&&(s=et.height),f._desiredSize=new n.Size(et.width,s),ut=f._hasOrigin=n.isNumber(p)&&p>this.axisY._getMinNum()&&p<this.axisY._getMaxNum(),w==t.Position.Bottom?(c=Math.max(c,f._annoSize.width*.5),tt=Math.min(tt,h-f._annoSize.width*.5),ut?(g=this._convertY(p,l,v),v=v-Math.max(0,g+s-v)):v=v-s):w==t.Position.Top&&(c=Math.max(c,f._annoSize.width*.5),tt=Math.min(tt,h-f._annoSize.width*.5),ut?(g=this._convertY(p,l,v),l=l+Math.max(0,l-(g-s))):l=l+s)):f.axisType==t.AxisType.Y&&(s=f._getHeight(u,o),s>ot.height&&(s=ot.height),f._desiredSize=new n.Size(ot.width,s),ut=f._hasOrigin=n.isNumber(p)&&p>this.axisX._getMinNum()&&p<this.axisX._getMaxNum(),w==t.Position.Left?(f._actualAngle<0?b=Math.min(b,o-f._annoSize.height):f._actualAngle>0?e=Math.max(e,f._annoSize.height):(e=Math.max(e,f._annoSize.height*.5),b=Math.min(b,o-f._annoSize.height*.5)),ut?(nt=this._convertX(p,y,a),y+=Math.max(0,y-(nt-s))):y+=s):w==t.Position.Right&&(f._actualAngle>0?b=Math.min(b,o-f._annoSize.height):f._actualAngle<0?e=Math.max(e,f._annoSize.height):(e=Math.max(e,f._annoSize.height*.5),b=Math.min(b,o-f._annoSize.height*.5)),ut?(nt=this._convertX(p,y,a),a=a-Math.max(0,nt+s-a)):a=a-s))}for(k=this._parseMargin(this.plotMargin),c=isNaN(k.left)?y=Math.max(c,y)+i.left:y=k.left,tt=isNaN(k.right)?a=Math.min(tt,a)+i.left:a=r.width-k.right,e=isNaN(k.top)?l=Math.max(e,l)+i.top:l=k.top,b=isNaN(k.bottom)?v=Math.min(b,v)+i.top:v=r.height-k.bottom,h=Math.max(1,tt-c),o=Math.max(1,b-e),this._plotRect=new n.Rect(c,e,h,o),u.stroke=null,it=0;it<ft.length;it++){var f=ft[it],p=f.origin,w=f._getPosition();f.axisType==t.AxisType.X?(f._hasOrigin?(g=this._convertY(p,this._plotRect.top,this._plotRect.bottom),w==t.Position.Bottom?(d=new n.Rect(c,g,h,f._desiredSize.height),v+=Math.max(0,d.bottom-this._plotRect.bottom)):w==t.Position.Top?(d=new n.Rect(c,g-f._desiredSize.height,h,f._desiredSize.height),l-=Math.max(0,this._plotRect.top-d.top)):d=new n.Rect(c,g,h,1)):w==t.Position.Bottom?(d=new n.Rect(c,v,h,f._desiredSize.height),v+=f._desiredSize.height):w==t.Position.Top?(d=new n.Rect(c,l-f._desiredSize.height,h,f._desiredSize.height),l-=f._desiredSize.height):d=new n.Rect(c,l,h,1),f._layout(d,this._plotRect)):f.axisType==t.AxisType.Y&&(f._hasOrigin?(nt=this._convertX(p,this._plotRect.left,this._plotRect.right),w==t.Position.Left?(rt=new n.Rect(nt-f._desiredSize.height,e,o,f._desiredSize.height),y-=f._desiredSize.height):w==t.Position.Right?(rt=new n.Rect(nt,e,o,f._desiredSize.height),a+=f._desiredSize.height):rt=new n.Rect(nt,e,o,1)):w==t.Position.Left?(rt=new n.Rect(y-f._desiredSize.height,e,o,f._desiredSize.height),y-=f._desiredSize.height):w==t.Position.Right?(rt=new n.Rect(a,e,o,f._desiredSize.height),a+=f._desiredSize.height):rt=new n.Rect(y,e,o,1),f._layout(rt,this._plotRect))}},s.prototype._layoutMultiple=function(i,r,u){for(var wt,bt,at,vt,e,tt,l,h,it,ut,ii,c,o,ft,ni,rt,a=i.width,v=i.height,k=[],d=[],ti=this._getAxes(),ri=ti.length,s=0;s<ri;s++)if(e=ti[s],e._plotrect=null,e.axisType==t.AxisType.X){for(wt=e.plotArea?e.plotArea.column:0;k.length<=wt;)k.push(new f);k[wt].axes.push(e)}else if(e.axisType==t.AxisType.Y){for(bt=e.plotArea?e.plotArea.row:0;d.length<=bt;)d.push(new f);d[bt].axes.push(e)}var et=k.length,ot=d.length,kt=new n.Size(a,.3*v),dt=new n.Size(v,.3*a),g=0,nt=0,ct=a,lt=v;for(h=0;h<et;h++)for(o=k[h],o.right=a,o.bottom=v,s=0;s<o.axes.length;s++)e=o.axes[s],at=e._getHeight(u,e.axisType==t.AxisType.X?a:v),at>kt.height&&(at=kt.height),vt=new n.Size(kt.width,at),e._desiredSize=vt,h==0&&(o.left=Math.max(o.left,e._annoSize.width*.5)),h==et-1&&(o.right=Math.min(o.right,a-e._annoSize.width*.5)),l=e._getPosition(),l==t.Position.Bottom?o.bottom-=vt.height:l==t.Position.Top&&(o.top+=vt.height);for(c=0;c<ot;c++)for(o=d[c],o.right=a,o.bottom=v,s=0;s<o.axes.length;s++)e=o.axes[s],tt=new n.Size(dt.width,e._getHeight(u,e.axisType==t.AxisType.X?a:v)),tt.height>dt.height&&(tt.height=dt.height),e._desiredSize=tt,c==0&&(o.top=Math.max(o.top,e._annoSize.width*.5)),c==ot-1&&(o.bottom=Math.min(o.bottom,v-e._annoSize.width*.5)),l=e._getPosition(),l==t.Position.Left?o.left+=tt.height:l==t.Position.Right&&(o.right-=tt.height);var y=0,p=0,w=a,b=v;for(h=0;h<et;h++)o=k[h],y=Math.max(y,o.left),p=Math.max(p,o.top),w=Math.min(w,o.right),b=Math.min(b,o.bottom);for(c=0;c<ot;c++)o=d[c],y=Math.max(y,o.left),p=Math.max(p,o.top),w=Math.min(w,o.right),b=Math.min(b,o.bottom);y=g=Math.max(g,y);w=ct=Math.min(ct,w);p=nt=Math.max(nt,p);b=lt=Math.min(lt,b);this._plotRect=new n.Rect(g,nt,ct-g,lt-nt);var yt=this._plotRect.clone(),st=g,pt=this.plotAreas._calculateWidths(this._plotRect.width,et);for(h=0;h<et;h++){for(b=lt,p=nt,o=k[h],it=pt[h],s=0;s<o.axes.length;s++){var e=o.axes[s],l=e._getPosition(),ht=new n.Rect(st,yt.top,it,yt.height),gt;l==t.Position.Bottom?(gt=new n.Rect(st,b,it,e._desiredSize.height),b+=e._desiredSize.height):l==t.Position.Top&&(gt=new n.Rect(st,p-e._desiredSize.height,it,e._desiredSize.height),p-=e._desiredSize.height);e._layout(gt,ht)}for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.column==h&&rt._setPlotX(st,it);st+=it}for(ut=nt,ii=this.plotAreas._calculateHeights(this._plotRect.height,ot),c=0;c<ot;c++){for(y=g,w=ct,o=d[c],ft=ii[c],s=0;s<o.axes.length;s++){var e=o.axes[s],l=e._getPosition(),ht=new n.Rect(yt.left,ut,yt.width,ft);e._plotrect?(ht.left=e._plotrect.left,ht.width=e._plotrect.width):pt&&pt.length>0&&(ht.width=pt[0]);l==t.Position.Left?(ni=new n.Rect(y-e._desiredSize.height,ut,ft,e._desiredSize.height),y-=e._desiredSize.height):l==t.Position.Right&&(ni=new n.Rect(w,ut,ft,e._desiredSize.height),w+=e._desiredSize.height);e._layout(ni,ht)}for(s=0;s<this.plotAreas.length;s++)rt=this.plotAreas[s],rt.row==c&&rt._setPlotY(ut,ft);ut+=ft}},s.prototype._convertX=function(n,t,i){var r=this.axisX;return r.reversed?i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._convertY=function(n,t,i){var r=this.axisY;return r.reversed?t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},s.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},s.prototype._select=function(n,t){var u=!1,i;(n!=this._selection||t!=this._selectionIndex)&&(u=!0);this._selection&&this._highlight(this._selection,!1,this._selectionIndex);this._selection=n;this._selectionIndex=t;this._selection&&this._highlight(this._selection,!0,this._selectionIndex);this.selectionMode==r.Point&&(i=n?n.collectionView:this._cv,i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(n?t:-1),this._notifyCurrentChanged=!0));u&&this.onSelectionChanged()},s.prototype._highlightCurrent=function(){var t,i,n;this.selectionMode!=r.None&&(t=this._selection,i=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(i=n.currentPosition),this._highlight(t,!0,i)))},s.prototype._highlight=function(i,u,f){var h,e,s,o;i=n.asType(i,t.SeriesBase,!0);this.selectionMode==r.Series?(h=this.series.indexOf(i),e=i.hostElement,u?e.parentNode.appendChild(e):e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','polyline','polygon','line','path']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u),i.legendElement&&this._highlightItems(this._find(i.legendElement,['rect','ellipse','line']),t.FlexChart._CSS_SELECTION,u)):this.selectionMode==r.Point&&(h=this.series.indexOf(i),e=i.hostElement,u?(e.parentNode.appendChild(e),s=i.getPlotElement(f),s&&(s.nodeName!='g'&&this._highlightItems([s],t.FlexChart._CSS_SELECTION,u),o=this._find(s,['line','rect','ellipse','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u))):(e.parentNode.insertBefore(e,e.parentNode.childNodes.item(h)),o=this._find(e,['rect','ellipse','line','path','polygon']),this._highlightItems(o,t.FlexChart._CSS_SELECTION,u)))},s.prototype._updateAuxAxes=function(i,r){for(var s,h,l,e,o,f,u,a,c=2;c<i.length;c++){for(s=i[c],s._chart=this,h=[],f=0;f<this.series.length;f++)l=this.series[f],(l.axisX==s||l.axisY==s)&&h.push(l);for(f=0;f<h.length;f++)u=h[f].getDataRect()||h[f]._getDataRect(),u&&(s.axisType==t.AxisType.X&&!r||s.axisType==t.AxisType.Y&&r?((e===undefined||u.left<e)&&(e=u.left),(o===undefined||u.right>o)&&(o=u.right)):((e===undefined||u.top<e)&&(e=u.top),(o===undefined||u.bottom>o)&&(o=u.bottom)));a=h[0].getDataType(0);a==null&&(a=n.DataType.Number);i[c]._updateActualLimits(a,e,o)}},s._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},s._intersects=function(n,t){return n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top?!1:!0},s._toOADate=function(n){return n.valueOf()},s._fromOADate=function(n){return new Date(n)},s._renderText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,e,o,s),l=r.x,a=r.y,v;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}return v=new n.Rect(l,a-c.height,c.width,c.height),h?h(v)?(t.drawString(i,new n.Point(l,a),e,s),v):null:(t.drawString(i,new n.Point(l,a),e,s),v)},s._renderRotatedText=function(t,i,r,u,f,e,o,s,h,c){var l=t.measureString(i,s,h,c),a=r.x,v=r.y;switch(u){case 1:a-=.5*l.width;break;case 2:a-=l.width}switch(f){case 1:v+=.5*l.height;break;case 0:v+=l.height}t.drawStringRotated(i,new n.Point(a,v),e,o,s,c)},s}(t.FlexChartBase);i._CSS_AXIS_X='wj-axis-x';i._CSS_AXIS_Y='wj-axis-y';i._CSS_LINE='wj-line';i._CSS_GRIDLINE='wj-gridline';i._CSS_TICK='wj-tick';i._CSS_GRIDLINE_MINOR='wj-gridline-minor';i._CSS_TICK_MINOR='wj-tick-minor';i._CSS_LABEL='wj-label';i._CSS_LEGEND='wj-legend';i._CSS_HEADER='wj-header';i._CSS_FOOTER='wj-footer';i._CSS_TITLE='wj-title';i._CSS_SELECTION='wj-state-selected';i._CSS_PLOT_AREA='wj-plot-area';i._FG='#666';i._epoch=new Date(1899,11,30).getTime();i._msPerDay=864e5;t.FlexChartCore=i;f=function(){function n(){this._axes=[];this.left=0;this.right=0;this.top=0;this.bottom=0}return Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),n}();e=function(){function i(){this.stackAbs={};this._xvals=null}return i.prototype.analyse=function(r,f,e,o,s,h){var at=this,ht,w,c,ft,y,k,d,rt,a,p,v,tt,b,ut,et,ot;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var g={},nt={},it={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=o,o!=null)for(ht=o.length,w=0;w<ht;w++)v=o[w],(isNaN(this.minX)||this.minX>v)&&(this.minX=v),(isNaN(this.maxX)||this.maxX<v)&&(this.maxX=v),v>0&&(isNaN(this.minXp)||this.minXp>v)&&(this.minXp=v),w>0&&(k=Math.abs(v-o[w-1]),!isNaN(k)&&(k<this.dx||this.dx==0)&&(this.dx=k));for(w=0;w<r.length;w++){var l=r[w],st=l._getChartType(),ct=l.chartType!==undefined,lt=l.visibility;if(lt!=t.SeriesVisibility.Hidden&&lt!=t.SeriesVisibility.Legend){if(c=l.getDataRect(),c&&(!isNaN(this.minX)&&this.minX<c.left&&(ft=c.right,c.left=this.minX,c.width=ft-this.minX),!isNaN(this.maxX)&&this.maxX>c.right&&(c.width=this.maxX-c.left),!isNaN(this.minY)&&this.minY<c.top&&(ft=c.bottom,c.top=this.minY,c.height=ft-this.minY),!isNaN(this.maxY)&&this.maxY>c.bottom&&(c.height=this.maxY-c.top)),y=null,f?l._isCustomAxisY()||(y=l.getValues(1)):l._isCustomAxisX()||(y=l.getValues(1)),y)for(this.dataTypeX||(this.dataTypeX=l.getDataType(1)),a=0;a<y.length;a++)p=y[a],i.isValid(p)&&((isNaN(this.minX)||this.minX>p)&&(this.minX=p),(isNaN(this.maxX)||this.maxX<p)&&(this.maxX=p),a>0&&(!st||st==t.ChartType.Column||st==t.ChartType.Bar)&&(k=Math.abs(p-y[a-1]),!isNaN(k)&&k>0&&(k<this.dx||this.dx==0)&&(this.dx=k)));if(d=null,rt=!1,f?(rt=l._isCustomAxisX(),d=l.getValues(0)):(rt=l._isCustomAxisY(),d=l.getValues(0)),d&&(this.dataTypeY||rt||(this.dataTypeY=l.getDataType(0)),isNaN(this.minX)?this.minX=0:y||o||(this.minX=Math.min(this.minX,0)),isNaN(this.maxX)?this.maxX=d.length-1:y||o||(this.maxX=Math.max(this.maxX,d.length-1)),!rt))for(a=0;a<d.length;a++)p=d[a],v=y?n.asNumber(y[a],!0):o?n.asNumber(o[a],!0):a,n.isArray(p)?p.forEach(function(n){at._parseYVal(n,v,ct,it,g,nt)}):this._parseYVal(p,v,ct,it,g,nt);tt=l.getDataRect(new n.Rect(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY),c);tt&&(this.minX=tt.left,this.maxX=tt.right,this.minY=tt.top,this.maxY=tt.bottom)}}if(e==u.Stacked){for(b in g)g[b]>this.maxY&&(this.maxY=g[b]);for(b in nt)nt[b]<this.minY&&(this.minY=nt[b])}else if(e==u.Stacked100pc){this.minY=0;this.maxY=1;for(b in it)ut=it[b],isFinite(ut)&&ut!=0&&(et=g[b],ot=nt[b],isFinite(et)&&(et=Math.min(et/ut,this.maxY)),isFinite(ot)&&(ot=Math.max(ot/ut,this.minY)))}this.stackAbs=it;s&&(f?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);h&&(f?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},i.prototype._parseYVal=function(n,t,r,u,f,e){i.isValid(n)&&((isNaN(this.minY)||this.minY>n)&&(this.minY=n),(isNaN(this.maxY)||this.maxY<n)&&(this.maxY=n),r||(n>0?(isNaN(f[t])?f[t]=n:f[t]+=n,(isNaN(this.minYp)||this.minYp>n)&&(this.minYp=n)):isNaN(e[t])?e[t]=n:e[t]+=n,isNaN(u[t])?u[t]=Math.abs(n):u[t]+=Math.abs(n)))},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinXp=function(){return this.minXp},i.prototype.getMinYp=function(){return this.minYp},i.prototype.getDeltaX=function(){return this.dx},i.prototype.getDataTypeX=function(){return this.dataTypeX},i.prototype.getDataTypeY=function(){return this.dataTypeY},i.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},i.prototype.getXVals=function(){return this._xvals},i.isValid=function(n){return isFinite(n)},i}();t._DataInfo=e;o=function(t){function i(){var n=t.call(this)||this;return n._content='<b>{seriesName}</b><br/>{x} {y}',n._threshold=15,n}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=o})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea";n[n.Funnel=12]="Funnel"})(i=t.ChartType||(t.ChartType={}));r=function(r){function u(n,t){var u=r.call(this,n,null)||this;return u._chartType=i.Column,u.initialize(t),u}return __extends(u,r),u.prototype._getChartType=function(){return this._chartType},Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(i){i!=this._stacking&&(this._stacking=n.asEnum(i,t.Stacking),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),u}(t.FlexChartCore);t.FlexChart=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var u,r,s,e,h,c,i,f,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Auto=5]="Auto"})(u=t.Position||(t.Position={})),function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(r=t.AxisType||(t.AxisType={})),function(n){n[n.Auto=0]="Auto";n[n.Show=1]="Show"}(s=t.OverlappingLabels||(t.OverlappingLabels={})),function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(e=t.TickMark||(t.TickMark={}));h=function(){function i(t){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._minorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this._labelPadding=2;this.rangeChanged=new n.Event;this._customConvert=null;this._customConvertBack=null;this.__uniqueId=i._id++;this._position=t;t==u.Bottom||t==u.Top?this._axisType=r.X:(this._axisType=r.Y,this._axisLine=!1);this._minorTickMarks=e.None;this._overlap=s.Auto}return Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=n.asBoolean(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,u,!1),this._position==u.Bottom||this._position==u.Top?this._axisType=r.X:(this._position==u.Left||this._position==u.Right)&&(this._axisType=r.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){t!=this._minorTickMarks&&(this._minorTickMarks=n.asEnum(t,e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){t!=this._overlap&&(this._overlap=n.asEnum(t,s,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=n.asFunction(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"plotArea",{get:function(){return this._parea},set:function(i){i!=this._parea&&(this._parea=n.asType(i,t.PlotArea,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_groupClass",{get:function(){return this.axisType===r.X?t.FlexChartCore._CSS_AXIS_X:t.FlexChartCore._CSS_AXIS_Y},enumerable:!0,configurable:!0}),i.prototype.onRangeChanged=function(n){this.rangeChanged.raise(this,n)},i.prototype._getPosition=function(){if(this.axisType==r.X){if(this.position==u.Auto)return u.Bottom}else if(this.axisType==r.Y&&this.position==u.Auto)return u.Left;return this.position},i.prototype._isOverlapped=function(n,t,i){var f=this._lbls,u,e,o,s;if(f!=null&&f.length>1){var h=f.length,c=this._values&&this._values.length==h?this._values:null,l=0,a=0;for(u=0;u<h;u++)if(e=c?c[u]:u,e>=this._actualMin&&e<=this._actualMax)if(o=t*(e-this._actualMin)/(this._actualMax-this._actualMin),s=n.measureString(f[u],i,this._groupClass),this.axisType==r.X){if(u>0&&Math.abs(o-l)<Math.max(s.width,a)+12)return!0;l=o;a=s.width}else this.axisType==r.Y}return!1},i.prototype._getHeight=function(i,u){var k,d,h,g,c,f,o,it,l,s;this._actualAngle=null;var a=t.FlexChart._CSS_LABEL,rt=t.FlexChart._CSS_TITLE,nt=this._actualMax-this._actualMin,b=this._nicePrecision(nt);(b<0||b>15)&&(b=0);var v=.1*nt,y=this._lbls,p=this.labelAngle;if(this.labels&&this._chart._getChartType()!==t.ChartType.Funnel){if(v=this._updateAutoFormat(v),y!=null&&y.length>0){for(k=y.length,d=this._values&&this._values.length==k?this._values:null,this._annoSize=new n.Size,h=0;h<k;h++)g=d?d[h]:h,g>=this._actualMin&&g<=this._actualMax&&(f=i.measureString(y[h],a,this._groupClass),this.axisType==r.X?f.width>this._annoSize.width&&(this._annoSize.width=f.width):f.width>this._annoSize.width&&(this._annoSize.width=f.width),f.height>this._annoSize.height&&(this._annoSize.height=f.height));p==null&&(this._isOverlapped(i,u,a,this.axisType)?p=this._actualAngle=-45:this._actualAngle=0)}else c=this._formatValue(this._actualMin-v),f=i.measureString(c,a,this._groupClass),this._annoSize=f,c=this._formatValue(this._actualMax+v),f=i.measureString(c,a,this._groupClass),f.width>this._annoSize.width&&(this._annoSize.width=f.width),f.height>this._annoSize.height&&(this._annoSize.height=f.height);if(p){var w=p*Math.PI/180,tt=this._annoSize.width,o=this._annoSize.height;this._annoSize.width=tt*Math.abs(Math.cos(w))+o*Math.abs(Math.sin(w));this._annoSize.height=tt*Math.abs(Math.sin(w))+o*Math.abs(Math.cos(w))}}else this._annoSize=new n.Size;return o=2*this._labelPadding,o+=this._axisType==r.X?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,it=this._TICK_HEIGHT,l=this._TICK_OVERLAP,s==e.Outside?l=1:s==e.Inside?l=-1:s==e.Cross&&(l=0),s=this.majorTickMarks,s==null&&(s=e.Outside),s!=e.None&&(o+=.5*(1+l)*it),this._title&&(c=this._title,this._szTitle=i.measureString(c,rt,this._groupClass),o+=this._szTitle.height),i.fontSize=null,o},i.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var i=this.format,u=.001*(this._actualMax-this._actualMin)/10,e=new f(u*f.TicksPerSecond),r=n.isNumber(this._majorUnit)?f.fromDays(this._majorUnit):o.NiceTimeSpan(e,i);i||(this._tfmt=o.GetTimeDefaultFormat(1e3*r.TotalSeconds,0));t=r.TotalSeconds}return t},i.prototype._updateActualLimitsByChartType=function(n,i,r){if(n&&n.length>0&&!this._isTimeAxis){var u=this._chart._getChartType();u!=t.ChartType.Column&&u!=t.ChartType.Bar&&(i-=.5,r+=.5)}return{min:i,max:r}},i.prototype._updateActualLimits=function(t,i,r,u,f){var l,a,v,e,o,s,y,b,k,h,c,p,w;if(u===void 0&&(u=null),f===void 0&&(f=null),l=this._actualMin,a=this._actualMax,this._isTimeAxis=t==n.DataType.Date,v=this._updateActualLimitsByChartType(u,i,r),i=v.min,r=v.max,e=this._min,o=this._max,n.isDate(e)&&(e=e.valueOf()),n.isDate(o)&&(o=o.valueOf()),this._actualMin=e!=null?e:i,this._actualMax=o!=null?o:r,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),this.logBase>0&&(s=this.logBase,y=Math.log(s),this._max||(b=Math.ceil(Math.log(this._actualMax)/y),this._actualMax=Math.pow(s,b)),this._min||(k=Math.floor(Math.log(this._actualMin)/y),this._actualMin=Math.pow(s,k)),(this._actualMin<=0||!n.isNumber(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)),(l!=this._actualMin&&(n.isNumber(l)||n.isNumber(this._actualMin))||a!=this._actualMax&&(n.isNumber(a)||n.isNumber(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[];this._lbls=[];var nt=this._items.length,d='value',g='text';for(this.binding&&(h=this.binding.split(','),h.length==2&&(d=h[0],g=h[1])),c=0;c<nt;c++)p=this._items[c],w=p[d],n.isNumber(w)&&(this._values.push(w),this._lbls.push(p[g]))}else this._lbls=u,this._values=f},i.prototype._layout=function(t,i){var u=this.axisType==r.Y;this._plotrect=i;this._axrect=u?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(r){var s,h,a,p,nt,tt,f,rt;if(this.position!=u.None){this._vals={};s=0;this.labelAngle&&(s=this.labelAngle,s>90?s=90:s<-90&&(s=-90));this.labelAngle==null&&this._actualAngle!=null&&(s=this._actualAngle);var d=t.FlexChart._FG,w=this._actualMax-this._actualMin;if(n.isNumber(w)){h=this._calcMajorUnit();h==0&&(h=this._niceTickNumber(w)*.1);var y=Math.min(i.MAX_MAJOR,Math.floor(w/h)+1),o=[],c=[];if(this._rects=[],this._vals.major=o,this._vals.hasLbls=[],a=Math.floor(this._actualMin/h)*h,a<this._actualMin&&(a+=h),p=!1,this._lbls&&this._lbls.length>0)if(c=this._lbls,this._values.length==0)for(p=!0,f=0;f<c.length;f++)o.push(f);else o=this._values;else this._isTimeAxis?this._createTimeLabels(a,y,o,c):this.logBase?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,o,c,!0):this._createLabels(a,y,h,o,c);y=Math.min(o.length,c.length);r.textFill=d;var g=this._TICK_HEIGHT,v=this._TICK_OVERLAP,l=this.majorTickMarks;for(l==null&&(l=e.Outside),l==e.Outside?v=1:l==e.Inside?v=-1:l==e.Cross&&(v=0),nt=.5*(v-1)*g,tt=.5*(1+v)*g,f=0;f<y;f++){var it=!0,b=o[f],ut=c[f],k=this.labels;k&&(p||this.itemsSource)&&this.majorUnit&&f%this.majorUnit!=0&&(k=!1);b>=this._actualMin&&b<=this._actualMax&&(rt=r.textFill,it=this._renderLabelsAndTicks(r,f,b,ut,s,l,k,nt,tt),r.textFill=rt);this._vals.hasLbls.push(it)}}(this.minorGrid||this.minorTickMarks!=e.None)&&this._renderMinor(r,o,p);r.stroke=d;r.fontSize=null;this._renderLineAndTitle(r);r.stroke=null;r.fontSize=null;r.textFill=null;r.strokeWidth=null}},i.prototype._renderLineAndTitle=function(i){var s=this._getPosition(),c=this.axisType==r.Y,h=s!=u.Top&&s!=u.Right,e=t.FlexChart._CSS_TITLE,o=t.FlexChart._CSS_LINE,f;c?h?(this._title&&(f=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,-90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)):(this._title&&(f=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,f,1,1,f,90,e,this._groupClass)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o)):h?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,e)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,e))},i.prototype._renderMinor=function(n,t,i){var h=this._getPosition(),c=this.axisType==r.Y,l=h!=u.Top&&h!=u.Right,f,s,e,o;if(this.logBase){if(this.minorUnit>0){for(f=[],this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,f,null,!1),s=[],e=0;e<f.length;e++)o=f[e],t.indexOf(o)==-1&&o>this._actualMin&&s.push(o);this._renderMinors(n,s,c,l)}}else this._createMinors(n,t,c,l,i)},i.prototype._renderLabelsAndTicks=function(i,f,o,h,c,l,a,v,y){var rt=this._getPosition(),d=!0,ut=this.axisType==r.Y,g=rt!=u.Top&&rt!=u.Right,nt=this.labelPadding||2,ft=this._TICK_WIDTH,tt=this._getLabelAlign(ut),w=t.FlexChart._CSS_LABEL,et=t.FlexChart._CSS_GRIDLINE,it=t.FlexChart._CSS_TICK,ot=t.FlexChart._FG,st=t.FlexChart._FG,ht=this._GRIDLINE_WIDTH,ct=o!=this._actualMin&&this.majorGrid,k,b,p;return ut?(k=this.convert(o),ct&&(i.stroke=ot,i.strokeWidth=ht,i.drawLine(this._plotrect.left,k,this._plotrect.right,k,et)),i.stroke=st,i.strokeWidth=ft,g?(l!=e.None&&i.drawLine(this._axrect.right-v,k,this._axrect.right-y,k,it),a&&(p=new n.Point(this._axrect.right-y-this._TICK_LABEL_DISTANCE-nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,2,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,2,tt,w))):(l!=e.None&&i.drawLine(this._axrect.left+v,k,this._axrect.left+y,k,it),a&&(p=new n.Point(this._axrect.left+y+this._TICK_LABEL_DISTANCE+nt,k),c>0?c==90?t.FlexChart._renderRotatedText(i,h,p,1,2,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):c<0?c==-90?t.FlexChart._renderRotatedText(i,h,p,1,0,p,c,w,this._groupClass):t.FlexChart._renderRotatedText(i,h,p,0,1,p,c,w,this._groupClass):this._renderLabel(i,o,h,p,0,tt,w)))):(b=this.convert(o),this.overlappingLabels==s.Auto&&this._xCross(b)&&(a=!1),ct&&(i.stroke=ot,i.strokeWidth=ht,i.drawLine(b,this._plotrect.top,b,this._plotrect.bottom,et)),i.stroke=st,i.strokeWidth=ft,g?(d=!1,a&&(p=new n.Point(b,this._axrect.top+y+nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,0,w)),l!=e.None&&d&&(b=this.convert(o),i.drawLine(b,this._axrect.top+v,b,this._axrect.top+y,it))):(a&&(p=new n.Point(b,this._axrect.bottom-y-nt),d=c!=0?this._renderRotatedLabel(i,h,p,c,w,g):this._renderLabel(i,o,h,p,tt,2,w)),l!=e.None&&(b=this.convert(o),i.drawLine(b,this._axrect.bottom-v,b,this._axrect.bottom-y,it)))),d},i.prototype._xCross=function(n){for(var i,r=this._rects.length,t=0;t<r;t++)if(i=this._rects[t],n>=i.left&&n<=i.right)return!0;return!1},i.prototype._createMinors=function(t,r,u,f,e){var o;if(r&&r.length>1){var c=this.majorUnit?this._isTimeAxis?this.majorUnit*864e5:this.majorUnit:r[1]-r[0],h=n.isNumber(this.minorUnit)?this._isTimeAxis?this.minorUnit*864e5:this.minorUnit:c*.5,s=[];for(o=r[0];o>this._actualMin&&s.length<i.MAX_MINOR;o-=h)r.indexOf(o)==-1&&s.push(o);for(o=r[0]+h;o<this._actualMax&&s.length<i.MAX_MINOR;o+=h)r.indexOf(o)==-1?s.push(o):e&&this.majorUnit&&o%this.majorUnit!=0&&s.push(o);this._renderMinors(t,s,u,f)}},i.prototype._renderMinors=function(n,i,r,u){var w=this._TICK_HEIGHT,b=this._TICK_WIDTH,h=this._TICK_OVERLAP,k=t.FlexChart._FG,y=this.minorTickMarks,p=!0,f,o,s;this._vals.minor=i;y==e.Outside?h=1:y==e.Inside?h=-1:y==e.Cross?h=0:p=!1;var c=.5*(h-1)*w,l=.5*(1+h)*w,it=i?i.length:0,d=this.minorGrid,a=this._plotrect,g=this._GRIDLINE_WIDTH,nt=t.FlexChart._FG,tt=t.FlexChart._CSS_GRIDLINE_MINOR,v=t.FlexChart._CSS_TICK_MINOR;for(f=0;f<it;f++)i[f]>=this.actualMin&&i[f]<=this.actualMax&&(r?(o=this.convert(i[f]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(this._axrect.right-c,o,this._axrect.right-l,o,v):n.drawLine(this._axrect.left+c,o,this._axrect.left+l,o,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(a.left,o,a.right,o,tt))):(s=this.convert(i[f]),p&&(n.stroke=k,n.strokeWidth=b,u?n.drawLine(s,this._axrect.top+c,s,this._axrect.top+l,v):n.drawLine(s,this._axrect.bottom-c,s,this._axrect.bottom-l,v)),d&&(n.stroke=nt,n.strokeWidth=g,n.drawLine(s,a.top,s,a.bottom,tt))))},i.prototype._renderLabel=function(i,f,e,o,h,c,l){var w=!1,v,a;if(this.itemFormatter&&(v=o.clone(),this.axisType==r.X?v.y=this.position==u.Top?this._plotrect.top:this._plotrect.bottom:v.x=this.position==u.Right?this._plotrect.right:this._plotrect.left,a={val:f,text:e,pos:v,cls:l},a=this.itemFormatter(i,a),a?(e=a.text,l=a.cls):e=null),e){var p=this._rects,b=this.overlappingLabels==s.Auto&&!n.isNumber(this._actualAngle),y=t.FlexChart._renderText(i,e,o,h,c,l,this._groupClass,null,function(n){var r,i;if(b)for(r=p.length,i=0;i<r;i++)if(t.FlexChart._intersects(p[i],n))return!1;return!0});y&&(y.left+=4,y.width+=8,p.push(y),w=!0)}return w},i.prototype._renderRotatedLabel=function(i,r,u,f,e,o){var y,h,l,p;if(r){var c=i.measureString(r,e,this._groupClass),a=new n.Rect(u.x,u.y,c.height+2,c.width),v=this._rects,w=this.overlappingLabels==s.Auto;if(w)for(y=v.length,h=0;h<y;h++)if(t.FlexChart._intersects(v[h],a))return!1;return f!=90&&f!=-90&&(l=.5*c.height*Math.abs(Math.sin(f*Math.PI/180)),o?u.y+=l:u.y-=l),p=o?f>0?0:2:f>0?2:0,t.FlexChart._renderRotatedText(i,r,u,p,1,u,f,e,this._groupClass),this._rects.push(a),!0}return!1},i.prototype._getLabelAlign=function(n){var t=1,i;return this.labelAlign&&(i=this.labelAlign.toLowerCase(),n?i=='top'?t=0:i=='bottom'&&(t=2):i=='left'?t=0:i=='right'&&(t=2)),t},i.prototype.convert=function(n,t,i){var f=t==null?this._actualMax:t,u=i==null?this._actualMin:i,l,a,c;if(f==u)return 0;var s=this._axrect.left,e=this._axrect.width,h=this._axrect.top,o=this._axrect.height;return this._customConvert!=null?(l=this._customConvert(n,u,f),this.axisType==r.Y?h+l*o:s+l*e):(a=this.logBase,a?n<=0?NaN:(c=Math.log(f/u),this._reversed?this.axisType==r.Y?h+Math.log(n/u)/c*o:s+e-Math.log(n/u)/c*e:this.axisType==r.Y?h+o-Math.log(n/u)/c*o:s+Math.log(n/u)/c*e):this._reversed?this.axisType==r.Y?h+(n-u)/(f-u)*o:s+e-(n-u)/(f-u)*e:this.axisType==r.Y?h+o-(n-u)/(f-u)*o:s+(n-u)/(f-u)*e)},i.prototype.convertBack=function(n){var s;if(this._actualMax==this._actualMin)return 0;var i=this._plotrect.left,t=this._plotrect.width,u=this._plotrect.top,f=this._plotrect.height,e=this._actualMax-this._actualMin,o=this.logBase;return this._customConvertBack!=null?this.axisType==r.Y?this._customConvertBack((n-u)/f,this._actualMin,this._actualMax):this._customConvertBack((n-i)/t,this._actualMin,this._actualMax):o?(s=0,s=this._reversed?this.axisType==r.Y?(n-u)/f:1-(n-i)/t:this.axisType==r.Y?1-(n-u)/f:(n-i)/t,Math.pow(o,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*s)/Math.log(o))):this._reversed?this.axisType==r.Y?this._actualMin+(n-u)*e/f:this._actualMin+(i+t-n)*e/t:this.axisType==r.Y?this._actualMax-(n-u)*e/f:this._actualMin+(n-i)*e/t},Object.defineProperty(i.prototype,"axisType",{get:function(){var n=this._chart;if(n){if(n.axisX==this)return r.X;if(n.axisY==this)return r.Y}return this._axisType},enumerable:!0,configurable:!0}),i.prototype._getMinNum=function(){return this._actualMin},i.prototype._getMaxNum=function(){return this._actualMax},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._cvCollectionChanged=function(){this._invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createLogarithmicLabels=function(n,t,i,r,f,e){var s=this.logBase,b=Math.log(s),k=Math.floor(Math.log(n)/b),d=Math.ceil(Math.log(t)/b),h=s,y=!0,c,p,w,l,a,g,v,o;for(i>0&&(y=!1,h=i),h<s&&(h=s),c=(d-k+1)*s/h,p=1,e&&(w=this._getPosition(),l=this._getAnnoNumber(w==u.Left||w==u.Right),c>l?p=Math.floor(c/l+1):y&&(c<=.2*l?h=.2*s:c<=.1*l&&(h=.1*s))),a=k;a<=d;a+=p)if(y)for(g=Math.pow(s,a),v=0;v*h<s-1;v++)o=g*(1+v*h),o>=n&&o<=t&&(v==0?(r.unshift(o),f&&f.unshift(this._formatValue(o))):(r.push(o),f&&f.push(this._formatValue(o))));else o=Math.pow(h,a),o>=n&&o<=t&&(r.push(o),f&&f.push(this._formatValue(o)))},i.prototype._createTimeLabels=function(t,i,u,e){var w=this._actualMin,b=this._actualMax,a=new Date(w),k=new Date(b),d=this._format,g=this._getAnnoNumber(this._axisType==r.Y),it,nt,tt,h,et,v,y,s,c;g>12&&(g=12);var ut=.001*(this._actualMax-this._actualMin)/g,ft=new f(ut*f.TicksPerSecond),l=n.isNumber(this._majorUnit)?f.fromDays(this._majorUnit):o.NiceTimeSpan(ft,d);if(d||(this._tfmt=d=o.GetTimeDefaultFormat(1e3*l.TotalSeconds,0)),it=l.Ticks,nt=o.RoundTime(w,l.TotalDays,!1),isFinite(nt)&&(w=nt),tt=o.RoundTime(b,l.TotalDays,!0),isFinite(tt)&&(b=tt),h=new Date(w),et=new Date(b),l.TotalDays>=365&&!n.isNumber(this._majorUnit))for(h=new Date(a.getFullYear(),1,1),h<a&&h.setFullYear(h.getFullYear()+1),v=l.TotalDays/365,v=v-v%1,s=h;s<=k&&v;s.setFullYear(s.getFullYear()+v))c=s.valueOf(),u.push(c),e.push(this._formatValue(c));else if(l.TotalDays>=30&&!n.isNumber(this._majorUnit))for(h=new Date(a.getFullYear(),a.getMonth(),1),h<a&&h.setMonth(h.getMonth()+1),y=l.TotalDays/30,y=y-y%1,s=h;s<=k;s.setMonth(s.getMonth()+y))c=s.valueOf(),u.push(c),e.push(this._formatValue(c));else{var p=1e3*it/f.TicksPerSecond,s=h,rt=a.getTime()-s.getTime();for(rt>p&&(s=new Date(s.getTime()+Math.floor(rt/p)*p));s<=k&&p;s=new Date(s.getTime()+p))s>=a&&(c=s.valueOf(),u.push(c),e.push(this._formatValue(c)))}},i.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?n.Globalize.format(new Date(t),this._format):n.Globalize.format(new Date(t),this._tfmt);if(this._format)return n.Globalize.format(t,this._format);var i=t==Math.round(t)?'n0':'n';return n.Globalize.format(t,i)},i.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!n.isNumber(t)){var u=this._actualMax-this._actualMin,f=this._nicePrecision(u),i=u/this._getAnnoNumber(this.axisType==r.Y);t=this._niceNumber(2*i,-f,!0);t<i&&(t=this._niceNumber(i,-f+1,!1));t<i&&(t=this._niceTickNumber(i))}return t},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/(i+6)),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(t){var r,i,u;return!n.isNumber(t)||t<=0?0:(r=Math.log(t)/Math.LN10,i=r>=0?Math.floor(r):Math.ceil(r),u=t/Math.pow(10,i),u<3&&(i=-i+1,u=t/Math.pow(10,i),u<3&&(i=i+1)),i)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i}();h.MAX_MAJOR=1e3;h.MAX_MINOR=2e3;h._id=0;t.Axis=h;c=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=c,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=60]="minute";n[n.hour=3600]="hour";n[n.day=86400]="day";n[n.week=604800]="week";n[n.month=2678400]="month";n[n.year=31536e3]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));f=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n}();f.TicksPerSecond=1e7;o=function(){function r(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return r.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},r.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},r.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},r.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},r.RoundTime=function(n,t,u){var e=t*86400,f;if(e>0)return(f=new r(n),e<i.minute)?(f.second=this.tround(f.second,e,u),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,u),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,u),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,u),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,u)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,u),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return u&&o!=s&&(o+=t),e+o},r.TimeSpanFromTmInc=function(n){var r=f.fromSeconds(1),t,u;if(n!=i.maxtime)if(n>i.tickf1)r=f.fromSeconds(n);else{for(t=n,u=1,t+=7;t>0;)u*=10,t--;r=new f(u)}return r},r.manualTimeInc=function(n){var t=i.second,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf('f'),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=='%')f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!='f')break;f--}t=f}else n.indexOf('s')>=0?t=i.second:n.indexOf('m')>=0?t=i.minute:n.indexOf('h')>=0||n.indexOf('H')?t=i.hour:n.indexOf('d')>=0?t=i.day:n.indexOf('M')>=0?t=i.month:n.indexOf('y')>=0&&(t=i.year);return t},r.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},r.NiceTimeSpan=function(n,t){var e=i.second,o,u,s;if(t!=null&&t.length>0&&(e=r.manualTimeInc(t)),o=0,u=0,e<i.second&&n.TotalSeconds<10){for(o=n.Ticks,u=r.TimeSpanFromTmInc(e).Ticks;o>10*u;)u*=10;return s=u,o>s&&(s*=2),o>s&&(s=5*u),o>s&&(s=10*u),new f(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return r.TimeSpanFromTmInc(e);if(u=1,e<i.minute){if(o<i.minute&&(u=r.getNiceInc([1,2,5,10,15,30],o,e),u!=0))return f.fromSeconds(u);e=i.minute}if(e<i.hour){if(o<i.hour&&(u=r.getNiceInc([1,2,5,10,15,30],o,e),u!=0))return f.fromSeconds(u);e=i.hour}if(e<i.day){if(o<i.day&&(u=r.getNiceInc([1,3,6,12],o,e),u!=0))return f.fromSeconds(u);e=i.day}if(e<i.month){if(o<i.month&&(u=r.getNiceInc([1,2,7,14],o,e),u!=0))return f.fromSeconds(u);e=i.month}if(e<i.year){if(o<i.year&&(u=r.getNiceInc([1,2,3,4,6],o,e),u!=0))return f.fromSeconds(u);e=i.year}return u=100*i.year,o<u&&(u=r.getNiceInc([1,2,5,10,20,50],o,e),u==0&&(u=100*i.year)),f.fromSeconds(u)},r.NiceTimeUnit=function(n,t){var i=f.fromDays(n);return i=r.NiceTimeSpan(i,t),i.TotalDays},r.GetTimeDefaultFormat=function(t,r){var o;if(!n.isNumber(t)||!n.isNumber(r))return'';var u='s',s=f.fromSeconds(.001*(t-r)),e=s.TotalSeconds;if(e>=i.year)u='yyyy';else if(e>=i.month)u='MMM yyyy';else if(e>=i.day)u='MMM d';else if(e>=i.hour)u='ddd H:mm';else if(e>=.5*i.hour)u='H:mm';else if(e>=1)u='H:mm:ss';else if(e>0)for(o=s.Ticks,u="s.";o<f.TicksPerSecond;)o*=10,u+='f';return u},r}();o.secInYear=86400})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var f=function(){function t(t){this._row=0;this._col=0;this._rect=new n.Rect(0,0,0,0);t&&n.copy(this,t)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){n!=this._width&&(this._width=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){n!=this._height&&(this._height=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(n){n.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(n,t){this._rect.left=n;this._rect.width=t},t.prototype._setPlotY=function(n,t){this._rect.top=n;this._rect.height=t},t}(),u,i,r;t.PlotArea=f;u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.getPlotArea=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t.prototype._getWidth=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.column==n&&t.row==0)return t.width;return r},t.prototype._getHeight=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.row==n&&t.column==0)return t.height;return r},t.prototype._calculateWidths=function(n,t){var u,i,f;if(t<=0)throw"ncols";for(u=[],i=0;i<t;i++)f=this._getWidth(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateHeights=function(n,t){var u,i,f;if(t<=0)throw"nrows";for(u=[],i=0;i<t;i++)f=this._getHeight(i),u[i]=new r(f);return this._calculateLengths(n,t,u)},t.prototype._calculateLengths=function(n,t,i){for(var s,e,u=[t],o=0,f=0,r=0;r<t;r++)i[r].isAbsolute?(u[r]=i[r].value,o+=u[r]):i[r].isStar?f+=i[r].value:i[r].isAuto&&f++;for(s=n-o,e=s/f,r=0;r<t;r++)i[r].isStar?u[r]=e*i[r].value:i[r].isAuto&&(u[r]=e),u[r]<0&&(u[r]=0);return u},t}(n.collections.ObservableArray);t.PlotAreaCollection=u,function(n){n[n.Auto=0]="Auto";n[n.Pixel=1]="Pixel";n[n.Star=2]="Star"}(i||(i={}));r=function(){function n(n){n===void 0&&(n=null);this._unitType=i.Auto;n&&(n=n.toString(),n.indexOf('*')>=0?(this._unitType=i.Star,n=n.replace('*',''),this._value=parseFloat(n),isNaN(this._value)&&(this._value=1)):(this._unitType=i.Pixel,this._value=parseFloat(n),isNaN(this._value)&&(this._unitType=i.Auto,this._value=1)))}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStar",{get:function(){return this._unitType==i.Star},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAbsolute",{get:function(){return this._unitType==i.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAuto",{get:function(){return this._unitType==i.Auto},enumerable:!0,configurable:!0}),n}()})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var u,r,f,e,i;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(u=t.SeriesVisibility||(t.SeriesVisibility={})),function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(r=t.Marker||(t.Marker={}));f=function(){function n(){}return n}();t.DataArray=f;e=function(t){function r(r){var u=t.call(this)||this;return u._series=n.asType(r,i),u}return __extends(r,t),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),r}(n.EventArgs);t.SeriesEventArgs=e;i=function(){function i(t){this._altStyle=null;this._symbolMarker=r.Dot;this._visibility=u.Visible;this.rendering=new n.Event;this.rendered=new n.Event;t&&this.initialize(t)}return Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"altStyle",{get:function(){return this._altStyle},set:function(n){n!=this._altStyle&&(this._altStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t=n.asEnum(t,r,!0);t!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,u),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new e(this))},enumerable:!0,configurable:!0}),i.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},i.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(i.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),i.prototype.initialize=function(t){t&&n.copy(this,t)},i.prototype.pointToData=function(t){return n.asType(t,n.Point),t=t.clone(),t.x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},i.prototype.dataToPoint=function(t){return n.asType(t,n.Point),t=t.clone(),t.x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},i.prototype.onRendering=function(n,i,r){var u=new t.SeriesRenderingEventArgs(n,i,r);return this.rendering.raise(this,u),u.cancel},i.prototype.onRendered=function(n){this.rendered.raise(this,new t.RenderEventArgs(n))},Object.defineProperty(i.prototype,"_chart",{get:function(){return this.__chart},set:function(n){n!==this.__chart&&(this.__chart=n)},enumerable:!0,configurable:!0}),i.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(i.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(n){n!=this.__plotter&&(this.__plotter=n)},enumerable:!0,configurable:!0}),i.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},i.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},i.prototype.drawLegendItem=function(n,i,r){var u=this._getChartType();u==null&&(u=this._chart._getChartType());u===t.ChartType.Funnel?this._drawFunnelLegendItem(n,i,r,this.style,this.symbolStyle):this._drawLegendItem(n,i,u,this.name,this.style,this.symbolStyle)},i.prototype.measureLegendItem=function(n,i){var r=this._getChartType();return r==null&&(r=this._chart._getChartType()),r===t.ChartType.Funnel?this._measureLegendItem(n,this._getFunnelLegendName(i)):this._measureLegendItem(n,this.name)},i.prototype.legendItemLength=function(){var n=this._getChartType();return n==null&&(n=this._chart._getChartType()),n===t.ChartType.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:1:1},i.prototype.getDataRect=function(){return null},i.prototype._getChartType=function(){return this._chartType},i.prototype._clearValues=function(){this._values=null;this._xvalues=null;this.__plotter=null},i.prototype._getBinding=function(n){var t=this.binding,r,i;return t&&(r=this.chart?this.chart._bindingSeparator:',',r&&(i=t.split(r),i&&i.length>n&&(t=i[n].trim()))),t},i.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},i.prototype._getItem=function(n){var i=null,t=null;return this.itemsSource!=null?t=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(t=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),t!=null&&(i=t[n]),i},i.prototype._getLength=function(){var t=0,n=null;return this.itemsSource!=null?n=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(n=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),n!=null&&(t=n.length),t},i.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},i.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},i.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},i.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},i.prototype._getAxisX=function(){var n=null;return this.axisX?n=this.axisX:this.chart&&(n=this.chart.axisX),n},i.prototype._getAxisY=function(){var n=null;return this.axisY?n=this.axisY:this.chart&&(n=this.chart.axisY),n},i.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,this._name&&(f=i.measureString(r,t.FlexChart._CSS_LABEL,t.FlexChart._CSS_LEGEND),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},i.prototype._drawFunnelLegendItem=function(i,r,u,f,e){i.strokeWidth=1;var c=t.Series._LEGEND_ITEM_MARGIN,o=null,s=null;o===null&&(o=this._chart._getColorLight(u));s===null&&(s=this._chart._getColor(u));i.fill=o;i.stroke=s;var l=r.top+.5*r.height,v=t.Series._LEGEND_ITEM_WIDTH,h=t.Series._LEGEND_ITEM_HEIGHT,a=this._getFunnelLegendName(u);i.drawRect(r.left+c,l-.5*h,v,h,null,e?e:f);a&&t.FlexChart._renderText(i,a,new n.Point(r.left+h+2*c,l),0,1,t.FlexChart._CSS_LABEL)},i.prototype._getFunnelLegendName=function(n){var t;return this._chart._xlabels&&this._chart._xlabels.length&&(t=this._chart._xlabels[n]),t||(t=this.name),t},i.prototype._drawLegendItem=function(i,u,f,e,o,s){var a,v;i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,p=null,w=null;p===null&&(p=this._chart._getColorLight(this._chart.series.indexOf(this)));w===null&&(w=this._chart._getColor(this._chart.series.indexOf(this)));i.fill=p;i.stroke=w;var c=u.top+.5*u.height,l=t.Series._LEGEND_ITEM_WIDTH,y=t.Series._LEGEND_ITEM_HEIGHT;switch(f){case t.ChartType.Area:case t.ChartType.SplineArea:i.drawRect(u.left+h,c-.5*y,l,y,null,o);break;case t.ChartType.Bar:case t.ChartType.Column:i.drawRect(u.left+h,c-.5*y,l,y,null,s?s:o);break;case t.ChartType.Scatter:case t.ChartType.Bubble:a=.3*l;v=.3*y;this.symbolMarker==r.Box?i.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s?s:o):i.drawEllipse(u.left+.5*l+h,c,a,v,null,s?s:o);break;case t.ChartType.Line:case t.ChartType.Spline:i.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.LineSymbols:case t.ChartType.SplineSymbols:a=.3*l;v=.3*y;this.symbolMarker==r.Box?i.drawRect(u.left+h+.5*l-a,c-v,2*a,2*v,null,s?s:o):i.drawEllipse(u.left+.5*l+h,c,a,v,null,s?s:o);i.drawLine(u.left+h,c,u.left+l+h,c,null,o);break;case t.ChartType.Candlestick:case t.ChartType.HighLowOpenClose:i.drawLine(u.left+h,c,u.left+l+h,c,null,s?s:o)}this._name&&t.FlexChart._renderText(i,e,new n.Point(u.left+y+2*h,c),0,1,t.FlexChart._CSS_LABEL)},i.prototype._cvCollectionChanged=function(){this._clearValues();this._invalidate()},i.prototype._cvCurrentChanged=function(){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},i.prototype._bindValues=function(t,i,r){var o,h,s,l,e,u,c;if(r===void 0&&(r=!1),t!=null)for(l=t.length,o=new Array(t.length),e=0;e<l;e++)s=null,u=t[e],i!=null&&(u=u[i]),n.isArray(u)&&u.length>0&&(s=u,u=u[0]),n.isNumber(u)?(o[e]=u,h=n.DataType.Number):n.isDate(u)?(o[e]=u.valueOf(),h=n.DataType.Date):r&&u&&(o[e]=e,h=n.DataType.Number),n.isArray(s)&&s.length>0&&(o[e]=s);return c=new f,c.values=o,c.dataType=h,c},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},i.prototype._getSymbolFill=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.fill),!t&&this.style&&(t=this.style.fill),!t&&this.chart&&(t=this.chart._getColorLight(n)),t},i.prototype._getSymbolStroke=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.stroke),!t&&this.style&&(t=this.style.stroke),!t&&this.chart&&(t=this.chart._getColor(n)),t},i.prototype._getAltSymbolStroke=function(){var n=null;return this.altStyle&&(n=this.altStyle.stroke),n},i.prototype._getAltSymbolFill=function(){var n=null;return this.altStyle&&(n=this.altStyle.fill),n},i.prototype._renderLabels=function(n,t,i,r){this._plotter&&this._plotter._renderLabels(n,this,t,i,r)},i}();i._LEGEND_ITEM_WIDTH=10;i._LEGEND_ITEM_HEIGHT=10;i._LEGEND_ITEM_MARGIN=4;i._DEFAULT_SYM_SIZE=10;t.SeriesBase=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),r}(t.SeriesBase);t.Series=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(){'use strict'})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._savedGradient={};this._element=n;this._create();this._element.appendChild(this._svg);i._isff===undefined&&(i._isff=navigator.userAgent.toLowerCase().indexOf('firefox')>=0)}return i.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._savedGradient={};this._svg.appendChild(this._defs);this._svg.appendChild(this._textGroup)},i.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},i.prototype.setViewportSize=function(n,t){this._svg.setAttribute('width',n.toString());this._svg.setAttribute('height',t.toString())},Object.defineProperty(i.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(i.svgNS,'clipPath'),r=document.createElementNS(i.svgNS,'rect');r.setAttribute('x',(n.left-1).toFixed());r.setAttribute('y',(n.top-1).toFixed());r.setAttribute('width',(n.width+2).toFixed());r.setAttribute('height',(n.height+2).toFixed());u.appendChild(r);u.setAttribute('id',t);this._svg.appendChild(u)}},i.prototype.drawEllipse=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,'ellipse');return this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),this._applyColor(o,'fill',this._fill),o.setAttribute('cx',n.toFixed(1)),o.setAttribute('cy',t.toFixed(1)),o.setAttribute('rx',r.toFixed(1)),o.setAttribute('ry',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},i.prototype.drawRect=function(n,t,r,u,f,e,o){var s=document.createElementNS(i.svgNS,'rect');return this._applyColor(s,'fill',this._fill),this._applyColor(s,'stroke',this._stroke),this._strokeWidth!==null&&s.setAttribute('stroke-width',this._strokeWidth.toString()),s.setAttribute('x',n.toFixed(1)),s.setAttribute('y',t.toFixed(1)),r>0&&r<.05?s.setAttribute('width','0.1'):s.setAttribute('width',r.toFixed(1)),u>0&&u<.05?s.setAttribute('height','0.1'):s.setAttribute('height',u.toFixed(1)),o&&s.setAttribute('clip-path','url(#'+o+')'),f&&s.setAttribute('class',f),this._applyStyle(s,e),this._appendChild(s),s},i.prototype.drawLine=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,'line');return this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('x1',n.toFixed(1)),o.setAttribute('x2',r.toFixed(1)),o.setAttribute('y1',t.toFixed(1)),o.setAttribute('y2',u.toFixed(1)),f&&o.setAttribute('class',f),this._applyStyle(o,e),this._appendChild(o),o},i.prototype.drawLines=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,'polyline'),this._applyColor(e,'stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),e.setAttribute('fill','none'),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),r&&e.setAttribute('class',r),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},i.prototype.drawSplines=function(n,r,u,f,e){var o,h,s;if(n&&r){var y=new t._Spline(n,r),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(i.svgNS,'polyline'),this._applyColor(o,'stroke',this._stroke),this._strokeWidth!==null&&o.setAttribute('stroke-width',this._strokeWidth.toString()),o.setAttribute('fill','none'),h='',s=0;s<v;s++)h+=l[s].toFixed(1)+','+a[s].toFixed(1)+' ';return o.setAttribute('points',h),u&&o.setAttribute('class',u),e&&o.setAttribute('clip-path','url(#'+e+')'),this._applyStyle(o,f),this._appendChild(o),o}}return null},i.prototype.drawPolygon=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,'polygon'),this._applyColor(e,'stroke',this._stroke),this._strokeWidth!==null&&e.setAttribute('stroke-width',this._strokeWidth.toString()),this._applyColor(e,'fill',this._fill),h='',o=0;o<s;o++)h+=n[o].toFixed(1)+','+t[o].toFixed(1)+' ';return e.setAttribute('points',h),r&&e.setAttribute('class',r),f&&e.setAttribute('clip-path','url(#'+f+')'),this._applyStyle(e,u),this._appendChild(e),e}return null},i.prototype.drawPieSegment=function(t,r,u,f,e,o,s,h){var c,l,y,a,p,v;return e>=Math.PI*2?this.drawEllipse(t,r,u,u,o,s):(c=document.createElementNS(i.svgNS,'path'),this._applyColor(c,'fill',this._fill),this._applyColor(c,'stroke',this._stroke),this._strokeWidth!==null&&c.setAttribute('stroke-width',this._strokeWidth.toString()),l=new n.Point(t,r),l.x+=u*Math.cos(f),l.y+=u*Math.sin(f),y=f+e,a=new n.Point(t,r),a.x+=u*Math.cos(y),a.y+=u*Math.sin(y),p=' 0 0,1 ',Math.abs(e)>Math.PI&&(p=' 0 1,1 '),v='M '+l.x.toFixed(1)+','+l.y.toFixed(1),v+=' A '+u.toFixed(1)+','+u.toFixed(1)+p,v+=a.x.toFixed(1)+','+a.y.toFixed(1),v+=' L '+t.toFixed(1)+','+r.toFixed(1)+' z',c.setAttribute('d',v),h&&c.setAttribute('clip-path','url(#'+h+')'),o&&c.setAttribute('class',o),this._applyStyle(c,s),this._appendChild(c),c)},i.prototype.drawDonutSegment=function(t,r,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;return o>=Math.PI*2&&(k=!0,o-=.001),l=document.createElementNS(i.svgNS,'path'),this._applyColor(l,'fill',this._fill),this._applyColor(l,'stroke',this._stroke),this._strokeWidth!==null&&l.setAttribute('stroke-width',this._strokeWidth.toString()),y=new n.Point(t,r),y.x+=u*Math.cos(e),y.y+=u*Math.sin(e),p=e+o,w=new n.Point(t,r),w.x+=u*Math.cos(p),w.y+=u*Math.sin(p),v=new n.Point(t,r),v.x+=f*Math.cos(p),v.y+=f*Math.sin(p),b=new n.Point(t,r),b.x+=f*Math.cos(e),b.y+=f*Math.sin(e),d=' 0 0,1 ',g=' 0 0,0 ',Math.abs(o)>Math.PI&&(d=' 0 1,1 ',g=' 0 1,0 '),a='M '+y.x.toFixed(3)+','+y.y.toFixed(3),a+=' A '+u.toFixed(3)+','+u.toFixed(3)+d,a+=w.x.toFixed(3)+','+w.y.toFixed(3),a+=k?' M '+v.x.toFixed(3)+','+v.y.toFixed(3):' L '+v.x.toFixed(3)+','+v.y.toFixed(3),a+=' A '+f.toFixed(3)+','+f.toFixed(3)+g,a+=b.x.toFixed(3)+','+b.y.toFixed(3),k||(a+=' z'),l.setAttribute('d',a),c&&l.setAttribute('clip-path','url(#'+c+')'),s&&l.setAttribute('class',s),this._applyStyle(l,h),this._appendChild(l),l},i.prototype.drawString=function(n,t,i,r){var u=this._createText(t,n),f;return i&&u.setAttribute('class',i),this._applyStyle(u,r),this._appendChild(u),f=this._getBBox(u),u.setAttribute('y',(t.y-(f.y+f.height-t.y)).toFixed(1)),u},i.prototype.drawStringRotated=function(n,t,r,u,f,e){var o=this._createText(t,n),s,h;return f&&o.setAttribute('class',f),this._applyStyle(o,e),s=document.createElementNS(i.svgNS,'g'),s.setAttribute('transform','rotate('+u.toFixed(1)+','+r.x.toFixed(1)+','+r.y.toFixed(1)+')'),s.appendChild(o),this._appendChild(s),h=this._getBBox(o),o.setAttribute('y',(t.y-(h.y+h.height-t.y)).toFixed(1)),o},i.prototype.measureString=function(t,i,r,u){var f=new n.Size(0,0),e,o;if(this._fontSize&&this._text.setAttribute('font-size',this._fontSize),this._fontFamily&&this._text.setAttribute('font-family',this._fontFamily),i&&this._text.setAttribute('class',i),r&&this._textGroup.setAttribute('class',r),this._applyStyle(this._text,u),this._setText(this._text,t),e=this._getBBox(this._text),f.width=e.width,f.height=e.height,this._text.removeAttribute('font-size'),this._text.removeAttribute('font-family'),this._text.removeAttribute('class'),u)for(o in u)this._text.removeAttribute(this._deCase(o));return this._textGroup.removeAttribute('class'),this._text.textContent=null,f},i.prototype.startGroup=function(n,t,r){r===void 0&&(r=!1);var u=document.createElementNS(i.svgNS,'g');return n&&u.setAttribute('class',n),t&&u.setAttribute('clip-path','url(#'+t+')'),this._appendChild(u),r&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},i.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},i.prototype.drawImage=function(n,t,r,u,f){var e=document.createElementNS(i.svgNS,'image');return e.setAttributeNS(i.xlinkNS,'href',n),e.setAttribute('x',t.toFixed(1)),e.setAttribute('y',r.toFixed(1)),e.setAttribute('width',u.toFixed(1)),e.setAttribute('height',f.toFixed(1)),this._appendChild(e),e},i.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},i.prototype._create=function(){this._svg=document.createElementNS(i.svgNS,'svg');this._defs=document.createElementNS(i.svgNS,'defs');this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),'');this._textGroup=document.createElementNS(i.svgNS,'g');this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},i.prototype._setText=function(n,t){var i=t?t.toString():null;if(i&&i.indexOf('tspan')>=0)try{n.textContent=null;for(var u=new DOMParser,f='<svg xmlns="http://www.w3.org/2000/svg\">'+i+'</svg>',e=u.parseFromString(f,'text/xml').documentElement,r=e.firstChild;r;)n.appendChild(n.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(o){throw new Error('Error parsing XML string.');}else n.textContent=i},i.prototype._createText=function(n,t){var r=document.createElementNS(i.svgNS,'text');return this._setText(r,t),r.setAttribute('fill',this._textFill),r.setAttribute('x',n.x.toFixed(1)),r.setAttribute('y',n.y.toFixed(1)),this._fontSize&&r.setAttribute('font-size',this._fontSize),this._fontFamily&&r.setAttribute('font-family',this._fontFamily),r},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)i==='fill'||i==='stroke'?this._applyColor(n,i,t[i]):n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return'-'+n.toLowerCase()})},i.prototype._getBBox=function(n){if(i._isff)try{return n.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}else return n.getBBox()},i.prototype._applyColor=function(t,u,f){var e=r.tryParse(f),s,o;e!=null&&(n.isString(e)?t.setAttribute(u,e):(this._savedGradient[f]==null&&(s='gc'+(1e6*Math.random()).toFixed(),e.x1!=null?(o=document.createElementNS(i.svgNS,'linearGradient'),['x1','y1','x2','y2','gradientUnits'].forEach(function(n){e[n]!=null&&o.setAttribute(n,e[n])})):e.r!=null&&(o=document.createElementNS(i.svgNS,'radialGradient'),['cx','cy','r','fx','fy','fr','gradientUnits'].forEach(function(n){e[n]!=null&&o.setAttribute(n,e[n])})),e.colors&&e.colors&&e.colors.length>0&&e.colors.forEach(function(n){var t=document.createElementNS(i.svgNS,'stop');n.color!=null&&t.setAttribute('stop-color',n.color);n.offset!=null&&t.setAttribute('offset',n.offset);n.opacity!=null&&t.setAttribute('stop-opacity',n.opacity);o.appendChild(t)}),o.setAttribute('id',s),this._defs.appendChild(o),this._savedGradient[f]=s),t.setAttribute(u,'url(#'+this._savedGradient[f]+')')))},i}(),r;i.svgNS='http://www.w3.org/2000/svg';i.xlinkNS='http://www.w3.org/1999/xlink';t._SvgRenderEngine=i;r=function(){function n(){}return n.tryParse=function(t){var o;if(n.parsedColor[t])return n.parsedColor[t];if(t==null||t.indexOf('-')===-1)return t;var e=t.replace(/\s+/g,'').split(/\-/g),u=e[0][0],f=!1,i,r=e[0].match(/\(\S+\)/)[0].replace(/[\(\\)]/g,'').split(/\,/g);return u==='l'||u==='L'?(i={x1:'0',y1:'0',x2:'0',y2:'0',colors:[]},u==='l'&&(f=!0),['x1','y1','x2','y2'].forEach(function(n,t){r[t]!=null&&(i[n]=f?+r[t]*100+'%':r[t]+'')})):(u==='r'||u==='R')&&(i={cx:'0',cy:'0',r:'0',colors:[]},u==='r'&&(f=!0),['cx','cy','r','fx','fy','fr'].forEach(function(n,t){r[t]!=null&&r[t]!==''&&(i[n]=f?+r[t]*100+'%':r[t]+'')})),f||(i.gradientUnits="userSpaceOnUse"),n.parsedColor[t]=i,o=e.length-1,e.forEach(function(n,t){n.indexOf(')')>-1&&(n=n.match(/\)\S+/)[0].replace(')',''));var r=n.split(':'),u={color:'black'};r[0]!=null&&(u.color=r[0]);u.offset=r[1]!=null?f?+r[1]*100+'%':r[1]+'':t/o*100+'%';r[2]!=null&&(u.opacity=r[2]);i.colors.push(u)}),i},n}();r.parsedColor={}})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(i){this._position=t.Position.Right;this._areas=[];this._sz=new n.Size;this._colRowLens=[];this._chart=i}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){i!=this._position&&(this._position=n.asEnum(i,t.Position),this._chart&&this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(n,i,r,u){if(i==t.Position.None)return null;var e=i==t.Position.Right||i==t.Position.Left,f=this._chart._getDesiredLegendSize(n,e,r,u);return f!=null&&(this._sz=f),f},i.prototype._getPosition=function(n,i){return this.position==t.Position.Auto?n>=i?t.Position.Right:t.Position.Bottom:this.position},i.prototype._render=function(n,i,r,u,f){this._areas=[];var e=r==t.Position.Right||r==t.Position.Left;n.fill='transparent';n.stroke=null;n.drawRect(i.x,i.y,this._sz.width,this._sz.height);this._chart._renderLegend(n,i,this._areas,e,u,f)},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(r[i]&&t.FlexChartCore._contains(r[i],n))return i;return null},i}();t.Legend=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i,r;(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.DataLabel=9]="DataLabel";n[n.None=10]="None"})(i=t.ChartElement||(t.ChartElement={}));r=function(){function r(n,t,r){this._pointIndex=null;this._chartElement=i.None;this._chart=n;this._pt=t;this._chartElement=r}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"item",{get:function(){if(this._item==null&&this.pointIndex!==null)if(this.series!=null)this._item=this.series._getItem(this.pointIndex);else{var n=this._chart._getHitTestItem(this.pointIndex);n&&(this._item=n)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){var n=this._chart._getHitTestValue(this.pointIndex);return n!=null?n:this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){if(this._name===undefined){var n=this._chart._getHitTestLabel(this.pointIndex);return n||this.series.name}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),r.prototype._setData=function(n,t){this._series=n;this._pointIndex=t},r.prototype._setDataPoint=function(i){if(i=n.asType(i,t._DataPoint,!0),i){this._pointIndex=i.pointIndex;var u=n.asType(this._chart,n.chart.FlexChartCore,!0),r=i.seriesIndex;r!==null&&r>=0&&r<u.series.length&&(this._series=u.series[r]);i.item!=null&&(this._item=i.item);i.x!=null&&(this._x=i.x);i.y!=null&&(this._y=i.y);i.xfmt!=null&&(this.__xfmt=i.xfmt);i.yfmt!=null&&(this.__yfmt=i.yfmt);i.name!=null&&(this._name=i.name)}},r.prototype._getValue=function(t,i){var o=this._chart._getHitTestValue(this.pointIndex),e,s;if(o!=null)return o;var r=null,u=this._chart,f=this.pointIndex,h=u._isRotated();return this.series!==null&&f!==null&&(e=this.series.getValues(t),s=this.series.getDataType(t),e&&this.pointIndex<e.length?(r=e[this.pointIndex],s!=n.DataType.Date||i||(r=new Date(r))):t==1&&(u._xlabels&&u._xlabels.length>0&&f<u._xlabels.length?r=u._xlabels[f]:u._xvals&&f<u._xvals.length&&(r=u._xvals[f],u._xDataType!=n.DataType.Date||i||(r=new Date(r))))),r!==null&&i&&(h?t==0?r=u.axisX._formatValue(r):t==1&&(r=u.axisY._formatValue(r)):t==0?r=u.axisY._formatValue(r):t==1&&(r=u.axisX._formatValue(r))),r},r}();t.HitTestInfo=r})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(n){'use strict';var t=function(){function n(){}return n}();t.standard=['#88bde6','#fbb258','#90cd97','#f6aac9','#bfa554','#bc99c7','#eddd46','#f07e6e','#8c8c8c'];t.cocoa=['#466bb0','#c8b422','#14886e','#b54836','#6e5944','#8b3872','#73b22b','#b87320','#141414'];t.coral=['#84d0e0','#f48256','#95c78c','#efa5d6','#ba8452','#ab95c2','#ede9d0','#e96b7d','#888888'];t.dark=['#005fad','#f06400','#009330','#e400b1','#b65800','#6a279c','#d5a211','#dc0127','#000000'];t.highcontrast=['#ff82b0','#0dda2c','#0021ab','#bcf28c','#19c23b','#890d3a','#607efd','#1b7700','#000000'];t.light=['#ddca9a','#778deb','#cb9fbb','#b5eae2','#7270be','#a6c7a7','#9e95c7','#95b0c7','#9b9b9b'];t.midnight=['#83aaca','#e37849','#14a46a','#e097da','#a26d54','#a584b7','#d89c54','#e86996','#2c343b'];t.modern=['#2d9fc7','#ec993c','#89c235','#e377a4','#a68931','#a672a6','#d0c041','#e35855','#68706a'];t.organic=['#9c88d9','#a3d767','#8ec3c0','#e9c3a9','#91ab36','#d4ccc0','#61bbd8','#e2d76f','#80715a'];t.slate=['#7493cd','#f99820','#71b486','#e4a491','#cb883b','#ae83a4','#bacc5c','#e5746a','#505d65'];t.zen=['#7bb5ae','#e2d287','#92b8da','#eac4cb','#7b8bbd','#c7d189','#b9a0c8','#dfb397','#a9a9a9'];t.cyborg=['#2a9fd6','#77b300','#9933cc','#ff8800','#cc0000','#00cca3','#3d6dcc','#525252','#000000'];t.superhero=['#5cb85c','#f0ad4e','#5bc0de','#d9534f','#9f5bde','#46db8c','#b6b86e','#4e5d6c','#2b3e4b'];t.flatly=['#18bc9c','#3498db','#f39c12','#6cc1be','#99a549','#8f54b5','#e74c3c','#8a9899','#2c3e50'];t.darkly=['#375a7f','#00bc8c','#3498db','#f39c12','#e74c3c','#8f61b3','#b08725','#4a4949','#000000'];t.cerulan=['#033e76','#87c048','#59822c','#53b3eb','#fc6506','#d42323','#e3bb00','#cccccc','#222222'];n.Palettes=t})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0],],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;i<=this._len-1;i+=f)n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n);return{xs:r,ys:u}},t}();t._Spline=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var r,u,f,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Center=5]="Center"})(r=t.LabelPosition||(t.LabelPosition={})),function(n){n[n.None=0]="None";n[n.Inside=1]="Inside";n[n.Center=2]="Center";n[n.Outside=3]="Outside"}(u=t.PieLabelPosition||(t.PieLabelPosition={}));f=function(t){function i(n,i,r,u){var f=t.call(this,n)||this;return f.cancel=!1,f._ht=i,f._pt=r,f._text=u,f}return __extends(i,t),Object.defineProperty(i.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),i}(t.RenderEventArgs);t.DataLabelRenderEventArgs=f;i=function(){function t(){this.rendering=new n.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(n){return this.rendering.raise(this,n),!n.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}();t.DataLabelBase=i;e=function(t){function i(){var n=t!==null&&t.apply(this,arguments)||this;return n._pos=r.Top,n}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,r),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.DataLabel=e;o=function(t){function i(){var n=t!==null&&t.apply(this,arguments)||this;return n._pos=u.Center,n}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,u),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.PieDataLabel=o})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var o=function(){function t(){this._moveMarker=function(n){var r=n.currentTarget,u=this._markers,t=r.getAttribute('data-markerIndex'),i;t!=null&&(i=u[t],i.forEach(function(t){t._moveMarker(n)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var r=t.chart.hostElement,u=this._markers,f=r.getAttribute('data-markerIndex'),e,i;f!=null?(i=u[f],i&&n.isArray(i)?i.push(t):(u[f]=[t],this._bindMoveEvent(r))):(e=u.length,i=[t],u.push(i),r.setAttribute('data-markerIndex',e),this._bindMoveEvent(r))},t.prototype.detach=function(n){var u=n.chart.hostElement,r=this._markers,f=u.getAttribute('data-markerIndex'),t,i;f!=null&&(i=r[f],t=i.indexOf(n),t>-1&&i.splice(t,1),i.length===0&&(t=r.indexOf(i),t>-1&&(r[t]=undefined),this._unbindMoveEvent(u)))},t.prototype._unbindMoveEvent=function(n){var t=this._bindMoveMarker;n.removeEventListener('mousemove',t);'ontouchstart'in window&&n.removeEventListener('touchmove',t)},t.prototype._bindMoveEvent=function(n){var t=this._bindMoveMarker;n.addEventListener('mousemove',t);'ontouchstart'in window&&n.addEventListener('touchmove',t)},t}(),e=new o,i,r,f,u;(function(n){n[n.None=0]="None";n[n.Vertical=1]="Vertical";n[n.Horizontal=2]="Horizontal";n[n.Both=3]="Both"})(i=t.LineMarkerLines||(t.LineMarkerLines={})),function(n){n[n.None=0]="None";n[n.Move=1]="Move";n[n.Drag=2]="Drag"}(r=t.LineMarkerInteraction||(t.LineMarkerInteraction={})),function(n){n[n.Auto=2]="Auto";n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Bottom=4]="Bottom";n[n.Top=6]="Top"}(f=t.LineMarkerAlignment||(t.LineMarkerAlignment={}));u=function(){function u(t,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this.positionChanged=new n.Event;var r=this;r._chart=t;t.rendered.addHandler(r._initialize,r);r._resetDefaultValue();n.copy(this,i);r._initialize()}return Object.defineProperty(u.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){var i=this;t!==i._isVisible&&(i._isVisible=n.asBoolean(t),i._marker)&&i._toggleVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){var i=this;t!==i._seriesIndex&&(i._seriesIndex=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var i=this;if(t!==i._horizontalPosition){if(i._horizontalPosition=n.asNumber(t,!0),i._horizontalPosition<0||i._horizontalPosition>1)throw'horizontalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"x",{get:function(){var n=this,t=n._targetPoint.x-n._plotRect.left,i=n._chart.axisX;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){var n=this,t=n._targetPoint.y-n._plotRect.top,i=n._chart.axisY;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=n.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var i=this;if(t!==i._verticalPosition){if(i._verticalPosition=n.asNumber(t,!0),i._verticalPosition<0||i._verticalPosition>1)throw'verticalPosition\'s value should be in (0, 1).';i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"alignment",{get:function(){return this._alignment},set:function(n){var t=this;n!==t._alignment&&(t._alignment=n,t._marker)&&t._updatePositionByAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"lines",{get:function(){return this._lines},set:function(t){var r=this;t!==r._lines&&(r._lines=n.asEnum(t,i),r._marker)&&r._resetLinesVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"interaction",{get:function(){return this._interaction},set:function(t){var i=this;t!==i._interaction&&(i._marker&&i._detach(),i._interaction=n.asEnum(t,r),i._marker&&i._attach(),i._toggleElesDraggableClass(i._interaction===r.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var f=this;t!==f._dragContent&&(f._dragContent=n.asBoolean(t));n.toggleClass(f._dragEle,u._CSS_LINE_DRAGGABLE,f._interaction===r.Drag&&f._dragContent&&f._lines!==i.None)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=n.asBoolean(t))},enumerable:!0,configurable:!0}),u.prototype.onPositionChanged=function(n){this.positionChanged.raise(this,n)},u.prototype.remove=function(){var n=this,t=n._chart;n._marker&&(t.rendered.removeHandler(n._initialize,n),n._detach(),n._removeMarker(),n._wrapperMoveMarker=null,n._wrapperMousedown=null,n._wrapperMouseup=null)},u.prototype._attach=function(){var t=this,i=t._chart.hostElement;this._interaction!==r.None?n.addClass(i,u._CSS_TOUCH_DISABLED):n.removeClass(i,u._CSS_TOUCH_DISABLED);e.attach(t);t._attachDrag()},u.prototype._attachDrag=function(){var n=this;n._interaction===r.Drag&&(n._wrapperMousedown||(n._wrapperMousedown=n._onMousedown.bind(n)),n._wrapperMouseup||(n._wrapperMouseup=n._onMouseup.bind(n)),n._toggleDragEventAttach(!0))},u.prototype._detach=function(){var t=this;n.removeClass(t._chart.hostElement,u._CSS_TOUCH_DISABLED);e.detach(t);t._detachDrag()},u.prototype._detachDrag=function(){var n=this;n._interaction===r.Drag&&n._toggleDragEventAttach(!1)},u.prototype._toggleDragEventAttach=function(n){var t=this,r=t._chart.hostElement,i=n?'addEventListener':'removeEventListener';r[i]('mousedown',t._wrapperMousedown);document[i]('mouseup',t._wrapperMouseup);'ontouchstart'in window&&r[i]('touchstart',t._wrapperMousedown);'ontouchend'in window&&document[i]('touchend',t._wrapperMouseup)},u.prototype._onMousedown=function(t){var i=this,f=i._getEventPoint(t),e,o,s,h,c;i._interaction===r.Drag&&(e=n.getElementRect(i._hLine),h=!(e.width===0||e.height===0),o=n.getElementRect(i._vLine),c=!(o.width===0||o.height===0),s=n.getElementRect(i._markerContent),i._dragContent&&i._pointInRect(f,s)?(i._capturedEle=i._markerContent,i._contentDragStartPoint=new n.Point(f.x,f.y),i._mouseDownCrossPoint=new n.Point(i._targetPoint.x,i._targetPoint.y)):h&&(Math.abs(e.top-f.y)<=i._dragThreshold||Math.abs(f.y-e.top-e.height)<=i._dragThreshold||f.y>=e.top&&f.y<=e.top+e.height)?(i._capturedEle=i._hLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,u._CSS_LINE_DRAGGABLE)):c&&(Math.abs(o.left-f.x)<=i._dragThreshold||Math.abs(f.x-o.left-o.width)<=i._dragThreshold||f.x>=o.left&&f.x<=o.left+o.width)&&(i._capturedEle=i._vLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,u._CSS_LINE_DRAGGABLE)),t.preventDefault())},u.prototype._onMouseup=function(){var t=this,r=t._alignment===f.Auto&&t._capturedEle===t._markerContent&&t._lines!==i.None;t._capturedEle=undefined;t._contentDragStartPoint=undefined;t._mouseDownCrossPoint=undefined;r&&(t._updatePositionByAlignment(),t._updatePositionByAlignment());n.removeClass(t._chart.hostElement,u._CSS_LINE_DRAGGABLE)},u.prototype._moveMarker=function(u){var f=this,c=f._chart,e=f._getEventPoint(u),o=f._plotRect,v=f._interaction===r.Drag,y=f._lines===i.Horizontal,p=f._lines===i.Vertical,l=f._seriesIndex,a,w=n.getElementRect(c.hostElement),s,b,k,h,d;if(o&&f._isVisible&&f._interaction!==r.None&&(f._interaction!==r.Drag||f._capturedEle&&f._lines!==i.None)){if(v&&(f._contentDragStartPoint?(e.x=y?f._targetPoint.x:f._mouseDownCrossPoint.x+e.x-f._contentDragStartPoint.x,e.y=p?f._targetPoint.y:f._mouseDownCrossPoint.y+e.y-f._contentDragStartPoint.y):y||!f._dragLines&&f._capturedEle===f._hLine?e.x=f._targetPoint.x:(p||!f._dragLines&&f._capturedEle===f._vLine)&&(e.y=f._targetPoint.y)),v&&f._lines===i.Horizontal||!f._dragLines&&f._capturedEle===f._hLine){if(e.y<=o.top||e.y>=o.top+o.height)return}else if(v&&f._lines===i.Vertical||!f._dragLines&&f._capturedEle===f._vLine){if(e.x<=o.left||e.x>=o.left+o.width)return}else if(e.x<=o.left||e.y<=o.top||e.x>=o.left+o.width||e.y>=o.top+o.height)return;if(l!=null&&l>=0&&l<c.series.length){if(a=c.series[l],s=a.hitTest(new n.Point(e.x,NaN)),s==null||s.x==null||s.y==null)return;b=a.axisX||c.axisX;k=a._getAxisY();h=n.isDate(s.x)?t.FlexChart._toOADate(s.x):s.x;h=n.isString(h)?s.pointIndex:h;d=n.isDate(s.y)?t.FlexChart._toOADate(s.y):s.y;e.x=b.convert(h)+w.left;e.y=k.convert(d)+w.top}f._updateMarkerPosition(e);u.preventDefault()}},u.prototype._show=function(n){var t=n?n:this._marker;t.style.display='block'},u.prototype._hide=function(n){var t=n?n:this._marker;t.style.display='none'},u.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},u.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0;t._alignment=f.Auto;t._lines=i.None;t._interaction=r.None;t._horizontalPosition=null;t._verticalPosition=null;t._content=null;t._seriesIndex=null;t._dragThreshold=15;t._dragContent=!1;t._dragLines=!1;t._targetPoint=new n.Point},u.prototype._initialize=function(){var i=this,r=i._chart.hostElement.querySelector("."+t.FlexChart._CSS_PLOT_AREA),u;i._plot=r;i._marker||i._createMarker();r&&(i._plotRect=n.getElementRect(r),u=r.getBBox(),i._plotRect.width=u.width,i._plotRect.height=u.height,i._updateMarkerSize(),i._updateLinesSize());i._updateMarkerPosition();i._wrapperMoveMarker=i._moveMarker.bind(i);i._attach()},u.prototype._createMarker=function(){var t=this,i,r;i=document.createElement('div');n.addClass(i,u._CSS_MARKER);r=t._getContainer();r.appendChild(i);t._markerContainer=r;t._marker=i;t._createChildren()},u.prototype._removeMarker=function(){var n=this,t=n._markerContainer;t.removeChild(n._marker);n._content=null;n._hLine=null;n._vLine=null;t.hasChildNodes()||(n._chart.hostElement.removeChild(n._markerContainer),n._markerContainer=null);n._marker=null},u.prototype._getContainer=function(){var n=this._chart.hostElement.querySelector(u._CSS_MARKER_CONTAINER);return n||(n=this._createContainer()),n},u.prototype._createContainer=function(){var t=document.createElement('div'),i=this._chart.hostElement;return n.addClass(t,u._CSS_MARKER_CONTAINER),i.insertBefore(t,i.firstChild),t},u.prototype._createChildren=function(){var t=this,f=t._marker,e,o,s,i;i=document.createElement('div');i.style.position='absolute';i.style.height='100%';i.style.width='100%';f.appendChild(i);t._dragEle=i;e=document.createElement('div');n.addClass(e,u._CSS_MARKER_CONTENT);f.appendChild(e);t._markerContent=e;o=document.createElement('div');n.addClass(o,u._CSS_MARKER_HLINE);f.appendChild(o);t._hLine=o;s=document.createElement('div');n.addClass(s,u._CSS_MARKER_VLINE);f.appendChild(s);t._vLine=s;t._toggleElesDraggableClass(t._interaction===r.Drag);t._resetLinesVisibility()},u.prototype._toggleElesDraggableClass=function(t){var r=this;n.toggleClass(r._hLine,u._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._vLine,u._CSS_LINE_DRAGGABLE,t);n.toggleClass(r._dragEle,u._CSS_LINE_DRAGGABLE,t&&r._dragContent&&r._lines!==i.None)},u.prototype._updateMarkerSize=function(){var t=this,i=t._plotRect,r=t._chart.hostElement,u=window.getComputedStyle(r,null),f=n.getElementRect(r);t._marker&&(t._marker.style.marginTop=i.top-f.top-(parseFloat(u.getPropertyValue('padding-top'))||0)+'px',t._marker.style.marginLeft=i.left-f.left-(parseFloat(u.getPropertyValue('padding-left'))||0)+'px')},u.prototype._updateLinesSize=function(){var n=this,t=n._plotRect;n._hLine&&n._vLine&&(n._hLine.style.width=t.width+'px',n._vLine.style.height=t.height+'px')},u.prototype._resetLinesVisibility=function(){var n=this;n._hLine&&n._vLine&&(n._hide(n._hLine),n._hide(n._vLine),(n._lines===i.Horizontal||n._lines===i.Both)&&n._show(n._hLine),(n._lines===i.Vertical||n._lines===i.Both)&&n._show(n._vLine))},u.prototype._updateMarkerPosition=function(n){var t=this,f=t._plotRect,e=t._targetPoint,i,u,o=!1,s=t._interaction===r.Drag;t._plot&&(i=f.left+f.width*(t._horizontalPosition||0),u=f.top+f.height*(t._verticalPosition||0),t._horizontalPosition==null&&n&&(i=n.x),t._verticalPosition==null&&n&&(u=n.y),(i!==e.x||u!==e.y)&&(o=!0),e.x=i,e.y=u,t._toggleVisibility(),t._content&&t._updateContent(),o&&t._raisePositionChanged(i,u),t._updatePositionByAlignment(n?!0:!1))},u.prototype._updateContent=function(){var n=this,r=n._chart,t=n._targetPoint,u=r.hitTest(t),i;i=n._content.call(null,u,t);n._markerContent.innerHTML=i||''},u.prototype._raisePositionChanged=function(t,i){var r=this._plotRect;this.onPositionChanged(new n.Point(t,i))},u.prototype._updatePositionByAlignment=function(){var n=this,c=n._alignment,u=n._targetPoint,s=n._marker,t=0,i=0,o=s.clientWidth,h=s.clientHeight,e=n._plotRect,l=12;n._plot&&(!n._capturedEle||n._capturedEle&&n._capturedEle!==n._markerContent?(c===f.Auto?(u.x+o+l>e.left+e.width&&u.x-o>=0&&(i=o),t=h,u.y-h<e.top&&(t=0)):((1&c)==1&&(i=o),(2&c)==2&&(t=h)),n._interaction===r.Move&&t===0&&i===0&&(i=-l)):(parseInt(n._hLine.style.top)>0&&(t=h),parseInt(n._vLine.style.left)>0&&(i=o)),s.style.left=u.x-i-e.left+'px',s.style.top=u.y-t-e.top+'px',n._hLine.style.top=t+'px',n._hLine.style.left=e.left-u.x+i+'px',n._vLine.style.top=e.top-u.y+t+'px',n._vLine.style.left=i+'px')},u.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},u.prototype._pointInRect=function(n,t){return!n||!t?!1:n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},u}();u._CSS_MARKER='wj-chart-linemarker';u._CSS_MARKER_HLINE='wj-chart-linemarker-hline';u._CSS_MARKER_VLINE='wj-chart-linemarker-vline';u._CSS_MARKER_CONTENT='wj-chart-linemarker-content';u._CSS_MARKER_CONTAINER='wj-chart-linemarker-container';u._CSS_LINE_DRAGGABLE='wj-chart-linemarker-draggable';u._CSS_TOUCH_DISABLED='wj-flexchart-touch-disabled';t.LineMarker=u})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var f=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},set:function(n){n!==this._dataX&&(this._dataX=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},set:function(n){n!==this._dataY&&(this._dataY=n)},enumerable:!0,configurable:!0}),n}(),i,e,o,u,r,s;t._DataPoint=f,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(i=t._MeasureOption||(t._MeasureOption={}));e=function(){function t(n){this._rect=n}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,r){var u=t.x-n.x,f=t.y-n.y;return r==i.X?Math.abs(u):r==i.Y?Math.abs(f):Math.sqrt(u*u+f*f)},t.prototype.distance=function(t){var u=i.XY,r;return t.x===null?u=i.Y:t.y===null&&(u=i.X),r=this._rect,t.x<r.left?t.y<r.top?this.pointDistance(t,new n.Point(r.left,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.left,r.bottom),u):u==i.Y?0:r.left-t.x:t.x>r.right?t.y<r.top?this.pointDistance(t,new n.Point(r.right,r.top),u):t.y>r.bottom?this.pointDistance(t,new n.Point(r.right,r.bottom),u):u==i.Y?0:t.x-r.right:u==i.X?0:t.y<r.top?r.top-t.y:t.y>r.bottom?t.y-r.bottom:0},t}();t._RectArea=e;o=function(){function n(n,t){this._center=n;this.setRadius(t)}return n.prototype.setRadius=function(n){this._rad=n;this._rad2=n*n},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}();t._CircleArea=o;u=function(){function i(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return i.prototype.contains=function(){return!1},i.prototype.distance=function(i){for(var f,u=NaN,r=0;r<this._x.length-1;r++)f=t.FlexChart._dist(i,new n.Point(this._x[r],this._y[r]),new n.Point(this._x[r+1],this._y[r+1])),(isNaN(u)||f<u)&&(u=f);return u},i}();t._LinesArea=u;r=function(){function n(){}return n}();t._HitResult=r;s=function(){function i(n){this._map={};this._chart=n}return i.prototype.add=function(n,t){this._map[t]&&(n.tag||(n.tag=new f(t,NaN,NaN,NaN)),this._map[t].push(n))},i.prototype.clear=function(){var i,n;for(this._map={},i=this._chart.series,n=0;n<i.length;n++)i[n].hitTest===t.Series.prototype.hitTest&&(this._map[n]=[])},i.prototype.hitTest=function(t,i){var e,o,v,s,h,a,c;i===void 0&&(i=!1);var l=null,f=Number.MAX_VALUE,y=this._chart.series;for(e=y.length-1;e>=0;e--)if(o=this._map[e],o){for(v=o.length,s=v-1;s>=0;s--)if((h=o[s],!n.tryCast(h,u)||i)&&(a=h.distance(t),a<f&&(f=a,l=h,f==0)))break;if(f==0)break}return l?(c=new r,c.area=l,c.distance=f,c):null},i.prototype.hitTestSeries=function(n,t){var e=null,i=Number.MAX_VALUE,o=this._map[t],c,u,s,h,f;if(o)for(c=o.length,u=c-1;u>=0;u--)if(s=o[u],h=s.distance(n),h<i&&(i=h,e=s,i==0))break;return e?(f=new r,f.area=e,f.distance=i,f):null},i}();t._HitTester=s})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var i=function(){function i(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return i.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},i.prototype._renderLabels=function(i,r,u,f,e){var a=u.length,o=f.dataLabel,v=o.border,s=o.offset,y=o.connectingLine,h,c,l;for(s===undefined&&(s=y?16:0),v&&(s-=2),h=0;h<a;h++)c=u[h],l=n.asType(c.tag,t._DataPoint,!0),l&&this._renderLabel(i,c,l,f,o,r,s,e)},i.prototype._renderLabel=function(n,i,r,u,f,e,o,s){var p=f.position,w=f.border,b=f.connectingLine,a=new t.HitTestInfo(u,h),c,h,l,v,y;(a._setDataPoint(r),c=u._getLabelContent(a,f.content),h=this._getLabelPoint(e,r),this._getPointAndPosition(h,p,i,u),u._plotRect.contains(h))&&(l=new t.DataLabelRenderEventArgs(n,a,h,c),f.onRendering(l)&&(c=l.text,h=l.point,v=this._renderLabelAndBorder(n,c,p,o,h,b,2,w),v&&(y=new t._RectArea(v),y.tag=r,s.push(y))))},i.prototype._getPointAndPosition=function(n,i,r,u){if(r instanceof t._RectArea){var f=r;u._isRotated()?n.y=f.rect.top+.5*f.rect.height:n.x=f.rect.left+.5*f.rect.width}},i.prototype._getLabelPoint=function(t,i){var r=t._getAxisX(),u=t._getAxisY();return new n.Point(r.convert(i.dataX),u.convert(i.dataY))},i.prototype._renderLabelAndBorder=function(n,i,r,u,f,e,o,s){var h,c='wj-data-label',l='wj-data-label-line';switch(r){case t.LabelPosition.Top:e&&n.drawLine(f.x,f.y,f.x,f.y-u,l);f.y-=o+u;h=t.FlexChart._renderText(n,i,f,1,2,c);break;case t.LabelPosition.Bottom:e&&n.drawLine(f.x,f.y,f.x,f.y+u,l);f.y+=o+u;h=t.FlexChart._renderText(n,i,f,1,0,c);break;case t.LabelPosition.Left:e&&n.drawLine(f.x,f.y,f.x-u,f.y,l);f.x-=o+u;h=t.FlexChart._renderText(n,i,f,2,1,c);break;case t.LabelPosition.Right:e&&n.drawLine(f.x,f.y,f.x+u,f.y,l);f.x+=o+u;h=t.FlexChart._renderText(n,i,f,0,1,c);break;case t.LabelPosition.Center:h=t.FlexChart._renderText(n,i,f,1,1,c)}return s&&h&&n.drawRect(h.left-o,h.top-o,h.width+2*o,h.height+2*o,'wj-data-label-border'),h},i.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},i.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},i.prototype.isValid=function(i,r){return t._DataInfo.isValid(i)&&t._DataInfo.isValid(r)&&t.FlexChart._contains(this.chart._plotRect,new n.Point(i,r))},i.prototype.load=function(){},i.prototype.unload=function(){},i}();t._BasePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.origin=0,n.width=.7,n.isVolume=!1,n._volHelper=null,n.stackPosMap={},n.stackNegMap={},n.stacking=t.Stacking.None,n}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={};this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.adjustLimits=function(i){this.dataInfo=i;var e=i.getMinX(),r=i.getMinY(),o=i.getMaxX(),u=i.getMaxY(),f=i.getDeltaX();return f<=0&&(f=1),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),this.rotated?(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(r,e-.5*f,u-r,o-e+f)):(this.chart.axisY.logBase||(this.origin>u?u=this.origin:this.origin<r&&(r=this.origin)),new n.Rect(e-.5*f,r,o-e+f,u-r))},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ht=[],rt=this.chart.series.indexOf(f),ot=n.asType(f,t.SeriesBase),wi=this.chart.options,tt=this.width,it=0,gt,ct,nt,ei,ri,ai,a,l,v,y,w,p,li,k,d,b,ui,c,dt,g,pi,ft;o=o||0;s=s||1;wi&&wi.groupWidth&&(gt=wi.groupWidth,n.isNumber(gt)?(nt=n.asNumber(gt),isFinite(nt)&&nt>0&&(it=nt,tt=1)):n.isString(gt)&&(ct=n.asString(gt),ct&&ct.indexOf('%')>=0?(ct=ct.replace('%',''),nt=parseFloat(ct),isFinite(nt)&&(nt<0?nt=0:nt>100&&(nt=100),it=0,tt=nt/100)):(nt=parseFloat(ct),isFinite(nt)&&nt>0&&(it=nt,tt=1))));var ni=tt/s,bi=ot._getAxisY()._uniqueId,vt=this.stackNegMap[bi],yt=this.stackPosMap[bi],fi=f.getValues(0),et=f.getValues(1);if(fi){et||(et=this.dataInfo.getXVals());et&&(ei=this.dataInfo.getDeltaX(),ei>0&&(tt*=ei,ni*=ei));var lt=ot._getSymbolFill(rt),pt=ot._getAltSymbolFill(rt)||lt,at=ot._getSymbolStroke(rt),wt=ot._getAltSymbolStroke(rt)||at,bt=fi.length;et!=null&&(bt=Math.min(bt,et.length));var ut=this.origin,st=0,oi,si,ti=this.stacking!=t.Stacking.None,ii=this.stacking==t.Stacking.Stacked100pc;if(ot._getChartType()!==undefined&&(ti=ii=!1),this.rotated){ut<r.actualMin?ut=r.actualMin:ut>r.actualMax&&(ut=r.actualMax);ot._isCustomAxisY()&&(ti=ii=!1);var kt=r.convert(ut),vi=u.actualMin,yi=u.actualMax;for(a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a))),this._getSymbolStyles&&(y=this._getSymbolStyles(a),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.fill:at,wt=y&&y.stroke?y.fill:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(d=l-.5*tt,b=l+.5*tt,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],w=r.convert(k),p=r.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],w=r.convert(k),p=r.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(p,u.convert(l)));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.height,g<0&&(g=0),pi=c.top+.5*c.height,c.top+=(pi-c.top)*g,c.height=Math.min(it,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(p,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,k+v,l);this.hitTester.add(ft,rt)}else{if(d=l-.5*tt+o*ni,b=l-.5*tt+(o+1)*ni,d<vi&&b<vi||d>yi&&b>yi)continue;d=u.convert(d);b=u.convert(b);ui=r.convert(v);c=new n.Rect(Math.min(ui,kt),Math.min(d,b),Math.abs(kt-ui),Math.abs(b-d));h&&ht.push(new n.Point(ui,(d+b)/2));it>0&&(dt=it/s,g=1-dt/c.height,g<0&&(g=0),pi=u.convert(l),c.top+=(pi-c.top)*g,c.height=Math.min(dt,c.height));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(ui,c.top+.5*c.height));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,v,l);this.hitTester.add(ft,rt)}}else{ut<u.actualMin?ut=u.actualMin:ut>u.actualMax&&(ut=u.actualMax);var kt=u.convert(ut),hi=r.actualMin,ci=r.actualMax;for(ot._isCustomAxisY()&&(ti=ii=!1),a=0;a<bt;a++)if(l=et?et[a]:a,v=fi[a],this._getSymbolOrigin&&(kt=u.convert(this._getSymbolOrigin(ut,a,bt))),this._getSymbolStyles&&(y=this._getSymbolStyles(a,bt),lt=y&&y.fill?y.fill:lt,pt=y&&y.fill?y.fill:pt,at=y&&y.stroke?y.stroke:at,wt=y&&y.stroke?y.stroke:wt),oi=v>0?lt:pt,si=v>0?at:wt,i.fill=oi,i.stroke=si,t._DataInfo.isValid(l)&&t._DataInfo.isValid(v))if(ti){if(w=l-.5*tt,p=l+.5*tt,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ii&&(li=this.dataInfo.getStackedAbsSum(l),v=v/li);k=0;v>0?(k=isNaN(yt[l])?0:yt[l],d=u.convert(k),b=u.convert(k+v),yt[l]=k+v):(k=isNaN(vt[l])?0:vt[l],d=u.convert(k),b=u.convert(k+v),vt[l]=k+v);h&&ht.push(new n.Point(r.convert(l),b));c=new n.Rect(Math.min(w,p),Math.min(d,b),Math.abs(p-w),Math.abs(b-d));it>0&&(g=1-it/c.width,g<0&&(g=0),ai=c.left+.5*c.width,c.left+=(ai-c.left)*g,c.width=Math.min(it,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,b));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,k+v);this.hitTester.add(ft,rt)}else{if(w=l-.5*tt+o*ni,p=l-.5*tt+(o+1)*ni,w<hi&&p<hi||w>ci&&p>ci)continue;if(w=r.convert(w),p=r.convert(p),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(p))continue;ri=u.convert(v);c=new n.Rect(Math.min(w,p),Math.min(ri,kt),Math.abs(p-w),Math.abs(kt-ri));h&&ht.push(new n.Point((w+p)/2,ri));it>0&&(dt=it/s,g=1-dt/c.width,g<0&&(g=0),ai=r.convert(l),c.left+=(ai-c.left)*g,c.width=Math.min(dt,c.width));ft=new t._RectArea(c);this.drawSymbol(i,c,f,a,new n.Point(c.left+.5*c.width,ri));f._setPointIndex(a,st);st++;ft.tag=new t._DataPoint(rt,a,l,v);this.hitTester.add(ft,rt)}}h&&ht&&ht.length&&h(ht)}},r.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},r.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},r}(t._BasePlotter);t._BarPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){var n=i.call(this)||this;return n.hasSymbols=!1,n.hasLines=!0,n.isSpline=!1,n.stacking=t.Stacking.None,n.stackPos={},n.stackNeg={},n.clipping=!1,n}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&!this.chart.axisY.logBase&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var rt=[],y=n.asType(f,t.SeriesBase),v=this.chart.series.indexOf(f),tt=f.getValues(0),d=f.getValues(1),it,et,bt,ot,at,kt,vt,nt,p,k,st,c,l,a;if(tt){d||(d=this.dataInfo.getXVals());var ht=t._BasePlotter.cloneStyle(f.style,['fill']),g=tt.length,yt=!0;d?g=Math.min(g,d.length):(yt=!1,d=new Array(g));var dt=this._DEFAULT_WIDTH,ut=y._getSymbolFill(v),gt=y._getAltSymbolFill(v)||ut,ct=y._getSymbolStroke(v),ni=y._getAltSymbolStroke(v)||ct,lt=y._getSymbolSize();i.stroke=ct;i.strokeWidth=dt;i.fill=ut;var w=[],b=[],ft=[],ti=this.rotated,pt=this.stacking!=t.Stacking.None&&!y._isCustomAxisY(),wt=this.stacking==t.Stacking.Stacked100pc&&!y._isCustomAxisY();for(y._getChartType()!==undefined&&(pt=wt=!1),it=this.chart.interpolateNulls,et=!1,c=0;c<g;c++)l=yt?d[c]:c,a=tt[c],t._DataInfo.isValid(l)&&t._DataInfo.isValid(a)?(pt&&(wt&&(bt=this.dataInfo.getStackedAbsSum(l),a=a/bt),a>=0?(ot=isNaN(this.stackPos[l])?0:this.stackPos[l],a=this.stackPos[l]=ot+a):(ot=isNaN(this.stackNeg[l])?0:this.stackNeg[l],a=this.stackNeg[l]=ot+a)),ti?(at=new t._DataPoint(v,c,a,l),kt=r.convert(a),a=u.convert(l),l=kt):(at=new t._DataPoint(v,c,l,a),l=r.convert(l),a=u.convert(a)),isNaN(l)||isNaN(a)?(et=!0,it!==!0&&(w.push(undefined),b.push(undefined)),ft.push(!0)):(w.push(l),b.push(a),ft.push(!1),h&&rt.push(new n.Point(l,a)),vt=new t._CircleArea(new n.Point(l,a),.5*lt),vt.tag=at,this.hitTester.add(vt,v))):(et=!0,it!==!0&&(w.push(undefined),b.push(undefined)),ft.push(!0));if(nt=0,this.hasLines)if(i.fill=null,et&&it!==!0){for(p=[],k=[],c=0;c<g;c++)w[c]===undefined?(p.length>1&&(this._drawLines(i,p,k,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++),p=[],k=[]):(p.push(w[c]),k.push(b[c]));p.length>1&&(this._drawLines(i,p,k,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(p,k),v),nt++)}else this._drawLines(i,w,b,null,ht,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(w,b),v),nt++;if((this.hasSymbols||this.chart.itemFormatter)&&lt>0)for(i.fill=ut,st=0,c=0;c<g;c++)it&&ft[c]||(l=w[st],a=b[st],(this.hasLines===!1||this.chart.itemFormatter)&&(i.fill=tt[c]>0?ut:gt,i.stroke=tt[c]>0?ct:ni),this.isValid(l,a,r,u)&&(this._drawSymbol(i,l,a,lt,y,c),f._setPointIndex(c,nt),nt++),st++);h&&rt&&rt.length&&h(rt)}},r.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},r.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),s._setData(e,o),this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},r.prototype._drawDefaultSymbol=function(n,i,r,u,f,e){f==t.Marker.Dot?n.drawEllipse(i,r,.5*u,.5*u,null,e):f==t.Marker.Box&&n.drawRect(i-.5*u,r-.5*u,u,u,null,e)},r}(t._BasePlotter);t._LinePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){var n=i.call(this)||this;return n.stacking=t.Stacking.None,n.isSpline=!1,n.stackPos={},n.stackNeg={},n}return __extends(r,i),r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),this.chart.axisY.logBase||(i-=f),u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.plotSeries=function(i,r,u,f,e,o,s,h){var ct=[],d=this.chart.series.indexOf(f),vt=f,yt=f.getValues(0),it=f.getValues(1),rt,pt,v,w,b,ri,k,g,ht,a,y,p,nt,ni;if(yt&&(rt=yt.length,rt)){it||(it=this.dataInfo.getXVals());pt=!0;it?it.length<rt&&(rt=it.length):(pt=!1,it=new Array(rt));var c=[],l=[],et=[],ot=[],tt=this.stacking!=t.Stacking.None&&!vt._isCustomAxisY(),ti=this.stacking==t.Stacking.Stacked100pc&&!vt._isCustomAxisY();vt._getChartType()!==undefined&&(tt=ti=!1);var st=this.rotated,lt=!1,at=this.chart.interpolateNulls,ut=null,ft=null,ii=this.chart._plotRect;for(p=0;p<rt;p++)v=pt?it[p]:p,w=yt[p],(ut===null||v>ut)&&(ut=v),(ft===null||v<ft)&&(ft=v),t._DataInfo.isValid(v)&&t._DataInfo.isValid(w)?(b=st?u.convert(v):r.convert(v),tt&&(ti&&(ri=this.dataInfo.getStackedAbsSum(v),w=w/ri),k=0,w>=0?(k=isNaN(this.stackPos[v])?0:this.stackPos[v],w=this.stackPos[v]=k+w):(k=isNaN(this.stackNeg[v])?0:this.stackNeg[v],w=this.stackNeg[v]=k+w),st?(k<r.actualMin&&(k=r.actualMin),et.push(r.convert(k)),ot.push(b)):(et.push(b),k<u.actualMin&&(k=u.actualMin),ot.push(u.convert(k)))),st?(g=r.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(c.push(undefined),l.push(undefined))):(c.push(g),l.push(b),t.FlexChart._contains(ii,new n.Point(g,b))&&(ht=new t._CircleArea(new n.Point(g,b),this._DEFAULT_SYM_SIZE),ht.tag=new t._DataPoint(d,p,w,v),this.hitTester.add(ht,d)))):(g=u.convert(w),isNaN(b)||isNaN(g)?(lt=!0,tt||at===!0||(c.push(undefined),l.push(undefined))):(c.push(b),l.push(g),t.FlexChart._contains(ii,new n.Point(b,g))&&(ht=new t._CircleArea(new n.Point(b,g),this._DEFAULT_SYM_SIZE),ht.tag=new t._DataPoint(d,p,v,w),this.hitTester.add(ht,d))))):(lt=!0,tt||at===!0||(c.push(undefined),l.push(undefined)));h&&c.forEach(function(t,i){t!=null&&ct.push(new n.Point(t,l[i]))});var wt=this._DEFAULT_WIDTH,bt=e._getColorLight(d),kt=e._getColor(d),dt=t._BasePlotter.cloneStyle(f.style,['fill']),gt=t._BasePlotter.cloneStyle(f.style,['stroke']);if(!tt&&at!==!0&&lt){for(a=[],y=[],p=0;p<rt;p++)c[p]===undefined?(a.length>1&&(this.isSpline&&(nt=this._convertToSpline(a,y),a=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(a,y,null,dt),this.hitTester.add(new t._LinesArea(a,y),d),st?(a.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(a.push(a[a.length-1],a[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(a,y,null,gt)),a=[],y=[]):(a.push(c[p]),y.push(l[p]));a.length>1&&(this.isSpline&&(nt=this._convertToSpline(a,y),a=nt.xs,y=nt.ys),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(a,y,null,dt),this.hitTester.add(new t._LinesArea(a,y),d),st?(a.push(r.convert(r.actualMin),r.convert(r.actualMin)),y.push(u.convert(u.actualMax),u.convert(u.actualMin))):(a.push(a[a.length-1],a[0]),y.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(a,y,null,gt))}else this.isSpline&&(nt=this._convertToSpline(c,l),c=nt.xs,l=nt.ys),tt?(this.isSpline&&(ni=this._convertToSpline(et,ot),et=ni.xs,ot=ni.ys),c=c.concat(et.reverse()),l=l.concat(ot.reverse())):st?(c.push(r.convert(r.actualMin),r.convert(r.actualMin)),l[0]>l[l.length-1]?l.push(u.convert(ut),u.convert(ft)):l.push(u.convert(ft),u.convert(ut))):(c[0]>c[c.length-1]?c.push(r.convert(ft),r.convert(ut)):c.push(r.convert(ut),r.convert(ft)),l.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=bt,i.stroke='none',i.drawPolygon(c,l,null,gt),tt?(c=c.slice(0,c.length-et.length),l=l.slice(0,l.length-ot.length)):(c=c.slice(0,c.length-2),l=l.slice(0,l.length-2)),i.stroke=kt,i.strokeWidth=wt,i.fill='none',i.drawLines(c,l,null,dt),this.hitTester.add(new t._LinesArea(c,l),d);this._drawSymbols(i,f,d);h&&ct&&ct.length&&h(ct)}},r.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},r.prototype._drawSymbols=function(i,r,u){var o,f,e,h,s;if(this.chart.itemFormatter!=null)for(o=this.hitTester._map[u],f=0;f<o.length;f++)e=n.tryCast(o[f],t._CircleArea),e&&(h=e.tag,i.startGroup(),s=new t.HitTestInfo(this.chart,e.center,t.ChartElement.SeriesSymbol),s._setDataPoint(h),this.chart.itemFormatter(i,s,function(){}),i.endGroup())},r}(t._BasePlotter);t._AreaPlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){var n=i.call(this)||this;return n._MIN_SIZE=5,n._MAX_SIZE=30,n.hasLines=!1,n.hasSymbols=!0,n.clipping=!0,n}return __extends(r,i),r.prototype.adjustLimits=function(n,r){var v=this.getNumOption('minSize','bubble'),c,h,p,u,w,f,b,l,k,a;this._minSize=v?v:this._MIN_SIZE;c=this.getNumOption('maxSize','bubble');this._maxSize=c?c:this._MAX_SIZE;var y=this.chart.series,d=y.length,o=NaN,s=NaN;for(h=0;h<d;h++)if(p=y[h],u=p._getBindingValues(1),u)for(w=u.length,f=0;f<w;f++)t._DataInfo.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=i.prototype.adjustLimits.call(this,n,r),g=this.chart.axisX,nt=this.chart.axisY;return g.logBase<=0&&(b=r.width-this._maxSize,l=b/e.width,e.left-=this._maxSize*.5/l,e.width+=this._maxSize/l),nt.logBase<=0&&(k=r.height-this._maxSize,a=k/e.height,e.top-=this._maxSize*.5/a,e.height+=this._maxSize/a),e},r.prototype._drawSymbol=function(i,r,u,f,e,o){var d=this,l,a,v,y,f,b,p,s,k,h,c,w;if(this._minSize==null&&(l=this.getNumOption('minSize','bubble'),this._minSize=l?l:this._MIN_SIZE),this._maxSize==null&&(a=this.getNumOption('maxSize','bubble'),this._maxSize=a?a:this._MAX_SIZE),v=e._getItem(o),v&&(y=e._getBinding(1),y&&(f=v[y],t._DataInfo.isValid(f)&&(b=this._minValue==this._maxValue?1:Math.sqrt((f-this._minValue)/(this._maxValue-this._minValue)),f=this._minSize+(this._maxSize-this._minSize)*b,this.chart.itemFormatter?(p=new t.HitTestInfo(this.chart,new n.Point(r,u),t.ChartElement.SeriesSymbol),p._setData(e,o),i.startGroup(),this.chart.itemFormatter(i,p,function(){d._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle),s=this.hitTester._map[this.chart.series.indexOf(e)],s!=null))))for(k=s.length,h=k-1;h>=0;h--)c=s[h],c.tag&&c.tag.pointIndex==o&&(w=n.tryCast(c,t._CircleArea),w&&w.setRadius(.5*f))},r}(t._LinePlotter);t._BubblePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(i){function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.isCandle=!0,n.isArms=!1,n.isEqui=!1,n.isVolume=!1,n._volHelper=null,n._symWidth=.7,n}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===t.ChartType.Column?r._getBindingValues(1):f===t.ChartType.Candlestick?r._getBindingValues(4):null,l===n.DataType.Date)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.parseSymbolWidth=function(t){var u,r,i;this._isPixel=undefined;t&&(n.isNumber(t)?(u=n.asNumber(t),isFinite(u)&&u>0&&(this._symWidth=u,this._isPixel=!0)):n.isString(t)&&(r=n.asString(t),r&&r.indexOf('%')>=0?(r=r.replace('%',''),i=parseFloat(r),isFinite(i)&&(i<0?i=0:i>100&&(i=100),this._symWidth=i/100,this._isPixel=!1)):(i=parseFloat(t),isFinite(i)&&i>0&&(this._symWidth=i,this._isPixel=!0))))},r.prototype.adjustLimits=function(i){var a,u,s,v,h,tt,o,c,y;this.dataInfo=i;var f=i.getMinX(),r=i.getMinY(),p=i.getMaxX(),e=i.getMaxY(),l=i.getDeltaX(),it=this.chart._xDataType;l<=0&&(l=1);var w=this.chart.series,rt=w.length,b=0;for(this.parseSymbolWidth(this.symbolWidth),this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?this.load():this.unload(),a=0;a<rt;a++)if(u=w[a],!u._isCustomAxisY()){var k=u._getBinding(1),d=u._getBinding(2),g=u._getBinding(3),nt=u._getLength();if(nt)for(s=u._getSymbolSize(),s>b&&(b=s),v=0;v<nt;v++)h=u._getItem(v),h&&(tt=[k?h[k]:null,d?h[d]:null,g?h[g]:null],tt.forEach(function(n){t._DataInfo.isValid(n)&&n!==null&&((isNaN(r)||n<r)&&(r=n),(isNaN(e)||n>e)&&(e=n))}))}return o=p-f,c=this.chart._plotRect,c&&c.width&&!this.isVolume&&(s+=2,y=c.width/(c.width-s)*o,f=f-.5*(y-o),o=y),it===n.DataType.Date&&this.isVolume&&(this.chart._getChartType()===t.ChartType.Column||this.chart._getChartType()===t.ChartType.Candlestick)?new n.Rect(f-.5*l,r,p-f+l,e-r):this.chart._isRotated()?new n.Rect(r,f,e-r,o):new n.Rect(f,r,o,e-r)},r.prototype.plotSeries=function(i,r,u,f){var yt=this,o=n.asType(f,t.SeriesBase),a=this.chart.series.indexOf(f),d=f.getValues(0),c=f.getValues(1),ft=this._symWidth,et=this.chart._isRotated(),g,v,nt,e,l,ut;if(d){c||(c=this.dataInfo.getXVals());c&&(g=this.dataInfo.getDeltaX(),g>0&&this._isPixel===!1&&(ft*=g));v=d.length;nt=!0;c?v=Math.min(v,c.length):(nt=!1,c=new Array(v));var pt=this._DEFAULT_WIDTH,tt=o._getSymbolFill(a),ot=o._getAltSymbolFill(a)||"transparent",w=o._getSymbolStroke(a),st=o._getAltSymbolStroke(a)||w,ht=this._isPixel===undefined?o._getSymbolSize():ft;i.stroke=w;i.strokeWidth=pt;i.fill=tt;var ct=o._getBinding(1),lt=o._getBinding(2),h=o._getBinding(3),wt=et?u.actualMin:r.actualMin,bt=et?u.actualMax:r.actualMax,at=0,y,it,s=null,p=null;for(e=0;e<v;e++)if(s=o._getItem(e),s){if(l=nt?c[e]:e,t._DataInfo.isValid(l)&&wt<=l&&l<=bt){var rt=d[e],vt=ct?s[ct]:null,b=lt?s[lt]:null,k=h?s[h]:null;i.startGroup();this.isEqui&&p!==null?p[h]!==s[h]&&(y=p[h]<s[h]?ot:tt,it=p[h]<s[h]?st:w):(y=b<k?ot:tt,it=b<k?st:w);i.fill=y;i.stroke=it;this.chart.itemFormatter?(ut=new t.HitTestInfo(this.chart,new n.Point(r.convert(l),u.convert(rt)),t.ChartElement.SeriesSymbol),ut._setData(o,e),this.chart.itemFormatter(i,ut,function(){yt._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k)})):this._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k);i.endGroup();f._setPointIndex(e,at);at++}p=s}}},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v){var g=new t._DataPoint(f,e,h,c),k,y=null,w=null,p=null,b=null,d=this.chart._isRotated(),nt,tt;d&&(nt=u,u=r,r=nt);this._isPixel===!1&&(p=r.convert(h-.5*s),b=r.convert(h+.5*s),p>b&&(tt=p,p=b,b=tt));h=r.convert(h);this._isPixel!==!1&&(p=h-.5*s,b=h+.5*s);this.isCandle?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),d?(i.drawRect(y,p,w-y,b-p),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(c)&&(c=u.convert(c),y!==null&&(d?i.drawLine(w,h,c,h):i.drawLine(h,y,h,c))),t._DataInfo.isValid(l)&&(l=u.convert(l),w!==null&&(d?i.drawLine(y,h,l,h):i.drawLine(h,w,h,l)))):this.isEqui?t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f)):this.isArms?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),i.drawRect(p,y,b-p,w-y)),t._DataInfo.isValid(c)&&y!==null&&(c=u.convert(c),i.drawLine(h,y,h,c)),t._DataInfo.isValid(l)&&w!==null&&(l=u.convert(l),i.drawLine(h,w,h,l)),t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(i.fill="transparent",y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f))):(t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),d?(i.drawLine(l,h,c,h),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawLine(h,l,h,c),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(a)&&(a=u.convert(a),d?i.drawLine(a,p,a,h):i.drawLine(p,a,h,a)),t._DataInfo.isValid(v)&&(v=u.convert(v),d?i.drawLine(v,h,v,b):i.drawLine(h,v,b,v)))},r}(t._BasePlotter);t._FinancePlotter=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var r=function(r){function u(){var n=r!==null&&r.apply(this,arguments)||this;return n.stacking=t.Stacking.None,n}return __extends(u,r),u.prototype.adjustLimits=function(t){this.dataInfo=t;var i=t.getMinX(),r=t.getMinY(),u=t.getMaxX(),f=t.getMaxY();return this.rotated?new n.Rect(r,i,f-r,u-i):new n.Rect(i,r,u-i,f-r)},u.prototype.plotSeries=function(r,u,f,e){var lt=this.chart.series.indexOf(e),d,vt,pt,wt,kt,ht,h,ct;if(!(lt>0)){var g=n.asType(e,t.SeriesBase),w=this.chart.options,at=e.getValues(0),nt=e.getValues(1),v=this.chart._plotRect,tt=w&&w.funnel&&w.funnel.neckWidth!=null?w.funnel.neckWidth:.2,it=w&&w.funnel&&w.funnel.neckHeight!=null?w.funnel.neckHeight:0,y=tt*v.width,o=0,ni=0,ti=0,yt=0,ii,et,p,l,b,c=v.left,s=v.top,a=v.width,ri=v.height;if(at){for(y=y?y:1,nt||(nt=this.dataInfo.getXVals()),d=at.length,nt!=null&&(d=Math.min(d,nt.length)),o=0;o<d;o++)ni+=at[o];if(vt=0,w&&w.funnel&&w.funnel.type==='rectangle')for(it=ri/d,tt=a,o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(kt||(kt=a/k),ht=kt*k,c=c+(tt-ht)/2,r.drawRect(c,s,ht,it),rt=new i(new n.Point(c,s),ht,it,ht,it),s=s+it,tt=ht,rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}else for(ti=v.left+v.width*(1-tt)/2,yt=v.top+v.height*(1-it),et=(1-tt)*v.width/2/(v.height*(1-it)),(isNaN(et)||!isFinite(et))&&(a=y,c=ti,s=yt),ii=v.width*tt*v.height+v.width*(1-tt)/2*v.height*(1-it),o=0;o<d;o++){var bt=nt?nt[o]:o,k=at[o],dt=[],gt=[],rt,ut=g._getSymbolFill(o),ot=g._getAltSymbolFill(o)||ut,ft=g._getSymbolStroke(o),st=g._getAltSymbolStroke(o)||ft;this._getSymbolStyles&&(h=this._getSymbolStyles(o,d),ut=h&&h.fill?h.fill:ut,ot=h&&h.fill?h.fill:ot,ft=h&&h.stroke?h.stroke:ft,st=h&&h.stroke?h.stroke:st);pt=k>0?ut:ot;wt=k>0?ft:st;r.fill=pt;r.stroke=wt;t._DataInfo.isValid(bt)&&t._DataInfo.isValid(k)&&(ct=ii*k/ni,a>y?(l=this._getTrapezoidOffsetY(a,ct,et),s+l<yt?(p=et*l,dt=[c,c+p,c+a-p,c+a],gt=[s,s+l,s+l,s],rt=new i(new n.Point(c,s),a,l,a-p*2,0),a=a-2*p,c=c+p,s=s+l):(l=yt-s,p=et*l,ct=ct-this._getTrapezoidArea(a,et,l),b=ct/y,dt.push(c,c+p,c+p,c+p+y,c+p+y,c+a),gt.push(s,s+l,s+l+b,s+l+b,s+l,s),rt=new i(new n.Point(c,s),a,l+b,y,b),a=y,c=c+p,s=s+l+b),r.drawPolygon(dt,gt)):(b=ct/y,r.drawRect(c,s,a,b),rt=new i(new n.Point(c,s),y,b,y,b),s=s+b),rt.tag=new t._DataPoint(lt,o,bt,k),this.hitTester.add(rt,lt),e._setPointIndex(o,vt),vt++)}}}},u.prototype._getTrapezoidArea=function(n,t,i){var r=i*t;return r*i+(n-2*r)*i},u.prototype._getTrapezoidOffsetY=function(n,t,i){var r=Math.pow(n/2/i,2)-t/i;return n/2/i-Math.sqrt(r>=0?r:0)},u.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,t.ChartElement.SeriesSymbol),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},u.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},u.prototype._getPointAndPosition=function(n,i,r){var u=r;n.x=u.center.x;n.y=u.center.y;i=i==null?t.LabelPosition.Center:i},u}(t._BasePlotter),i;t._FunnelPlotter=r;i=function(){function t(t,i,r,u,f){this._startPoint=t;this._width=i;this._height=r;this._neckWidth=u;this._neckHeight=f;this._center=new n.Point(this._startPoint.x+i/2,this._startPoint.y+r/2);this._offsetX=(i-u)/2;this._offsetY=r-f}return t.prototype.contains=function(n){var t=this._startPoint,i=this._offsetX,r=this._offsetY;if(n.x>=t.x&&n.x<=t.x+this._width&&n.y>=t.y&&n.y<=t.y+this._height){if(n.x>=t.x+i&&n.x<=t.x+this._width-i)return!0;if(n.y>t.y+r)return!1;if(n.x<this._center.x)return(n.y-t.y)/(n.x-t.x)<r/i;if(n.x>this._center.x)return(n.y-t.y)/(t.x+this._width-n.x)<r/i}return!1},t.prototype.distance=function(n){if(this.contains(n))return 0;var t=this._startPoint,i=this._width,f=this._height,r=this._offsetX,u=this._offsetY;if(n.y<t.y)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(t.y-n.y,2)):t.y-n.y;if(n.y>t.y+f)return n.x<t.x?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y-f,2)):n.x>t.x+i?Math.sqrt(Math.pow(n.x-t.x-i,2)+Math.pow(n.y-t.y-f,2)):n.y-t.y-f;if(n.y>t.y+u){if(n.x<t.x+r)return t.x+r-n.x;if(n.x>t.x+i-r)return n.x-t.x-i+r}else return n.x<t.x+r?Math.min(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-r-t.x,2)+Math.pow(n.y-u-t.y,2))):Math.min(Math.sqrt(Math.pow(n.x-i-t.x,2)+Math.pow(n.y-t.y,2)),Math.sqrt(Math.pow(n.x-i+r/2-t.x,2)+Math.pow(n.y-u/2-t.y,2)),Math.sqrt(Math.pow(n.x-i+r-t.x,2)+Math.pow(n.y-u-t.y,2)));return undefined},Object.defineProperty(t.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),t}();t._FunnelSegment=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){"use strict";var i=function(){function t(t,i,r,u,f){this._volumes=n.asArray(t);this._xVals=n.asArray(i);this._xDataMin=n.asNumber(r,!0,!1);this._xDataMax=n.asNumber(u,!0,!1);this._xDataType=n.asEnum(f,n.DataType,!0);this._calcData=[];this._init()}return t.prototype.convert=function(i,r,u){var s=undefined,o=this._calcData.length,f=-1,e;if(this._hasXs&&this._xDataType===n.DataType.Date){if(f=this._xVals.indexOf(i),f===-1)for(e=0;e<this._xVals.length;e++)if(e<this._xVals.length-1&&this._xVals[e]<=i&&i<=this._xVals[e+1]){f=e;break}else if(e===0&&i<=this._xVals[e]){f=e;break}else if(e===this._xVals.length-1&&this._xVals[e]<=i){f=e;break}f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))}else this._hasXs?(f=this._xVals.indexOf(i),f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,o-1))):f=n.clamp(Math.round(i),0,o-1);return 0<=f&&f<o&&(this._hasXs&&(i=t.convertToRange(i,0,o-1,this._xDataMin,this._xDataMax)),s=this._calcData[f].value+(i-f)*this._calcData[f].width-.5*this._calcData[f].width,r=this._getXVolume(r),u=this._getXVolume(u),s=(s-r)/(u-r)),s},t.prototype.convertBack=function(n){for(var u=undefined,f=this._calcData.length,r=-1,i=0;i<f;i++)if(this._calcData[i].x1<=n&&n<=this._calcData[i].x2||i===0&&n<=this._calcData[i].x2||i===f-1&&this._calcData[i].x1<=n){r=i;break}return 0<=r&&r<f&&(u=n/this._calcData[r].width-this._calcData[r].value/this._calcData[r].width+.5+i,this._hasXs&&(u=t.convertToRange(u,this._xDataMin,this._xDataMax,0,f-1))),u},t.prototype._init=function(){var r,u,i;this._hasXs=this._xVals!==null&&this._xVals.length>0;this._hasXs&&!n.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals));this._hasXs&&!n.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals));this._hasXs&&(this._hasXs=n.isNumber(this._xDataMin)&&n.isNumber(this._xDataMax));this._hasXs&&this._xDataType===n.DataType.Date&&this._fillGaps();for(var f=0,t=0,e=this._volumes!==null&&this._volumes.length>0?this._volumes.length:0,t=0;t<e;t++)f+=this._volumes[t];for(i=0,t=0;t<e;t++)u=this._volumes[t]/f,r=i+u,this._calcData.push({value:r,width:u,x1:i,x2:r}),i=this._calcData[t].value},t.prototype._getXVolume=function(i){var f=this._calcData.length,u=-1,r;if(this._hasXs)for(u=this._xVals.indexOf(i),r=0;r<this._xVals.length;r++)if(r<this._xVals.length-1&&this._xVals[r]<=i&&i<=this._xVals[r+1]){u=r;break}else if(r===0&&i<=this._xVals[r]){u=r;break}else if(r===this._xVals.length-1&&this._xVals[r]<=i){u=r;break}return this._hasXs&&(i=t.convertToRange(i,0,f-1,this._xDataMin,this._xDataMax)),u===-1&&(u=n.clamp(Math.round(i),0,f-1)),this._calcData[u].value+(i-u)*this._calcData[u].width-.5*this._calcData[u].width},t.convertToRange=function(n,t,i,r,u){return t===i||r===u?0:(n-r)*(i-t)/(u-r)+t},t.prototype._fillGaps=function(){if(this._xDataType===n.DataType.Date&&this._xVals!==null&&!(this._xVals.length<=0))for(var t=this._xDataMin,r=this._xDataMax,i=1;t<r;i++)t=new Date(t),t.setDate(t.getDate()+1),t=t.valueOf(),t!==this._xVals[i]&&(this._xVals.splice(i,0,t),this._volumes.splice(i,0,0))},t}();t._VolumeHelper=i})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))